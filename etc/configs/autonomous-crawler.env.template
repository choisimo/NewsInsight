# ===================================
# Autonomous Crawler Service - Consul KV Configuration Template
# ===================================
# Add these lines to etc/configs/development.env (or staging.env / production.env)
# The consul_seed.sh script will parse AUTONOMOUS_CRAWLER_* prefixed keys
# and store them in Consul KV under config/autonomous-crawler/
#
# Example: AUTONOMOUS_CRAWLER_LLM_PROVIDER=openai
#   â†’ Consul KV: config/autonomous-crawler/LLM_PROVIDER = openai

# -----------------------------------
# Kafka Settings
# -----------------------------------
AUTONOMOUS_CRAWLER_KAFKA_BOOTSTRAP_SERVERS=redpanda-dev:9092
AUTONOMOUS_CRAWLER_KAFKA_CONSUMER_GROUP_ID=autonomous-crawler-group
AUTONOMOUS_CRAWLER_KAFKA_BROWSER_TASK_TOPIC=newsinsight.crawl.browser.tasks
AUTONOMOUS_CRAWLER_KAFKA_CRAWL_RESULT_TOPIC=newsinsight.crawl.results

# -----------------------------------
# Browser Settings
# -----------------------------------
AUTONOMOUS_CRAWLER_BROWSER_HEADLESS=true
AUTONOMOUS_CRAWLER_BROWSER_MAX_CONCURRENT_SESSIONS=2
AUTONOMOUS_CRAWLER_BROWSER_DEFAULT_TIMEOUT_SECONDS=300
AUTONOMOUS_CRAWLER_BROWSER_MAX_TIMEOUT_SECONDS=600

# -----------------------------------
# LLM Settings
# -----------------------------------
AUTONOMOUS_CRAWLER_LLM_PROVIDER=openai
AUTONOMOUS_CRAWLER_LLM_OPENAI_API_KEY=REPLACE_WITH_YOUR_OPENAI_API_KEY
AUTONOMOUS_CRAWLER_LLM_OPENAI_MODEL=gpt-4o
AUTONOMOUS_CRAWLER_LLM_ANTHROPIC_API_KEY=REPLACE_WITH_YOUR_ANTHROPIC_API_KEY
AUTONOMOUS_CRAWLER_LLM_ANTHROPIC_MODEL=claude-3-5-sonnet-20241022
AUTONOMOUS_CRAWLER_LLM_TEMPERATURE=0.0
AUTONOMOUS_CRAWLER_LLM_MAX_TOKENS=4096

# -----------------------------------
# Search API Settings (for CAPTCHA bypass)
# -----------------------------------
# Brave Search API (https://brave.com/search/api/)
AUTONOMOUS_CRAWLER_SEARCH_BRAVE_API_KEY=REPLACE_WITH_YOUR_BRAVE_API_KEY

# Tavily Search API (https://tavily.com/)
AUTONOMOUS_CRAWLER_SEARCH_TAVILY_API_KEY=REPLACE_WITH_YOUR_TAVILY_API_KEY

# Perplexity API (https://docs.perplexity.ai/)
AUTONOMOUS_CRAWLER_SEARCH_PERPLEXITY_API_KEY=REPLACE_WITH_YOUR_PERPLEXITY_API_KEY

# Search configuration
AUTONOMOUS_CRAWLER_SEARCH_TIMEOUT=30.0
AUTONOMOUS_CRAWLER_SEARCH_MAX_RESULTS_PER_PROVIDER=10
AUTONOMOUS_CRAWLER_SEARCH_MAX_TOTAL_RESULTS=30
AUTONOMOUS_CRAWLER_SEARCH_ENABLE_PARALLEL=true

# -----------------------------------
# Stealth/Anti-Detection Settings
# -----------------------------------
AUTONOMOUS_CRAWLER_STEALTH_ENABLED=true
AUTONOMOUS_CRAWLER_STEALTH_HIDE_WEBDRIVER=true
AUTONOMOUS_CRAWLER_STEALTH_HIDE_AUTOMATION=true
AUTONOMOUS_CRAWLER_STEALTH_MASK_WEBGL=true
AUTONOMOUS_CRAWLER_STEALTH_RANDOM_USER_AGENT=false

# -----------------------------------
# CAPTCHA Solving Settings
# -----------------------------------
AUTONOMOUS_CRAWLER_CAPTCHA_ENABLED=true
AUTONOMOUS_CRAWLER_CAPTCHA_PREFER_AUDIO=true
AUTONOMOUS_CRAWLER_CAPTCHA_CLOUDFLARE_DELAY=10
AUTONOMOUS_CRAWLER_CAPTCHA_MAX_ATTEMPTS=3

# -----------------------------------
# Metrics Settings
# -----------------------------------
AUTONOMOUS_CRAWLER_METRICS_ENABLED=true
AUTONOMOUS_CRAWLER_METRICS_PORT=9090
AUTONOMOUS_CRAWLER_LOG_LEVEL=INFO
AUTONOMOUS_CRAWLER_LOG_FORMAT=json
