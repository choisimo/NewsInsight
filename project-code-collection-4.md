# Project Code Snapshot

Generated at 2025-12-22T11:56:45.076Z

---

## etc/docker/docker-compose.consul.yml

```yml
# Unified stack with Consul KV and all present services
services:
  consul:
    image: hashicorp/consul:1.18
    command: ["agent", "-dev", "-client", "0.0.0.0", "-ui"]
    ports:
      - "8505:8500"  # Consul UI/API
    environment:
      # Optional: advertise container hostname in logs
      - CONSUL_BIND_INTERFACE=eth0
    healthcheck:
      test: ["CMD", "sh", "-c", "wget -qO- http://localhost:8500/v1/status/leader 2>/dev/null | grep -q '\"'"]
      interval: 3s
      timeout: 5s
      retries: 30
      start_period: 5s
    networks:
      - default

  # Init container to seed Consul KV with configuration and register services
  consul-seed:
    image: alpine:3.18
    depends_on:
      consul:
        condition: service_healthy
    volumes:
      - ../../etc/scripts:/scripts:ro
      - ../../etc/configs:/configs:ro
    environment:
      - CONSUL_HTTP_ADDR=http://consul:8500
      - CONSUL_HTTP_TOKEN=${CONSUL_HTTP_TOKEN:-}
    command: >
      sh -c "
        apk add --no-cache curl bash jq &&
        echo 'Waiting for Consul to be fully ready...' &&
        for i in 1 2 3 4 5; do
          if curl -sf http://consul:8500/v1/status/leader > /dev/null 2>&1; then
            echo 'Consul is ready, starting seed...';
            break;
          fi;
          echo \"Attempt $$i: Consul not ready, waiting 2s...\";
          sleep 2;
        done &&
        /scripts/consul_seed.sh ${ENVIRONMENT:-development} --json
      "
    restart: "no"
    networks:
      - default

  # Admin Dashboard API - 관리자 인증/환경 관리
  admin-dashboard:
    build:
      context: ../../backend/admin-dashboard
      dockerfile: Dockerfile
    image: newsinsight/admin-dashboard:local
    restart: unless-stopped
    environment:
      - PORT=8888
      - PROJECT_ROOT=/workspace
      - ADMIN_CONFIG_DIR=/app/config
      - CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8080,http://localhost:8810,http://frontend:8080
      # Service URLs for internal Docker network communication
      - COLLECTOR_SERVICE_URL=http://collector-service:8081
      - CRAWLER_SERVICE_URL=http://autonomous-crawler:8030
    volumes:
      # Docker socket for environment management (docker-compose operations)
      - /var/run/docker.sock:/var/run/docker.sock:ro
      # Project root for accessing docker-compose files
      - ../../:/workspace:ro
      # Persist admin config (users, etc.)
      - admin-config:/app/config
    expose:
      - "8888"
    ports:
      - "8888:8888"  # Direct access for debugging
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8888/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 10s
    networks:
      - default

  api-gateway:
    build:
      context: ../../
      dockerfile: backend/api-gateway-service/Dockerfile
    image: newsinsight/api-gateway:local
    depends_on:
      consul:
        condition: service_healthy
      consul-seed:
        condition: service_completed_successfully
      collector-service:
        condition: service_started
      browser-use-api:
        condition: service_started
      sentiment-addon:
        condition: service_started
      factcheck-addon:
        condition: service_started
      bias-addon:
        condition: service_started
      bot-detector:
        condition: service_started
      admin-dashboard:
        condition: service_started
      ml-trainer:
        condition: service_started
      autonomous-crawler:
        condition: service_started
    environment:
      # Consul access for config loading in the app
      - CONSUL_HOST=${CONSUL_HOST:-consul}
      - CONSUL_PORT=${CONSUL_PORT:-8500}
      - CONSUL_HTTP_TOKEN=${CONSUL_HTTP_TOKEN:-}
      # Redis for rate limiting
      - REDIS_HOST=${REDIS_HOST:-redis}
      - REDIS_PORT=${REDIS_PORT:-6379}
      # Service port
      - PORT=${API_GATEWAY_PORT:-8000}
      # Admin Dashboard URL (for routing)
      - ADMIN_DASHBOARD_URL=http://admin-dashboard:8888
      # Browser-Use API URLs (for routing)
      - BROWSER_USE_URL=http://browser-use-api:8500
      - BROWSER_USE_WS_URL=ws://browser-use-api:8500
      # ML Add-ons URLs (for routing)
      - ML_ADDON_SENTIMENT_URL=http://sentiment-addon:8100
      - ML_ADDON_FACTCHECK_URL=http://factcheck-addon:8101
      - ML_ADDON_BIAS_URL=http://bias-addon:8102
      - ML_ADDON_BOT_DETECTOR_URL=http://bot-detector:8041
      - ML_TRAINER_URL=http://ml-trainer:8090
    ports:
      - "8112:8000"  # keep gateway reachable from host
    networks:
      - default

  bot-detector:
    build:
      context: ../../
      dockerfile: backend/services/bot-detector/Dockerfile
    image: newsinsight/bot-detector:local
    restart: unless-stopped
    environment:
      - BOT_DETECTOR_MODEL_NAME=${BOT_DETECTOR_MODEL_NAME:-roberta-base-openai-detector}
      - PORT=8041
    expose:
      - "8041"
    ports:
      - "8041:8041"
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8041/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 60s
    networks:
      - default
      - newsinsight-shared-net

  frontend:
    image: node:20-alpine
    working_dir: /app
    volumes:
      - ../../frontend:/app
      - frontend-node-modules:/app/node_modules
    environment:
      # Docker 내부 네트워크: API Gateway 서비스 이름 사용
      - VITE_API_BASE_URL=http://api-gateway:8000
      - VITE_BROWSER_USE_URL=http://api-gateway:8000
    extra_hosts:
      - "host.docker.internal:host-gateway"
    command: >
      sh -c "(npm ci --legacy-peer-deps || npm install --legacy-peer-deps) \
      && npm run dev -- --host 0.0.0.0 --port 8080"
    ports:
      - "8810:8080"
    depends_on:
      api-gateway:
        condition: service_started
    networks:
      - default

  collector-service:
    build:
      context: ../../
      dockerfile: backend/data-collection-service/Dockerfile
    image: newsinsight/collector-service:local
    depends_on:
      consul:
        condition: service_healthy
      consul-seed:
        condition: service_completed_successfully
      postgres:
        condition: service_healthy
      mongo:
        condition: service_healthy
      web-crawler:
        condition: service_started
      redpanda-dev:
        condition: service_started
      # Use service_started to avoid blocking on autonomous-crawler healthcheck
      # collector-service will retry connections internally
      autonomous-crawler:
        condition: service_started
    environment:
      # Consul configuration
      - CONSUL_HOST=${CONSUL_HOST:-consul}
      - CONSUL_PORT=${CONSUL_PORT:-8500}
      - CONSUL_ENABLED=${CONSUL_ENABLED:-true}
      - "SPRING_CONFIG_IMPORT=consul:"
      - SPRING_PROFILES_ACTIVE=local-consul
      - SPRING_CLOUD_CONSUL_CONFIG_ENABLED=true
      - SPRING_CLOUD_CONSUL_CONFIG_PREFIX=config
      - SPRING_CLOUD_CONSUL_CONFIG_DEFAULT_CONTEXT=collector-service
      - SPRING_CLOUD_CONSUL_CONFIG_FORMAT=YAML
      - SPRING_CLOUD_CONSUL_CONFIG_FAIL_FAST=true
      - REDIS_HOST=${REDIS_HOST:-redis}
      - REDIS_PORT=${REDIS_PORT:-6379}
      - SPRING_DATA_REDIS_HOST=${REDIS_HOST:-redis}
      - SPRING_DATA_REDIS_PORT=${REDIS_PORT:-6379}
      - SPRING_JPA_HIBERNATE_DDL_AUTO=update
      - PERPLEXITY_API_KEY=${PERPLEXITY_API_KEY:-}
      - PERPLEXITY_MODEL=${PERPLEXITY_MODEL:-sonar}
      - PERPLEXITY_BASE_URL=${PERPLEXITY_BASE_URL:-https://api.perplexity.ai}
      # AI Service URLs (can be overridden via Consul KV)
      - COLLECTOR_AIDOVE_BASE_URL=${COLLECTOR_SERVICE_AIDOVE_BASE_URL:-https://workflow.nodove.com/webhook/aidove}
      - COLLECTOR_CALLBACK_BASE_URL=${COLLECTOR_SERVICE_CALLBACK_BASE_URL:-http://collector-service:8081}
      # DeepSearch - uses IntegratedCrawlerService (n8n deprecated)
      - COLLECTOR_DEEP_SEARCH_ENABLED=false
      - COLLECTOR_DEEP_SEARCH_FALLBACK_TO_WEBHOOK=false
      # Auto-Crawl Configuration (실시간 확장형 크롤링)
      - AUTOCRAWL_ENABLED=true
      - AUTOCRAWL_BATCH_SIZE=10
      - AUTOCRAWL_MAX_CONCURRENT_PER_DOMAIN=3
      - AUTOCRAWL_DISCOVER_FROM_SEARCH=true
      - AUTOCRAWL_DISCOVER_FROM_ARTICLES=true
      - AUTOCRAWL_DISCOVER_FROM_DEEP_SEARCH=true
      # Auto-Crawl Seed 초기화 (시작 시 자동 크롤링)
      # Note: Spring reads autocrawl.seed.enabled from application.yml, which defaults to false
      # We override it via environment variable naming convention: AUTOCRAWL_SEED_ENABLED -> autocrawl.seed.enabled
      - AUTOCRAWL_SEED_ENABLED=true
      - AUTOCRAWL_SEED_URLS=${AUTOCRAWL_SEED_URLS:-}
      - AUTOCRAWL_SEED_KEYWORDS=${AUTOCRAWL_SEED_KEYWORDS:-뉴스,정치,경제,사회,IT,기술}
      - AUTOCRAWL_SEED_PRIORITY=${AUTOCRAWL_SEED_PRIORITY:-70}
      # Database configuration
      - DB_HOST=${DB_HOST:-postgres}
      - DB_PORT=${DB_PORT:-5432}
      - DB_NAME=${DB_NAME:-newsinsight}
      - DB_USER=${DB_USER:-postgres}
      - DB_PASSWORD=${DB_PASSWORD:-postgres}
      - MONGODB_URI=${MONGODB_URI:-mongodb://mongo:27017/newsinsight}
      # Kafka configuration - connecting to redpanda-dev on newsinsight-shared-net
      - KAFKA_BOOTSTRAP_SERVERS=${KAFKA_BOOTSTRAP_SERVERS:-redpanda-dev:9092}
      # Service port
      - SERVER_PORT=${COLLECTOR_PORT:-8081}
      # Force Consul to register with newsinsight-net IP (not newsinsight-shared-net IP)
      - SPRING_CLOUD_INETUTILS_PREFERRED_NETWORKS=172.20
    expose:
      - "8081"
    networks:
      - default
      - newsinsight-shared-net

  # Crawl4AI web-crawler service
  web-crawler:
    image: unclecode/crawl4ai:latest
    shm_size: 1g
    environment:
      - LOG_LEVEL=${WEB_CRAWLER_LOG_LEVEL:-INFO}
    ports:
      - "11235:11235"  # playground and API
    healthcheck:
      test: ["CMD", "wget", "-qO-", "http://localhost:11235/health"]
      interval: 10s
      timeout: 5s
      retries: 10

  # PostgreSQL database
  postgres:
    image: postgres:15-alpine
    environment:
      - POSTGRES_DB=${DB_NAME:-newsinsight}
      - POSTGRES_USER=${DB_USER:-postgres}
      - POSTGRES_PASSWORD=${DB_PASSWORD:-postgres}
    expose:
      - "5432"
    volumes:
      - postgres-data:/var/lib/postgresql/data
      - ./db-init:/docker-entrypoint-initdb.d:ro
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U postgres"]
      interval: 5s
      timeout: 3s
      retries: 5

  # MongoDB for AI response storage
  mongo:
    image: mongo:7
    restart: unless-stopped
    environment:
      - MONGO_INITDB_DATABASE=${DB_NAME:-newsinsight}
    expose:
      - "27017"
    volumes:
      - mongo-data:/data/db
    healthcheck:
      test: ["CMD", "mongosh", "--eval", "db.adminCommand('ping')"]
      interval: 10s
      timeout: 5s
      retries: 5

  redpanda-dev:
    image: docker.redpanda.com/redpandadata/redpanda:latest
    command:
      - redpanda
      - start
      - --overprovisioned
      - --smp
      - "1"
      - --memory
      - 1G
      - --reserve-memory
      - 0M
      - --node-id
      - "0"
      - --check=false
      - --kafka-addr
      - PLAINTEXT://0.0.0.0:9092
      - --advertise-kafka-addr
      - PLAINTEXT://redpanda-dev:9092
    ports:
      - "19093:9092"
      - "19644:9644"
    networks:
      - default
      - newsinsight-shared-net

  # Redis for API Gateway rate limiting
  redis:
    image: redis:7-alpine
    expose:
      - "6379"
    command: redis-server --appendonly yes
    volumes:
      - redis-data:/data
    healthcheck:
      test: ["CMD", "redis-cli", "ping"]
      interval: 5s
      timeout: 3s
      retries: 5

  # Autonomous Crawler Service (browser-use + AI)
  autonomous-crawler:
    build:
      context: ../../
      dockerfile: backend/autonomous-crawler-service/Dockerfile
    image: newsinsight/autonomous-crawler:local
    restart: unless-stopped
    depends_on:
      consul:
        condition: service_healthy
      consul-seed:
        condition: service_completed_successfully
      redpanda-dev:
        condition: service_started
      redis:
        condition: service_healthy
      # MCP servers - use service_started to avoid long dependency chains
      # MCP healthchecks will retry internally if services aren't ready
      newsinsight-mcp:
        condition: service_started
      bias-mcp:
        condition: service_started
      factcheck-mcp:
        condition: service_started
      topic-mcp:
        condition: service_started
      aiagent-mcp:
        condition: service_started
      huggingface-mcp:
        condition: service_started
      kaggle-mcp:
        condition: service_started
      mltraining-mcp:
        condition: service_started
      roboflow-mcp:
        condition: service_started
    environment:
      # Consul configuration
      - CONSUL_HOST=${CONSUL_HOST:-consul}
      - CONSUL_PORT=${CONSUL_PORT:-8500}
      - CONSUL_HTTP_TOKEN=${CONSUL_HTTP_TOKEN:-}
      - CONSUL_ENABLED=${CONSUL_ENABLED:-true}
      - CONSUL_SERVICE_NAME=autonomous-crawler
      # Service mode: kafka, api, or hybrid (both Kafka + REST API)
      - SERVICE_MODE=${SERVICE_MODE:-hybrid}
      - API_PORT=${CRAWLER_API_PORT:-8030}
      # Kafka configuration - MUST match collector-service topic names
      - KAFKA_BOOTSTRAP_SERVERS=${KAFKA_BOOTSTRAP_SERVERS:-redpanda-dev:9092}
      - KAFKA_CONSUMER_GROUP_ID=${CRAWLER_CONSUMER_GROUP:-autonomous-crawler-group}
      - KAFKA_BROWSER_TASK_TOPIC=newsinsight.crawl.browser.tasks
      - KAFKA_CRAWL_RESULT_TOPIC=newsinsight.crawl.results
      # Browser settings
      - BROWSER_HEADLESS=${CRAWLER_HEADLESS:-true}
      - BROWSER_MAX_CONCURRENT_SESSIONS=${CRAWLER_MAX_SESSIONS:-2}
      - BROWSER_DEFAULT_TIMEOUT_SECONDS=${CRAWLER_TIMEOUT:-300}
      - BROWSER_IS_DOCKER_ENV=true
      # LLM configuration
      # Supported providers: openai, anthropic, openrouter, ollama, custom
      # Default to 'custom' with AIDove webhook (no API key required)
      - LLM_PROVIDER=${CRAWLER_LLM_PROVIDER:-custom}
      # OpenAI settings
      - LLM_OPENAI_API_KEY=${OPENAI_API_KEY:-}
      - LLM_OPENAI_MODEL=${CRAWLER_OPENAI_MODEL:-gpt-4o}
      - LLM_OPENAI_BASE_URL=${OPENAI_BASE_URL:-}
      # Anthropic settings
      - LLM_ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY:-}
      - LLM_ANTHROPIC_MODEL=${CRAWLER_ANTHROPIC_MODEL:-claude-3-5-sonnet-20241022}
      # OpenRouter settings (https://openrouter.ai - access multiple models)
      - LLM_OPENROUTER_API_KEY=${OPENROUTER_API_KEY:-}
      - LLM_OPENROUTER_MODEL=${OPENROUTER_MODEL:-anthropic/claude-3.5-sonnet}
      - LLM_OPENROUTER_BASE_URL=${OPENROUTER_BASE_URL:-https://openrouter.ai/api/v1}
      # Ollama settings (local LLM)
      - LLM_OLLAMA_BASE_URL=${OLLAMA_BASE_URL:-http://host.docker.internal:11434}
      - LLM_OLLAMA_MODEL=${OLLAMA_MODEL:-llama3.2}
      # Custom API settings (default: AIDove webhook - no API key required)
      - LLM_CUSTOM_API_KEY=${CUSTOM_LLM_API_KEY:-}
      - LLM_CUSTOM_BASE_URL=${CUSTOM_LLM_BASE_URL:-https://workflow.nodove.com/webhook/aidove}
      - LLM_CUSTOM_MODEL=${CUSTOM_LLM_MODEL:-aidove}
      - 'LLM_CUSTOM_REQUEST_FORMAT=${CUSTOM_LLM_REQUEST_FORMAT:-{"chatInput": "{prompt}"}}'
      - LLM_CUSTOM_RESPONSE_PATH=${CUSTOM_LLM_RESPONSE_PATH:-reply}
      # Search API keys (loaded from Consul KV)
      - SEARCH_BRAVE_API_KEY=${SEARCH_BRAVE_API_KEY:-}
      - SEARCH_TAVILY_API_KEY=${SEARCH_TAVILY_API_KEY:-}
      - SEARCH_PERPLEXITY_API_KEY=${SEARCH_PERPLEXITY_API_KEY:-}
      # Stealth/CAPTCHA settings
      - STEALTH_ENABLED=${STEALTH_ENABLED:-true}
      - CAPTCHA_ENABLED=${CAPTCHA_ENABLED:-true}
      # Paid CAPTCHA solver API keys (for reliable search portal bypass)
      # Get CapSolver key at: https://capsolver.com (recommended for Turnstile)
      - CAPTCHA_CAPSOLVER_API_KEY=${CAPTCHA_CAPSOLVER_API_KEY:-}
      # Get 2Captcha key at: https://2captcha.com
      - CAPTCHA_TWOCAPTCHA_API_KEY=${CAPTCHA_TWOCAPTCHA_API_KEY:-}
      - CAPTCHA_PREFER_PAID_SOLVER=${CAPTCHA_PREFER_PAID_SOLVER:-true}
      - CAPTCHA_PAID_SOLVER_TIMEOUT=${CAPTCHA_PAID_SOLVER_TIMEOUT:-120}
      # Redis for task state persistence
      - REDIS_ENABLED=true
      - REDIS_URL=redis://redis:6379/4
      # Metrics and logging
      - METRICS_ENABLED=${CRAWLER_METRICS_ENABLED:-true}
      - METRICS_PORT=${CRAWLER_METRICS_PORT:-9090}
      - LOG_LEVEL=${CRAWLER_LOG_LEVEL:-INFO}
      - LOG_FORMAT=${CRAWLER_LOG_FORMAT:-json}
      # MCP Server URLs for integrated analysis
      - BIAS_MCP_URL=http://bias-mcp:5001
      - FACTCHECK_MCP_URL=http://factcheck-mcp:5002
      - TOPIC_MCP_URL=http://topic-mcp:5003
      - NEWSINSIGHT_MCP_URL=http://newsinsight-mcp:5000
      - HUGGINGFACE_MCP_URL=http://huggingface-mcp:5011
      - KAGGLE_MCP_URL=http://kaggle-mcp:5012
      - MLTRAINING_MCP_URL=http://mltraining-mcp:5013
      - ROBOFLOW_MCP_URL=http://roboflow-mcp:5014
      - AIAGENT_MCP_URL=http://aiagent-mcp:5010
    expose:
      - "9090"
    ports:
      - "9190:9090"  # Prometheus metrics
      - "8030:8030"  # REST API
    shm_size: 2g  # Shared memory for browser
    healthcheck:
      # Use python socket check instead of curl (curl not installed in container)
      test: ["CMD", "python", "-c", "import socket; s=socket.socket(); s.connect(('localhost', 9090)); s.close()"]
      interval: 30s
      timeout: 10s
      retries: 5
      start_period: 60s
    networks:
      - default
      - newsinsight-shared-net

  # Browser-Use API Server with AI Dove Integration
  browser-use-api:
    build:
      context: ../../backend/services/browser-use-api
      dockerfile: Dockerfile.api
    image: newsinsight/browser-use-api:local
    restart: unless-stopped
    environment:
      # AI Dove webhook configuration
      - AIDOVE_WEBHOOK_URL=${AIDOVE_WEBHOOK_URL:-https://workflow.nodove.com/webhook/aidove}
      # Browser settings
      - BROWSER_HEADLESS=${BROWSER_USE_HEADLESS:-true}
      # Server settings
      - SERVER_PORT=8500
      - LOG_LEVEL=${BROWSER_USE_LOG_LEVEL:-INFO}
    ports:
      - "8501:8500"  # Browser-Use API (avoid conflict with Consul)
    shm_size: 2g  # Shared memory for browser
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8500/health"]
      interval: 30s
      timeout: 10s
      retries: 3
    networks:
      - default
      - newsinsight-shared-net

  # ML Add-ons - 감정 분석 (Sentiment Analysis)
  sentiment-addon:
    build:
      context: ../../backend/ml-addons/sentiment-addon
      dockerfile: Dockerfile
    image: newsinsight/sentiment-addon:local
    restart: unless-stopped
    expose:
      - "8100"
    ports:
      - "8100:8100"  # Direct access for debugging
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8100/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 10s
    networks:
      - default

  # ML Add-ons - 팩트체크 (Fact Check)
  factcheck-addon:
    build:
      context: ../../backend/ml-addons/factcheck-addon
      dockerfile: Dockerfile
    image: newsinsight/factcheck-addon:local
    restart: unless-stopped
    expose:
      - "8101"
    ports:
      - "8101:8101"  # Direct access for debugging
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8101/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 10s
    networks:
      - default

  # ML Add-ons - 편향도 분석 (Bias Analysis)
  bias-addon:
    build:
      context: ../../backend/ml-addons/bias-addon
      dockerfile: Dockerfile
    image: newsinsight/bias-addon:local
    restart: unless-stopped
    expose:
      - "8102"
    ports:
      - "8102:8102"  # Direct access for debugging
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8102/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 10s
    networks:
      - default

  # ============================================================================
  # IP Rotation Service - Proxy Pool Management for Crawlers
  # ============================================================================
  ip-rotation:
    build:
      context: ../../backend/services/ip-rotation
      dockerfile: Dockerfile
    image: newsinsight/ip-rotation:local
    restart: unless-stopped
    environment:
      # Rotation strategy: round_robin, random, least_used, weighted, geographic
      - STRATEGY=${IP_ROTATION_STRATEGY:-weighted}
      # Max failures before proxy is disabled
      - MAX_FAILURES=${IP_ROTATION_MAX_FAILURES:-5}
      # Cooldown in minutes before re-enabling failed proxy
      - COOLDOWN_MINUTES=${IP_ROTATION_COOLDOWN:-30}
      # Health check interval in seconds
      - HEALTH_CHECK_INTERVAL=${IP_ROTATION_HEALTH_CHECK:-300}
      # Persistence file path
      - PERSISTENCE_PATH=/data/ip_pool_state.json
      - PORT=8050
    volumes:
      - ip-rotation-data:/data
    ports:
      - "8050:8050"
    healthcheck:
      test: ["CMD", "wget", "-qO-", "http://localhost:8050/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 10s
    networks:
      - default

  # ============================================================================
  # Crawl Worker - Web Crawling Service with Proxy Rotation
  # ============================================================================
  crawl-worker:
    build:
      context: ../../
      dockerfile: backend/autonomous-crawler-service/crawl-worker/Dockerfile
    image: newsinsight/crawl-worker:local
    restart: unless-stopped
    environment:
      - PORT=8040
      - MAX_CONCURRENT_CRAWLS=${CRAWL_WORKER_MAX_CONCURRENT:-5}
      # Proxy rotation configuration
      - USE_PROXY_ROTATION=${USE_PROXY_ROTATION:-true}
      - PROXY_ROTATION_URL=http://ip-rotation:8050
    ports:
      - "8040:8040"
    depends_on:
      ip-rotation:
        condition: service_healthy
    healthcheck:
      # Use wget instead of curl (wget available in slim images via playwright deps)
      test: ["CMD", "python", "-c", "import urllib.request; urllib.request.urlopen('http://localhost:8040/health')"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s
    networks:
      - default

  # ============================================================================
  # Maigret Worker - Username OSINT Scanner with Proxy Rotation
  # ============================================================================
  maigret-worker:
    build:
      context: ../../
      dockerfile: backend/data-collection-service/maigret-worker/Dockerfile
    image: newsinsight/maigret-worker:local
    restart: unless-stopped
    environment:
      - PORT=8020
      - MAX_CONCURRENT_SCANS=${MAIGRET_MAX_CONCURRENT:-3}
      - SCAN_TIMEOUT_SEC=${MAIGRET_TIMEOUT:-300}
      - REPORTS_DIR=/app/reports
      # Proxy rotation configuration
      - USE_PROXY_ROTATION=${USE_PROXY_ROTATION:-true}
      - PROXY_ROTATION_URL=http://ip-rotation:8050
    volumes:
      - maigret-reports:/app/reports
    ports:
      - "8020:8020"
    depends_on:
      ip-rotation:
        condition: service_healthy
    healthcheck:
      # Use python urllib instead of curl (curl may not be available)
      test: ["CMD", "python", "-c", "import urllib.request; urllib.request.urlopen('http://localhost:8020/health')"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s
    networks:
      - default

  # ============================================================================
  # MCP Servers - Analysis Tool Servers (Local Development)
  # ============================================================================
  newsinsight-mcp:
    build:
      context: ../../mcp
      dockerfile: newsinsight_mcp/Dockerfile
    image: newsinsight/newsinsight-mcp:local
    restart: unless-stopped
    environment:
      - DB_BACKEND=postgres
      - DATABASE_URL=postgresql://${DB_USER:-postgres}:${DB_PASSWORD:-postgres}@postgres:5432/${DB_NAME:-newsinsight}
      - MONGODB_URI=${MONGODB_URI:-mongodb://mongo:27017/newsinsight}
      - PORT=5000
    expose:
      - "5000"
    ports:
      - "5000:5000"
    depends_on:
      postgres:
        condition: service_healthy
      mongo:
        condition: service_healthy
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:5000/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s
    networks:
      - default

  bias-mcp:
    build:
      context: ../../mcp
      dockerfile: bias_mcp/Dockerfile
    image: newsinsight/bias-mcp:local
    restart: unless-stopped
    environment:
      - DB_BACKEND=postgres
      - DATABASE_URL=postgresql://${DB_USER:-postgres}:${DB_PASSWORD:-postgres}@postgres:5432/${DB_NAME:-newsinsight}
      - MONGODB_URI=${MONGODB_URI:-mongodb://mongo:27017/newsinsight}
      - PORT=5001
    expose:
      - "5001"
    ports:
      - "5001:5001"
    depends_on:
      postgres:
        condition: service_healthy
      mongo:
        condition: service_healthy
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:5001/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s
    networks:
      - default

  factcheck-mcp:
    build:
      context: ../../mcp
      dockerfile: factcheck_mcp/Dockerfile
    image: newsinsight/factcheck-mcp:local
    restart: unless-stopped
    environment:
      - DB_BACKEND=postgres
      - DATABASE_URL=postgresql://${DB_USER:-postgres}:${DB_PASSWORD:-postgres}@postgres:5432/${DB_NAME:-newsinsight}
      - MONGODB_URI=${MONGODB_URI:-mongodb://mongo:27017/newsinsight}
      - PORT=5002
    expose:
      - "5002"
    ports:
      - "5002:5002"
    depends_on:
      postgres:
        condition: service_healthy
      mongo:
        condition: service_healthy
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:5002/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s
    networks:
      - default

  topic-mcp:
    build:
      context: ../../mcp
      dockerfile: topic_mcp/Dockerfile
    image: newsinsight/topic-mcp:local
    restart: unless-stopped
    environment:
      - DB_BACKEND=postgres
      - DATABASE_URL=postgresql://${DB_USER:-postgres}:${DB_PASSWORD:-postgres}@postgres:5432/${DB_NAME:-newsinsight}
      - MONGODB_URI=${MONGODB_URI:-mongodb://mongo:27017/newsinsight}
      - PORT=5003
    expose:
      - "5003"
    ports:
      - "5003:5003"
    depends_on:
      postgres:
        condition: service_healthy
      mongo:
        condition: service_healthy
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:5003/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s
    networks:
      - default

  aiagent-mcp:
    build:
      context: ../../mcp
      dockerfile: aiagent_mcp/Dockerfile
    image: newsinsight/aiagent-mcp:local
    restart: unless-stopped
    environment:
      - DATABASE_URL=postgresql://${DB_USER:-postgres}:${DB_PASSWORD:-postgres}@postgres:5432/${DB_NAME:-newsinsight}
      - ENCRYPTION_KEY=${AI_PROVIDER_ENCRYPTION_KEY:-}
      - PORT=5010
    expose:
      - "5010"
    ports:
      - "5010:5010"
    depends_on:
      postgres:
        condition: service_healthy
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:5010/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s
    networks:
      - default

  huggingface-mcp:
    build:
      context: ../../mcp
      dockerfile: huggingface_mcp/Dockerfile
    image: newsinsight/huggingface-mcp:local
    restart: unless-stopped
    environment:
      - HF_TOKEN=${HF_TOKEN:-}
      - PORT=5011
      - DATA_DIR=/app/data
      - JOB_TIMEOUT=600
    expose:
      - "5011"
    ports:
      - "5011:5011"
    volumes:
      - huggingface-data:/app/data
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:5011/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s
    networks:
      - default

  kaggle-mcp:
    build:
      context: ../../mcp
      dockerfile: kaggle_mcp/Dockerfile
    image: newsinsight/kaggle-mcp:local
    restart: unless-stopped
    environment:
      - KAGGLE_USERNAME=${KAGGLE_USERNAME:-}
      - KAGGLE_KEY=${KAGGLE_KEY:-}
      - PORT=5012
      - DATA_DIR=/app/data
    expose:
      - "5012"
    ports:
      - "5012:5012"
    volumes:
      - kaggle-data:/app/data
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:5012/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s
    networks:
      - default

  mltraining-mcp:
    build:
      context: ../../mcp
      dockerfile: mltraining_mcp/Dockerfile
    image: newsinsight/mltraining-mcp:local
    restart: unless-stopped
    environment:
      - DATABASE_URL=postgresql://${DB_USER:-postgres}:${DB_PASSWORD:-postgres}@postgres:5432/${DB_NAME:-newsinsight}
      - PORT=5013
      - DATA_DIR=/app/data
    expose:
      - "5013"
    ports:
      - "5013:5013"
    volumes:
      - mltraining-data:/app/data
    depends_on:
      postgres:
        condition: service_healthy
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:5013/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s
    networks:
      - default

  roboflow-mcp:
    build:
      context: ../../mcp
      dockerfile: roboflow_mcp/Dockerfile
    image: newsinsight/roboflow-mcp:local
    restart: unless-stopped
    environment:
      - ROBOFLOW_API_KEY=${ROBOFLOW_API_KEY:-}
      - PORT=5014
      - DATA_DIR=/app/data
    expose:
      - "5014"
    ports:
      - "5014:5014"
    volumes:
      - roboflow-data:/app/data
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:5014/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s
    networks:
      - default

  # ============================================================================
  # ML Trainer Service - Model Training and Management
  # ============================================================================
  ml-trainer:
    build:
      context: ../../backend/ml-addons/ml-trainer
      dockerfile: Dockerfile
    image: newsinsight/ml-trainer:local
    restart: unless-stopped
    environment:
      - PORT=8090
      - DATABASE_URL=postgresql://${DB_USER:-postgres}:${DB_PASSWORD:-postgres}@postgres:5432/${DB_NAME:-newsinsight}
      - MONGODB_URI=${MONGODB_URI:-mongodb://mongo:27017/newsinsight}
      - REDIS_URL=redis://redis:6379/5
      - HF_TOKEN=${HF_TOKEN:-}
      - KAGGLE_USERNAME=${KAGGLE_USERNAME:-}
      - KAGGLE_KEY=${KAGGLE_KEY:-}
      - ROBOFLOW_API_KEY=${ROBOFLOW_API_KEY:-}
      - MODEL_STORAGE_PATH=/app/models
      - TRAINING_DATA_PATH=/app/data
    expose:
      - "8090"
    ports:
      - "8090:8090"
    volumes:
      - ml-trainer-models:/app/models
      - ml-trainer-data:/app/data
    depends_on:
      postgres:
        condition: service_healthy
      mongo:
        condition: service_healthy
      redis:
        condition: service_healthy
      kaggle-mcp:
        condition: service_started
      mltraining-mcp:
        condition: service_started
      roboflow-mcp:
        condition: service_started
      huggingface-mcp:
        condition: service_started
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8090/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 60s
    networks:
      - default

volumes:
  postgres-data:
  redis-data:
  frontend-node-modules:
  mongo-data:
  ip-rotation-data:
  maigret-reports:
  huggingface-data:
  admin-config:
  kaggle-data:
  mltraining-data:
  roboflow-data:
  ml-trainer-models:
  ml-trainer-data:

networks:
  default:
    name: newsinsight-net
  newsinsight-shared-net:
    name: newsinsight-shared-net
    driver: bridge

```

---

## etc/docker/docker-compose.production.yml

```yml
# ============================================================================
# NewsInsight Production Docker Compose
# Target: pmx-102-2 remote server
# Domain: newsinsight.nodove.com
# ============================================================================

networks:
  newsinsight-prod:
    driver: bridge
    ipam:
      config:
        - subnet: 172.20.0.0/16

volumes:
  postgres_prod_data:
  mongo_prod_data:
  redis_prod_data:
  consul_prod_data:
  ai_agent_data:
  ml_shared_data:
  embedding_model_cache:
  ip_rotation_data:
  maigret_reports:
  workspace_data:

services:
  # ============================================================================
  # Cloudflare Tunnel - newsinsight.nodove.com
  # 단일 엔드포인트 (Frontend)로 모든 트래픽 전달
  # Frontend nginx가 /api/* → api-gateway로 내부 라우팅
  # ============================================================================
  cloudflared:
    image: cloudflare/cloudflared:latest
    container_name: newsinsight-prod-cloudflared
    restart: unless-stopped
    command: tunnel --protocol http2 run
    environment:
      - TUNNEL_TOKEN=${CLOUDFLARE_TUNNEL_TOKEN_PROD}
    networks:
      newsinsight-prod:
        ipv4_address: 172.20.0.2
    depends_on:
      frontend:
        condition: service_healthy
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  # ============================================================================
  # Infrastructure Services
  # ============================================================================
  postgres:
    image: pgvector/pgvector:pg15
    container_name: newsinsight-prod-postgres
    restart: unless-stopped
    environment:
      POSTGRES_DB: ${POSTGRES_DB:-newsinsight}
      POSTGRES_USER: ${POSTGRES_USER:-newsinsight}
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
    volumes:
      - postgres_prod_data:/var/lib/postgresql/data
      - ./db-init:/docker-entrypoint-initdb.d:ro
    networks:
      newsinsight-prod:
        ipv4_address: 172.20.0.10
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U ${POSTGRES_USER:-newsinsight}"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 40s
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  mongo:
    image: mongo:7
    container_name: newsinsight-prod-mongo
    restart: unless-stopped
    environment:
      MONGO_INITDB_ROOT_USERNAME: ${MONGO_USER:-newsinsight}
      MONGO_INITDB_ROOT_PASSWORD: ${MONGO_PASSWORD}
      MONGO_INITDB_DATABASE: newsinsight
    volumes:
      - mongo_prod_data:/data/db
    networks:
      newsinsight-prod:
        ipv4_address: 172.20.0.11
    healthcheck:
      test: ["CMD", "mongosh", "--eval", "db.adminCommand('ping')"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 40s
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  redis:
    image: redis:7-alpine
    container_name: newsinsight-prod-redis
    restart: unless-stopped
    command: redis-server --appendonly yes --requirepass ${REDIS_PASSWORD}
    volumes:
      - redis_prod_data:/data
    networks:
      newsinsight-prod:
        ipv4_address: 172.20.0.12
    healthcheck:
      test: ["CMD", "redis-cli", "-a", "${REDIS_PASSWORD}", "ping"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 40s
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  consul:
    image: hashicorp/consul:1.18
    container_name: newsinsight-prod-consul
    restart: unless-stopped
    command: agent -server -ui -node=server-1 -bootstrap-expect=1 -client=0.0.0.0 -bind=0.0.0.0
    volumes:
      - consul_prod_data:/consul/data
    networks:
      newsinsight-prod:
        ipv4_address: 172.20.0.13
    healthcheck:
      test: ["CMD", "consul", "members"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 40s
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  # ============================================================================
  # Consul Seed - Initialize Consul KV and register services
  # ============================================================================
  consul-seed:
    image: alpine:3.18
    container_name: newsinsight-prod-consul-seed
    depends_on:
      consul:
        condition: service_healthy
    volumes:
      - ../scripts:/scripts:ro
      - ../configs:/configs:ro
    environment:
      CONSUL_HTTP_ADDR: http://consul:8500
      CONSUL_HTTP_TOKEN: ${CONSUL_HTTP_TOKEN:-}
    command: >
      sh -c "
        apk add --no-cache curl bash jq &&
        /scripts/consul_seed.sh production --json
      "
    networks:
      newsinsight-prod:
        ipv4_address: 172.20.0.15
    restart: "no"
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  redpanda:
    image: docker.redpanda.com/redpandadata/redpanda:latest
    container_name: newsinsight-prod-redpanda
    restart: unless-stopped
    command:
      - redpanda
      - start
      - --kafka-addr internal://0.0.0.0:9092,external://0.0.0.0:19092
      - --advertise-kafka-addr internal://redpanda:9092,external://localhost:19092
      - --pandaproxy-addr internal://0.0.0.0:8082,external://0.0.0.0:18082
      - --advertise-pandaproxy-addr internal://redpanda:8082,external://localhost:18082
      - --schema-registry-addr internal://0.0.0.0:8081,external://0.0.0.0:18081
      - --rpc-addr redpanda:33145
      - --advertise-rpc-addr redpanda:33145
      - --mode dev-container
      - --smp 1
      - --memory 512M
      - --default-log-level=warn
    networks:
      newsinsight-prod:
        ipv4_address: 172.20.0.14
    healthcheck:
      test: ["CMD", "rpk", "cluster", "health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 40s
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  # ============================================================================
  # Application Services
  # ============================================================================
  api-gateway:
    image: ${REGISTRY:-ghcr.io/nodove}/newsinsight/api-gateway:${TAG:-latest}
    container_name: newsinsight-prod-api-gateway
    restart: unless-stopped
    environment:
      SPRING_PROFILES_ACTIVE: production
      # Database connections
      SPRING_DATASOURCE_URL: jdbc:postgresql://postgres:5432/${POSTGRES_DB:-newsinsight}
      SPRING_DATASOURCE_USERNAME: ${POSTGRES_USER:-newsinsight}
      SPRING_DATASOURCE_PASSWORD: ${POSTGRES_PASSWORD}
      SPRING_DATA_MONGODB_URI: mongodb://${MONGO_USER:-newsinsight}:${MONGO_PASSWORD}@mongo:27017/newsinsight?authSource=admin
      SPRING_DATA_REDIS_HOST: redis
      SPRING_DATA_REDIS_PASSWORD: ${REDIS_PASSWORD}
      # Consul settings
      SPRING_CLOUD_CONSUL_HOST: consul
      SPRING_CLOUD_CONSUL_PORT: 8500
      CONSUL_ENABLED: "true"
      CONSUL_DISCOVERY_ENABLED: "true"
      # Direct service URL (fallback when Consul is unavailable)
      # Consul 사용 시: lb://collector-service, 직접 연결 시: http://collector-service:8081
      COLLECTOR_SERVICE_URL: ${COLLECTOR_SERVICE_URL:-http://collector-service:8081}
      # Kafka
      SPRING_KAFKA_BOOTSTRAP_SERVERS: redpanda:9092
      # External services
      BROWSER_USE_API_URL: http://browser-use-api:8500
      BROWSER_USE_URL: http://browser-use-api:8500
      BROWSER_USE_WS_URL: ws://browser-use-api:8500
      WEB_CRAWLER_URL: http://web-crawler:11235
      AUTONOMOUS_CRAWLER_URL: http://autonomous-crawler:9090
      AUTONOMOUS_CRAWLER_API_URL: http://autonomous-crawler:8030
      ADMIN_DASHBOARD_URL: http://admin-dashboard:8888
      ML_ADDON_BOT_DETECTOR_URL: http://bot-detector:8041
      # Frontend config
      FRONTEND_API_BASE_URL: https://newsinsight.nodove.com
      # JVM settings
      JAVA_OPTS: "-Xms256m -Xmx512m"
    networks:
      newsinsight-prod:
        ipv4_address: 172.20.0.20
    depends_on:
      postgres:
        condition: service_healthy
      mongo:
        condition: service_healthy
      redis:
        condition: service_healthy
      consul:
        condition: service_healthy
      consul-seed:
        condition: service_completed_successfully
      redpanda:
        condition: service_healthy
    healthcheck:
      test: ["CMD", "wget", "--no-verbose", "--tries=1", "--spider", "http://127.0.0.1:8000/actuator/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 60s
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  collector-service:
    image: ${REGISTRY:-ghcr.io/nodove}/newsinsight/collector-service:${TAG:-latest}
    container_name: newsinsight-prod-collector
    restart: unless-stopped
    environment:
      SPRING_PROFILES_ACTIVE: production
      # Database connections
      DB_HOST: postgres
      DB_PORT: "5432"
      DB_NAME: ${POSTGRES_DB:-newsinsight}
      DB_USER: ${POSTGRES_USER:-newsinsight}
      DB_PASSWORD: ${POSTGRES_PASSWORD}
      MONGODB_URI: mongodb://${MONGO_USER:-newsinsight}:${MONGO_PASSWORD}@mongo:27017/newsinsight?authSource=admin
      SPRING_DATA_REDIS_HOST: redis
      SPRING_DATA_REDIS_PASSWORD: ${REDIS_PASSWORD}
      # Consul settings
      CONSUL_HOST: consul
      CONSUL_PORT: "8500"
      CONSUL_ENABLED: "true"
      CONSUL_DISCOVERY_ENABLED: "true"
      CONSUL_DISCOVERY_HOSTNAME: collector-service
      # Kafka
      KAFKA_BOOTSTRAP_SERVERS: redpanda:9092
      # External services
      COLLECTOR_BROWSER_USE_BASE_URL: http://browser-use-api:8500
      COLLECTOR_SERVICE_CRAWLER_BASE_URL: http://web-crawler:11235
      COLLECTOR_CALLBACK_BASE_URL: http://collector-service:8081
      # Embedding server for hybrid search (enabled by default)
      EMBEDDING_BASE_URL: ${EMBEDDING_BASE_URL:-http://embedding-server:8011}
      EMBEDDING_ENABLED: ${EMBEDDING_ENABLED:-true}
      VECTOR_SEARCH_ENABLED: ${VECTOR_SEARCH_ENABLED:-true}
      HYBRID_SEARCH_ENABLED: ${HYBRID_SEARCH_ENABLED:-true}
      # Auto-Crawl Configuration (실시간 확장형 크롤링)
      AUTOCRAWL_ENABLED: ${AUTOCRAWL_ENABLED:-true}
      AUTOCRAWL_BATCH_SIZE: ${AUTOCRAWL_BATCH_SIZE:-10}
      AUTOCRAWL_MAX_CONCURRENT_PER_DOMAIN: ${AUTOCRAWL_MAX_CONCURRENT_PER_DOMAIN:-3}
      AUTOCRAWL_DISCOVER_FROM_SEARCH: ${AUTOCRAWL_DISCOVER_FROM_SEARCH:-true}
      AUTOCRAWL_DISCOVER_FROM_ARTICLES: ${AUTOCRAWL_DISCOVER_FROM_ARTICLES:-true}
      AUTOCRAWL_DISCOVER_FROM_DEEP_SEARCH: ${AUTOCRAWL_DISCOVER_FROM_DEEP_SEARCH:-true}
      # Workspace file storage
      WORKSPACE_STORAGE_PATH: /data/workspace
      WORKSPACE_MAX_FILE_SIZE: ${WORKSPACE_MAX_FILE_SIZE:-104857600}
      WORKSPACE_MAX_FILES_PER_SESSION: ${WORKSPACE_MAX_FILES_PER_SESSION:-100}
      WORKSPACE_SESSION_FILE_TTL_HOURS: ${WORKSPACE_SESSION_FILE_TTL_HOURS:-24}
      # API Key Encryption Configuration
      # IMPORTANT: Set strong values in production .env file!
      NEWSINSIGHT_ENCRYPTION_SECRET: ${NEWSINSIGHT_ENCRYPTION_SECRET}
      NEWSINSIGHT_ENCRYPTION_SALT: ${NEWSINSIGHT_ENCRYPTION_SALT}
      # Enable migration on first run to encrypt existing plain text API keys
      # Set to true once, then set back to false after migration completes
      NEWSINSIGHT_ENCRYPTION_MIGRATE: ${NEWSINSIGHT_ENCRYPTION_MIGRATE:-false}
      # JVM settings
      JAVA_OPTS: "-Xms256m -Xmx512m"
    volumes:
      - workspace_data:/data/workspace
    networks:
      newsinsight-prod:
        ipv4_address: 172.20.0.21
    depends_on:
      postgres:
        condition: service_healthy
      mongo:
        condition: service_healthy
      consul:
        condition: service_healthy
      consul-seed:
        condition: service_completed_successfully
      redpanda:
        condition: service_healthy
      embedding-server:
        condition: service_healthy
    healthcheck:
      test: ["CMD", "wget", "--no-verbose", "--tries=1", "--spider", "http://127.0.0.1:8081/actuator/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 60s
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  browser-use-api:
    image: ${REGISTRY:-ghcr.io/nodove}/newsinsight/browser-use-api:${TAG:-latest}
    container_name: newsinsight-prod-browser-use
    restart: unless-stopped
    environment:
      AIDOVE_WEBHOOK_URL: ${AIDOVE_WEBHOOK_URL:-https://workflow.nodove.com/webhook/aidove}
      PYTHONUNBUFFERED: "1"
    networks:
      newsinsight-prod:
        ipv4_address: 172.20.0.22
    healthcheck:
      test: ["CMD", "curl", "-f", "http://127.0.0.1:8500/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 90s
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  # ============================================================================
  # Admin Dashboard - 관리자 대시보드 API
  # ============================================================================
  admin-dashboard:
    image: ${REGISTRY:-ghcr.io/nodove}/newsinsight/admin-dashboard:${TAG:-latest}
    container_name: newsinsight-prod-admin-dashboard
    restart: unless-stopped
    environment:
      PORT: "8888"
      PYTHONUNBUFFERED: "1"
      PROJECT_ROOT: /workspace
      ADMIN_CONFIG_DIR: /app/config
      # Database connections
      DATABASE_URL: postgresql://${POSTGRES_USER:-newsinsight}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB:-newsinsight}
      MONGODB_URI: mongodb://${MONGO_USER:-newsinsight}:${MONGO_PASSWORD}@mongo:27017/newsinsight?authSource=admin
      # JWT Authentication
      JWT_SECRET: ${JWT_SECRET_KEY:-change-me-in-production}
      # CORS (allow frontend origin)
      CORS_ORIGINS: ${CORS_ORIGINS:-https://newsinsight.nodove.com,http://localhost:8080}
    networks:
      newsinsight-prod:
        ipv4_address: 172.20.0.26
    depends_on:
      postgres:
        condition: service_healthy
      mongo:
        condition: service_healthy
    healthcheck:
      test: ["CMD", "curl", "-f", "http://127.0.0.1:8888/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  web-crawler:
    image: unclecode/crawl4ai:latest
    container_name: newsinsight-prod-web-crawler
    restart: unless-stopped
    environment:
      CRAWL4AI_API_TOKEN: ${CRAWL4AI_API_TOKEN:-newsinsight-crawler}
    networks:
      newsinsight-prod:
        ipv4_address: 172.20.0.23
    healthcheck:
      test: ["CMD", "curl", "-f", "http://127.0.0.1:11235/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 90s
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  autonomous-crawler:
    image: ${REGISTRY:-ghcr.io/nodove}/newsinsight/autonomous-crawler:${TAG:-latest}
    container_name: newsinsight-prod-autonomous-crawler
    restart: unless-stopped
    environment:
      # Service mode: kafka, api, or hybrid
      SERVICE_MODE: ${AUTONOMOUS_CRAWLER_MODE:-hybrid}
      API_PORT: "8030"
      # Database connections
      DATABASE_URL: postgresql://${POSTGRES_USER:-newsinsight}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB:-newsinsight}
      MONGODB_URI: mongodb://${MONGO_USER:-newsinsight}:${MONGO_PASSWORD}@mongo:27017/newsinsight?authSource=admin
      REDIS_URL: redis://:${REDIS_PASSWORD}@redis:6379/0
      # Kafka settings
      KAFKA_BOOTSTRAP_SERVERS: redpanda:9092
      KAFKA_CONSUMER_GROUP_ID: autonomous-crawler-group
      KAFKA_BROWSER_TASK_TOPIC: newsinsight.crawl.browser.tasks
      KAFKA_CRAWL_RESULT_TOPIC: newsinsight.crawl.results
      # External services
      BROWSER_USE_API_URL: http://browser-use-api:8500
      WEB_CRAWLER_URL: http://web-crawler:11235
      COLLECTOR_SERVICE_URL: http://collector-service:8081
      # LLM settings
      LLM_PROVIDER: ${LLM_PROVIDER:-openai}
      OPENAI_API_KEY: ${OPENAI_API_KEY:-}
      ANTHROPIC_API_KEY: ${ANTHROPIC_API_KEY:-}
      GOOGLE_API_KEY: ${GOOGLE_API_KEY:-}
      USE_DB_PROVIDERS: "true"
      # AIdove/custom LLM
      AIDOVE_API_KEY: ${AIDOVE_API_KEY}
      AIDOVE_API_BASE_URL: ${AIDOVE_API_BASE_URL:-https://ai.nodove.com}
      # MCP Server URLs for integrated analysis
      BIAS_MCP_URL: http://bias-mcp:5001
      FACTCHECK_MCP_URL: http://factcheck-mcp:5002
      TOPIC_MCP_URL: http://topic-mcp:5003
      NEWSINSIGHT_MCP_URL: http://newsinsight-mcp:5000
      HUGGINGFACE_MCP_URL: http://huggingface-mcp:5011
      # Observability
      LOG_LEVEL: INFO
      LOG_FORMAT: json
      METRICS_ENABLED: "true"
      METRICS_PORT: "9090"
    ports:
      - "8030:8030"  # REST API
      - "9090:9090"  # Prometheus metrics
    networks:
      newsinsight-prod:
        ipv4_address: 172.20.0.24
    depends_on:
      postgres:
        condition: service_healthy
      mongo:
        condition: service_healthy
      redis:
        condition: service_healthy
      redpanda:
        condition: service_healthy
      browser-use-api:
        condition: service_healthy
      web-crawler:
        condition: service_healthy
      # MCP servers for analysis
      newsinsight-mcp:
        condition: service_healthy
      bias-mcp:
        condition: service_healthy
      factcheck-mcp:
        condition: service_healthy
      topic-mcp:
        condition: service_healthy
    healthcheck:
      # Check both metrics (9090) and API (8030) endpoints
      test: ["CMD-SHELL", "wget --no-verbose --tries=1 --spider http://127.0.0.1:9090/ || wget --no-verbose --tries=1 --spider http://127.0.0.1:8030/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 90s
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  # ============================================================================
  # AI Agent Worker - Kafka Consumer for AI Processing
  # Consumes newsinsight.ai.requests, produces to newsinsight.ai.responses
  # ============================================================================
  ai-agent-worker:
    image: ${REGISTRY:-ghcr.io/nodove}/newsinsight/ai-agent-worker:${TAG:-latest}
    container_name: newsinsight-prod-ai-agent-worker
    restart: unless-stopped
    environment:
      # Admin Server
      ADMIN_PORT: "7080"
      ADMIN_JWT_SECRET: ${JWT_SECRET_KEY:-change-me}
      ADMIN_DB_PATH: /data/proxy-admin.db
      ADMIN_EMAIL: ${AI_AGENT_ADMIN_EMAIL:-admin@newsinsight.nodove.com}
      ADMIN_PASSWORD: ${AI_AGENT_ADMIN_PASSWORD:-}
      # Kafka
      KAFKA_BROKERS: redpanda:9092
      KAFKA_GROUP_ID: ai-agent-worker
      KAFKA_REQUEST_TOPIC: newsinsight.ai.requests
      KAFKA_RESPONSE_TOPIC: newsinsight.ai.responses
      # Upstream LLM (OpenCode or external)
      OPENCODE_BASE: ${OPENCODE_BASE:-http://opencode:7012}
    volumes:
      - ai_agent_data:/data
    networks:
      newsinsight-prod:
        ipv4_address: 172.20.0.25
    depends_on:
      redpanda:
        condition: service_healthy
    healthcheck:
      test: ["CMD", "wget", "--no-verbose", "--tries=1", "--spider", "http://127.0.0.1:7080/admin/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  # ============================================================================
  # Frontend - 단일 진입점, nginx가 내부 라우팅 담당
  # ============================================================================
  frontend:
    image: ${REGISTRY:-ghcr.io/nodove}/newsinsight/frontend:${TAG:-latest}
    container_name: newsinsight-prod-frontend
    restart: unless-stopped
    networks:
      newsinsight-prod:
        ipv4_address: 172.20.0.30
    depends_on:
      api-gateway:
        condition: service_healthy
    healthcheck:
      test: ["CMD", "wget", "--no-verbose", "--tries=1", "--spider", "http://127.0.0.1:8080/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  # ============================================================================
  # ML Addons - 뉴스 분석을 위한 ML 서비스
  # ============================================================================
  sentiment-addon:
    image: ${REGISTRY:-ghcr.io/nodove}/newsinsight/sentiment-addon:${TAG:-latest}
    container_name: newsinsight-prod-sentiment
    restart: unless-stopped
    environment:
      MODEL_NAME: ${SENTIMENT_MODEL:-cardiffnlp/twitter-roberta-base-sentiment-latest}
    networks:
      newsinsight-prod:
        ipv4_address: 172.20.0.40
    healthcheck:
      test: ["CMD", "curl", "-f", "http://127.0.0.1:8100/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 60s
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  factcheck-addon:
    image: ${REGISTRY:-ghcr.io/nodove}/newsinsight/factcheck-addon:${TAG:-latest}
    container_name: newsinsight-prod-factcheck
    restart: unless-stopped
    networks:
      newsinsight-prod:
        ipv4_address: 172.20.0.41
    healthcheck:
      test: ["CMD", "curl", "-f", "http://127.0.0.1:8101/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 60s
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  bias-addon:
    image: ${REGISTRY:-ghcr.io/nodove}/newsinsight/bias-addon:${TAG:-latest}
    container_name: newsinsight-prod-bias
    restart: unless-stopped
    networks:
      newsinsight-prod:
        ipv4_address: 172.20.0.42
    healthcheck:
      test: ["CMD", "curl", "-f", "http://127.0.0.1:8102/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 60s
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  # ============================================================================
  # MCP Servers - AI Agent용 도구 서버
  # ============================================================================
  newsinsight-mcp:
    image: ${REGISTRY:-ghcr.io/nodove}/newsinsight/newsinsight-mcp:${TAG:-latest}
    build:
      context: ../../mcp
      dockerfile: newsinsight_mcp/Dockerfile
    container_name: newsinsight-prod-mcp
    restart: unless-stopped
    environment:
      DB_BACKEND: postgres
      DATABASE_URL: postgresql://${POSTGRES_USER:-newsinsight}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB:-newsinsight}
      MONGODB_URI: mongodb://${MONGO_USER:-newsinsight}:${MONGO_PASSWORD}@mongo:27017/newsinsight?authSource=admin
      AIDOVE_WEBHOOK_URL: ${AIDOVE_WEBHOOK_URL:-https://workflow.nodove.com/webhook/aidove}
      PORT: "5000"
    networks:
      newsinsight-prod:
        ipv4_address: 172.20.0.50
    depends_on:
      postgres:
        condition: service_healthy
      mongo:
        condition: service_healthy
    healthcheck:
      test: ["CMD", "curl", "-f", "http://127.0.0.1:5000/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  bias-mcp:
    image: ${REGISTRY:-ghcr.io/nodove}/newsinsight/bias-mcp:${TAG:-latest}
    build:
      context: ../../mcp
      dockerfile: bias_mcp/Dockerfile
    container_name: newsinsight-prod-bias-mcp
    restart: unless-stopped
    environment:
      DB_BACKEND: postgres
      DATABASE_URL: postgresql://${POSTGRES_USER:-newsinsight}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB:-newsinsight}
      MONGODB_URI: mongodb://${MONGO_USER:-newsinsight}:${MONGO_PASSWORD}@mongo:27017/newsinsight?authSource=admin
      AIDOVE_WEBHOOK_URL: ${AIDOVE_WEBHOOK_URL:-https://workflow.nodove.com/webhook/aidove}
      PORT: "5001"
    networks:
      newsinsight-prod:
        ipv4_address: 172.20.0.51
    depends_on:
      postgres:
        condition: service_healthy
      mongo:
        condition: service_healthy
    healthcheck:
      test: ["CMD", "curl", "-f", "http://127.0.0.1:5001/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  factcheck-mcp:
    image: ${REGISTRY:-ghcr.io/nodove}/newsinsight/factcheck-mcp:${TAG:-latest}
    build:
      context: ../../mcp
      dockerfile: factcheck_mcp/Dockerfile
    container_name: newsinsight-prod-factcheck-mcp
    restart: unless-stopped
    environment:
      DB_BACKEND: postgres
      DATABASE_URL: postgresql://${POSTGRES_USER:-newsinsight}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB:-newsinsight}
      MONGODB_URI: mongodb://${MONGO_USER:-newsinsight}:${MONGO_PASSWORD}@mongo:27017/newsinsight?authSource=admin
      AIDOVE_WEBHOOK_URL: ${AIDOVE_WEBHOOK_URL:-https://workflow.nodove.com/webhook/aidove}
      PORT: "5002"
    networks:
      newsinsight-prod:
        ipv4_address: 172.20.0.52
    depends_on:
      postgres:
        condition: service_healthy
      mongo:
        condition: service_healthy
    healthcheck:
      test: ["CMD", "curl", "-f", "http://127.0.0.1:5002/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  topic-mcp:
    image: ${REGISTRY:-ghcr.io/nodove}/newsinsight/topic-mcp:${TAG:-latest}
    build:
      context: ../../mcp
      dockerfile: topic_mcp/Dockerfile
    container_name: newsinsight-prod-topic-mcp
    restart: unless-stopped
    environment:
      DB_BACKEND: postgres
      DATABASE_URL: postgresql://${POSTGRES_USER:-newsinsight}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB:-newsinsight}
      MONGODB_URI: mongodb://${MONGO_USER:-newsinsight}:${MONGO_PASSWORD}@mongo:27017/newsinsight?authSource=admin
      AIDOVE_WEBHOOK_URL: ${AIDOVE_WEBHOOK_URL:-https://workflow.nodove.com/webhook/aidove}
      PORT: "5003"
    networks:
      newsinsight-prod:
        ipv4_address: 172.20.0.53
    depends_on:
      postgres:
        condition: service_healthy
      mongo:
        condition: service_healthy
    healthcheck:
      test: ["CMD", "curl", "-f", "http://127.0.0.1:5003/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  aiagent-mcp:
    image: ${REGISTRY:-ghcr.io/nodove}/newsinsight/aiagent-mcp:${TAG:-latest}
    build:
      context: ../../mcp
      dockerfile: aiagent_mcp/Dockerfile
    container_name: newsinsight-prod-aiagent-mcp
    restart: unless-stopped
    environment:
      DATABASE_URL: postgresql://${POSTGRES_USER:-newsinsight}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB:-newsinsight}
      ENCRYPTION_KEY: ${AI_PROVIDER_ENCRYPTION_KEY:-}
      AIDOVE_WEBHOOK_URL: ${AIDOVE_WEBHOOK_URL:-https://workflow.nodove.com/webhook/aidove}
      PORT: "5004"
    networks:
      newsinsight-prod:
        ipv4_address: 172.20.0.54
    depends_on:
      postgres:
        condition: service_healthy
    healthcheck:
      test: ["CMD", "curl", "-f", "http://127.0.0.1:5004/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  # ============================================================================
  # ML Training MCP Servers - Computer Vision & NLP
  # ============================================================================

  # ============================================================================
  # Text Embedding Server (for Hybrid Search)
  # HuggingFace Text Embeddings Inference with multilingual-e5-large
  # ============================================================================
  embedding-server:
    image: ghcr.io/huggingface/text-embeddings-inference:cpu-1.5
    container_name: newsinsight-prod-embedding
    restart: unless-stopped
    command:
      - --model-id
      - intfloat/multilingual-e5-large
      - --port
      - "8011"
      - --max-concurrent-requests
      - "128"
    volumes:
      - embedding_model_cache:/data
    environment:
      HF_HOME: /data
      HUGGING_FACE_HUB_TOKEN: ${HF_TOKEN:-}
    networks:
      newsinsight-prod:
        ipv4_address: 172.20.0.70
    healthcheck:
      test: ["CMD", "curl", "-f", "http://127.0.0.1:8011/health"]
      interval: 30s
      timeout: 10s
      retries: 5
      start_period: 120s
    deploy:
      resources:
        limits:
          memory: 4G
        reservations:
          memory: 2G
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  # ============================================================================
  # IP Rotation Service - Proxy Pool Management for Crawlers
  # Provides rotating proxies with health checks and adaptive load balancing
  # ============================================================================
  ip-rotation:
    image: ${REGISTRY:-ghcr.io/nodove}/newsinsight/ip-rotation:${TAG:-latest}
    build:
      context: ../../backend/services/ip-rotation
      dockerfile: Dockerfile
    container_name: newsinsight-prod-ip-rotation
    restart: unless-stopped
    environment:
      # Rotation strategy: round_robin, random, least_used, weighted, geographic
      STRATEGY: ${IP_ROTATION_STRATEGY:-weighted}
      # Max failures before proxy is disabled
      MAX_FAILURES: ${IP_ROTATION_MAX_FAILURES:-5}
      # Cooldown in minutes before re-enabling failed proxy
      COOLDOWN_MINUTES: ${IP_ROTATION_COOLDOWN:-30}
      # Health check interval in seconds
      HEALTH_CHECK_INTERVAL: ${IP_ROTATION_HEALTH_CHECK:-300}
      # Persistence file path
      PERSISTENCE_PATH: /data/ip_pool_state.json
      # Server port
      PORT: "8050"
    volumes:
      - ip_rotation_data:/data
    networks:
      newsinsight-prod:
        ipv4_address: 172.20.0.71
    healthcheck:
      test: ["CMD", "wget", "--no-verbose", "--tries=1", "--spider", "http://127.0.0.1:8050/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 10s
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  # ============================================================================
  # Crawl Worker - Web Crawling Service with Proxy Rotation
  # ============================================================================
  crawl-worker:
    image: ${REGISTRY:-ghcr.io/nodove}/newsinsight/crawl-worker:${TAG:-latest}
    build:
      context: ../../
      dockerfile: backend/autonomous-crawler-service/crawl-worker/Dockerfile
    container_name: newsinsight-prod-crawl-worker
    restart: unless-stopped
    environment:
      PORT: "8040"
      MAX_CONCURRENT_CRAWLS: ${CRAWL_WORKER_MAX_CONCURRENT:-5}
      # Proxy rotation configuration
      USE_PROXY_ROTATION: ${USE_PROXY_ROTATION:-true}
      PROXY_ROTATION_URL: http://ip-rotation:8050
    networks:
      newsinsight-prod:
        ipv4_address: 172.20.0.72
    depends_on:
      ip-rotation:
        condition: service_healthy
    healthcheck:
      test: ["CMD", "curl", "-f", "http://127.0.0.1:8040/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  # ============================================================================
  # Maigret Worker - Username OSINT Scanner with Proxy Rotation
  # ============================================================================
  maigret-worker:
    image: ${REGISTRY:-ghcr.io/nodove}/newsinsight/maigret-worker:${TAG:-latest}
    build:
      context: ../../
      dockerfile: backend/data-collection-service/maigret-worker/Dockerfile
    container_name: newsinsight-prod-maigret-worker
    restart: unless-stopped
    environment:
      PORT: "8020"
      MAX_CONCURRENT_SCANS: ${MAIGRET_MAX_CONCURRENT:-3}
      SCAN_TIMEOUT_SEC: ${MAIGRET_TIMEOUT:-300}
      REPORTS_DIR: /app/reports
      # Proxy rotation configuration
      USE_PROXY_ROTATION: ${USE_PROXY_ROTATION:-true}
      PROXY_ROTATION_URL: http://ip-rotation:8050
    volumes:
      - maigret_reports:/app/reports
    networks:
      newsinsight-prod:
        ipv4_address: 172.20.0.73
    depends_on:
      ip-rotation:
        condition: service_healthy
    healthcheck:
      test: ["CMD", "curl", "-f", "http://127.0.0.1:8020/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  bot-detector:
    image: ${REGISTRY:-ghcr.io/nodove}/newsinsight/bot-detector:${TAG:-latest}
    build:
      context: ../../
      dockerfile: backend/services/bot-detector/Dockerfile
    container_name: newsinsight-prod-bot-detector
    restart: unless-stopped
    environment:
      BOT_DETECTOR_MODEL_NAME: ${BOT_DETECTOR_MODEL_NAME:-roberta-base-openai-detector}
      PORT: "8041"
    networks:
      newsinsight-prod:
        ipv4_address: 172.20.0.74
    healthcheck:
      test: ["CMD", "curl", "-f", "http://127.0.0.1:8041/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 60s
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  roboflow-mcp:
    image: ${REGISTRY:-ghcr.io/nodove}/newsinsight/roboflow-mcp:${TAG:-latest}
    build:
      context: ../../mcp/roboflow_mcp
      dockerfile: Dockerfile
    container_name: newsinsight-prod-roboflow-mcp
    restart: unless-stopped
    profiles: ["ml-mcp"]
    environment:
      ROBOFLOW_API_KEY: ${ROBOFLOW_API_KEY:-}
      DATA_DIR: /app/data
      PORT: "5010"
    volumes:
      - ml_shared_data:/app/data
    networks:
      newsinsight-prod:
        ipv4_address: 172.20.0.60
    healthcheck:
      test: ["CMD", "curl", "-f", "http://127.0.0.1:5010/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  huggingface-mcp:
    image: ${REGISTRY:-ghcr.io/nodove}/newsinsight/huggingface-mcp:${TAG:-latest}
    build:
      context: ../../mcp/huggingface_mcp
      dockerfile: Dockerfile
    container_name: newsinsight-prod-huggingface-mcp
    restart: unless-stopped
    profiles: ["ml-mcp"]
    environment:
      HF_TOKEN: ${HF_TOKEN:-}
      DATA_DIR: /app/data
      PORT: "5011"
    volumes:
      - ml_shared_data:/app/data
    networks:
      newsinsight-prod:
        ipv4_address: 172.20.0.61
    healthcheck:
      test: ["CMD", "curl", "-f", "http://127.0.0.1:5011/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  kaggle-mcp:
    image: ${REGISTRY:-ghcr.io/nodove}/newsinsight/kaggle-mcp:${TAG:-latest}
    build:
      context: ../../mcp/kaggle_mcp
      dockerfile: Dockerfile
    container_name: newsinsight-prod-kaggle-mcp
    restart: unless-stopped
    profiles: ["ml-mcp"]
    environment:
      KAGGLE_USERNAME: ${KAGGLE_USERNAME:-}
      KAGGLE_KEY: ${KAGGLE_KEY:-}
      DATA_DIR: /app/data
      PORT: "5012"
    volumes:
      - ml_shared_data:/app/data
    networks:
      newsinsight-prod:
        ipv4_address: 172.20.0.62
    healthcheck:
      test: ["CMD", "curl", "-f", "http://127.0.0.1:5012/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"

  mltraining-mcp:
    image: ${REGISTRY:-ghcr.io/nodove}/newsinsight/mltraining-mcp:${TAG:-latest}
    build:
      context: ../../mcp/mltraining_mcp
      dockerfile: Dockerfile
    container_name: newsinsight-prod-mltraining-mcp
    restart: unless-stopped
    profiles: ["ml-mcp"]
    environment:
      ROBOFLOW_MCP_URL: http://roboflow-mcp:5010
      HUGGINGFACE_MCP_URL: http://huggingface-mcp:5011
      KAGGLE_MCP_URL: http://kaggle-mcp:5012
      DATA_DIR: /app/data
      PORT: "5020"
    volumes:
      - ml_shared_data:/app/data
    networks:
      newsinsight-prod:
        ipv4_address: 172.20.0.63
    depends_on:
      - roboflow-mcp
      - huggingface-mcp
      - kaggle-mcp
    healthcheck:
      test: ["CMD", "curl", "-f", "http://127.0.0.1:5020/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"
```

---

## etc/docker/docker-compose.zerotrust-news.yml

```yml
# Cloudflare Zero Trust Tunnel 기반 NewsInsight Stack
# news.nodove.com 전용 구성 (Preview 환경)
#
# 사전 준비:
# 1. Cloudflare Dashboard에서 Zero Trust > Access > Tunnels 메뉴 진입
# 2. Create a tunnel 클릭 후 tunnel 이름 지정 (예: news-tunnel)
# 3. 생성된 tunnel token 복사
# 4. .env 파일에 CLOUDFLARE_TUNNEL_TOKEN_NEWS=<your-token> 추가
# 5. Public hostname 설정:
#    - news.nodove.com -> http://frontend:8080
#    - news.nodove.com/api/* -> http://api-gateway:8000
#
# 실행: docker compose -f docker-compose.zerotrust-news.yml up -d

services:
  # Cloudflare Tunnel - 외부 트래픽을 내부 서비스로 라우팅
  cloudflared:
    image: cloudflare/cloudflared:latest
    container_name: news-cloudflared
    restart: unless-stopped
    command: tunnel run
    environment:
      - TUNNEL_TOKEN=${CLOUDFLARE_TUNNEL_TOKEN_NEWS}
    depends_on:
      frontend:
        condition: service_started
      api-gateway:
        condition: service_started
    networks:
      - default
    # 외부 포트 노출 없음 - Cloudflare Tunnel을 통해서만 접근

  consul:
    image: hashicorp/consul:1.18
    container_name: news-consul
    command: ["agent", "-dev", "-client", "0.0.0.0", "-ui"]
    # 외부 포트 노출 제거 - 내부 네트워크에서만 접근 가능
    expose:
      - "8500"
    environment:
      - CONSUL_BIND_INTERFACE=eth0
    healthcheck:
      test: ["CMD", "wget", "-qO-", "http://localhost:8500/v1/status/leader"]
      interval: 5s
      timeout: 3s
      retries: 20

  consul-seed:
    image: alpine:3.18
    container_name: news-consul-seed
    depends_on:
      consul:
        condition: service_healthy
    volumes:
      - ../../etc/scripts:/scripts:ro
      - ../../etc/configs:/configs:ro
    environment:
      - CONSUL_HTTP_ADDR=http://consul:8500
      - CONSUL_HTTP_TOKEN=${CONSUL_HTTP_TOKEN:-}
    command: >
      sh -c "
        apk add --no-cache curl bash jq &&
        /scripts/consul_seed.sh ${ENVIRONMENT:-staging}
      "
    restart: "no"

  api-gateway:
    build:
      context: ../../
      dockerfile: backend/api-gateway-service/Dockerfile
    image: news/api-gateway:local
    container_name: news-api-gateway
    depends_on:
      consul:
        condition: service_healthy
      consul-seed:
        condition: service_completed_successfully
      collector-service:
        condition: service_started
      browser-use-api:
        condition: service_started
    environment:
      - CONSUL_HOST=${CONSUL_HOST:-consul}
      - CONSUL_PORT=${CONSUL_PORT:-8500}
      - CONSUL_HTTP_TOKEN=${CONSUL_HTTP_TOKEN:-}
      - REDIS_HOST=${REDIS_HOST:-redis}
      - REDIS_PORT=${REDIS_PORT:-6379}
      - PORT=${API_GATEWAY_PORT:-8000}
      - BROWSER_USE_URL=http://browser-use-api:8500
      - BROWSER_USE_WS_URL=ws://browser-use-api:8500
    # 외부 포트 노출 제거 - Cloudflare Tunnel을 통해서만 접근
    expose:
      - "8000"
    networks:
      - default

  frontend:
    build:
      context: ../../frontend
      dockerfile: Dockerfile
      args:
        # API URL은 브라우저에서 접근 가능한 경로로 설정 (nginx가 프록시함)
        - VITE_API_BASE_URL=
        - VITE_BROWSER_USE_URL=
    image: news/frontend:local
    container_name: news-frontend
    # 외부 포트 노출 제거 - Cloudflare Tunnel을 통해서만 접근
    expose:
      - "8080"
    healthcheck:
      test: ["CMD", "wget", "-qO-", "http://localhost:8080/health"]
      interval: 30s
      timeout: 3s
      retries: 3
    depends_on:
      api-gateway:
        condition: service_started
    networks:
      - default

  collector-service:
    build:
      context: ../../
      dockerfile: backend/data-collection-service/Dockerfile
    image: news/collector-service:local
    container_name: news-collector-service
    depends_on:
      consul:
        condition: service_healthy
      consul-seed:
        condition: service_completed_successfully
      postgres:
        condition: service_healthy
      mongo:
        condition: service_healthy
      web-crawler:
        condition: service_started
      redpanda-dev:
        condition: service_started
    environment:
      - CONSUL_HOST=${CONSUL_HOST:-consul}
      - CONSUL_PORT=${CONSUL_PORT:-8500}
      - CONSUL_ENABLED=${CONSUL_ENABLED:-true}
      - "SPRING_CONFIG_IMPORT=consul:"
      - SPRING_CLOUD_CONSUL_CONFIG_ENABLED=true
      - SPRING_CLOUD_CONSUL_CONFIG_PREFIX=config
      - SPRING_CLOUD_CONSUL_CONFIG_DEFAULT_CONTEXT=collector-service
      - SPRING_CLOUD_CONSUL_CONFIG_FORMAT=YAML
      - SPRING_CLOUD_CONSUL_CONFIG_FAIL_FAST=true
      - REDIS_HOST=${REDIS_HOST:-redis}
      - REDIS_PORT=${REDIS_PORT:-6379}
      - SPRING_DATA_REDIS_HOST=${REDIS_HOST:-redis}
      - SPRING_DATA_REDIS_PORT=${REDIS_PORT:-6379}
      - SPRING_JPA_HIBERNATE_DDL_AUTO=validate
      - PERPLEXITY_API_KEY=${PERPLEXITY_API_KEY:-}
      - PERPLEXITY_MODEL=${PERPLEXITY_MODEL:-sonar}
      - PERPLEXITY_BASE_URL=${PERPLEXITY_BASE_URL:-https://api.perplexity.ai}
      # AI Service URLs (can be overridden via Consul KV)
      - COLLECTOR_AIDOVE_BASE_URL=${COLLECTOR_SERVICE_AIDOVE_BASE_URL:-https://workflow.nodove.com/webhook/aidove}
      - COLLECTOR_CALLBACK_BASE_URL=${COLLECTOR_SERVICE_CALLBACK_BASE_URL:-http://collector-service:8081}
      # DeepSearch - uses IntegratedCrawlerService (n8n deprecated)
      - COLLECTOR_DEEP_SEARCH_ENABLED=false
      - COLLECTOR_DEEP_SEARCH_FALLBACK_TO_WEBHOOK=false
      - DB_HOST=${DB_HOST:-postgres}
      - DB_PORT=${DB_PORT:-5432}
      - DB_NAME=${DB_NAME:-news}
      - DB_USER=${DB_USER:-postgres}
      - DB_PASSWORD=${DB_PASSWORD:-postgres}
      - MONGODB_URI=${MONGODB_URI:-mongodb://mongo:27017/news}
      - KAFKA_BOOTSTRAP_SERVERS=${KAFKA_BOOTSTRAP_SERVERS:-redpanda-dev:9092}
      - SERVER_PORT=${COLLECTOR_PORT:-8081}
      - SPRING_CLOUD_INETUTILS_PREFERRED_NETWORKS=172.21
    expose:
      - "8081"
    networks:
      - default

  web-crawler:
    image: unclecode/crawl4ai:latest
    container_name: news-web-crawler
    shm_size: 1g
    environment:
      - LOG_LEVEL=${WEB_CRAWLER_LOG_LEVEL:-INFO}
    # 외부 포트 노출 제거
    expose:
      - "11235"
    healthcheck:
      test: ["CMD", "wget", "-qO-", "http://localhost:11235/health"]
      interval: 10s
      timeout: 5s
      retries: 10

  postgres:
    image: postgres:15-alpine
    container_name: news-postgres
    environment:
      - POSTGRES_DB=${DB_NAME:-news}
      - POSTGRES_USER=${DB_USER:-postgres}
      - POSTGRES_PASSWORD=${DB_PASSWORD:-postgres}
    expose:
      - "5432"
    volumes:
      - postgres-data:/var/lib/postgresql/data
      - ./db-init:/docker-entrypoint-initdb.d:ro
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U postgres"]
      interval: 5s
      timeout: 3s
      retries: 5

  mongo:
    image: mongo:7
    container_name: news-mongo
    restart: unless-stopped
    environment:
      - MONGO_INITDB_DATABASE=${DB_NAME:-news}
    expose:
      - "27017"
    volumes:
      - mongo-data:/data/db
    healthcheck:
      test: ["CMD", "mongosh", "--eval", "db.adminCommand('ping')"]
      interval: 10s
      timeout: 5s
      retries: 5

  redpanda-dev:
    image: docker.redpanda.com/redpandadata/redpanda:latest
    container_name: news-redpanda
    command:
      - redpanda
      - start
      - --overprovisioned
      - --smp
      - "1"
      - --memory
      - 1G
      - --reserve-memory
      - 0M
      - --node-id
      - "0"
      - --check=false
      - --kafka-addr
      - PLAINTEXT://0.0.0.0:9092
      - --advertise-kafka-addr
      - PLAINTEXT://redpanda-dev:9092
    # 외부 포트 노출 제거
    expose:
      - "9092"
      - "9644"
    networks:
      - default

  redis:
    image: redis:7-alpine
    container_name: news-redis
    expose:
      - "6379"
    command: redis-server --appendonly yes
    volumes:
      - redis-data:/data
    healthcheck:
      test: ["CMD", "redis-cli", "ping"]
      interval: 5s
      timeout: 3s
      retries: 5

  autonomous-crawler:
    build:
      context: ../../
      dockerfile: backend/autonomous-crawler-service/Dockerfile
    image: news/autonomous-crawler:local
    container_name: news-autonomous-crawler
    restart: unless-stopped
    depends_on:
      consul:
        condition: service_healthy
      consul-seed:
        condition: service_completed_successfully
      redpanda-dev:
        condition: service_started
    environment:
      - CONSUL_HOST=${CONSUL_HOST:-consul}
      - CONSUL_PORT=${CONSUL_PORT:-8500}
      - CONSUL_HTTP_TOKEN=${CONSUL_HTTP_TOKEN:-}
      - CONSUL_ENABLED=${CONSUL_ENABLED:-true}
      - CONSUL_SERVICE_NAME=autonomous-crawler
      - KAFKA_BOOTSTRAP_SERVERS=${KAFKA_BOOTSTRAP_SERVERS:-redpanda-dev:9092}
      - KAFKA_CONSUMER_GROUP_ID=${CRAWLER_CONSUMER_GROUP:-autonomous-crawler-group}
      - KAFKA_BROWSER_TASK_TOPIC=${CRAWLER_TASK_TOPIC:-news.crawl.browser.tasks}
      - KAFKA_CRAWL_RESULT_TOPIC=${CRAWLER_RESULT_TOPIC:-news.crawl.results}
      - BROWSER_HEADLESS=${CRAWLER_HEADLESS:-true}
      - BROWSER_MAX_CONCURRENT_SESSIONS=${CRAWLER_MAX_SESSIONS:-2}
      - BROWSER_DEFAULT_TIMEOUT_SECONDS=${CRAWLER_TIMEOUT:-300}
      - LLM_PROVIDER=${CRAWLER_LLM_PROVIDER:-openai}
      - LLM_OPENAI_API_KEY=${OPENAI_API_KEY:-}
      - LLM_OPENAI_MODEL=${CRAWLER_OPENAI_MODEL:-gpt-4o}
      - LLM_ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY:-}
      - LLM_ANTHROPIC_MODEL=${CRAWLER_ANTHROPIC_MODEL:-claude-3-5-sonnet-20241022}
      - SEARCH_BRAVE_API_KEY=${SEARCH_BRAVE_API_KEY:-}
      - SEARCH_TAVILY_API_KEY=${SEARCH_TAVILY_API_KEY:-}
      - SEARCH_PERPLEXITY_API_KEY=${SEARCH_PERPLEXITY_API_KEY:-}
      - STEALTH_ENABLED=${STEALTH_ENABLED:-true}
      - CAPTCHA_ENABLED=${CAPTCHA_ENABLED:-true}
      - METRICS_ENABLED=${CRAWLER_METRICS_ENABLED:-true}
      - METRICS_PORT=${CRAWLER_METRICS_PORT:-9090}
      - LOG_LEVEL=${CRAWLER_LOG_LEVEL:-INFO}
      - LOG_FORMAT=${CRAWLER_LOG_FORMAT:-json}
    # 외부 포트 노출 제거
    expose:
      - "9090"
    shm_size: 2g
    networks:
      - default

  browser-use-api:
    build:
      context: ../../backend/services/browser-use-api
      dockerfile: Dockerfile.api
    image: news/browser-use-api:local
    container_name: news-browser-use-api
    restart: unless-stopped
    environment:
      - AIDOVE_WEBHOOK_URL=${AIDOVE_WEBHOOK_URL:-https://workflow.nodove.com/webhook/aidove}
      - BROWSER_HEADLESS=${BROWSER_USE_HEADLESS:-true}
      - SERVER_PORT=8500
      - LOG_LEVEL=${BROWSER_USE_LOG_LEVEL:-INFO}
    # 외부 포트 노출 제거
    expose:
      - "8500"
    shm_size: 2g
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8500/health"]
      interval: 30s
      timeout: 10s
      retries: 3
    networks:
      - default

volumes:
  postgres-data:
    name: news-postgres-data
  redis-data:
    name: news-redis-data
  mongo-data:
    name: news-mongo-data

networks:
  default:
    name: news-zerotrust-net

```

---

## etc/docker/docker-compose.zerotrust-newsinsight.yml

```yml
# Cloudflare Zero Trust Tunnel 기반 NewsInsight Stack
# newsinsight.nodove.com 전용 구성
#
# 사전 준비:
# 1. Cloudflare Dashboard에서 Zero Trust > Access > Tunnels 메뉴 진입
# 2. Create a tunnel 클릭 후 tunnel 이름 지정 (예: newsinsight-tunnel)
# 3. 생성된 tunnel token 복사
# 4. .env 파일에 CLOUDFLARE_TUNNEL_TOKEN_NEWSINSIGHT=<your-token> 추가
# 5. Public hostname 설정:
#    - newsinsight.nodove.com -> http://frontend:8080
#    - newsinsight.nodove.com/api/* -> http://api-gateway:8000
#
# 실행: docker compose -p newsinsight -f docker-compose.zerotrust-newsinsight.yml up -d

services:
  # ============================================================================
  # Infrastructure Services
  # ============================================================================
  
  consul:
    image: hashicorp/consul:1.18
    container_name: newsinsight-consul
    command: ["agent", "-dev", "-client", "0.0.0.0", "-ui"]
    expose:
      - "8500"
    environment:
      - CONSUL_BIND_INTERFACE=eth0
    healthcheck:
      test: ["CMD", "wget", "-qO-", "http://localhost:8500/v1/status/leader"]
      interval: 5s
      timeout: 3s
      retries: 20
    volumes:
      - consul-data:/consul/data

  consul-seed:
    image: alpine:3.18
    container_name: newsinsight-consul-seed
    depends_on:
      consul:
        condition: service_healthy
    volumes:
      - ../../etc/scripts:/scripts:ro
      - ../../etc/configs:/configs:ro
    environment:
      - CONSUL_HTTP_ADDR=http://consul:8500
      - CONSUL_HTTP_TOKEN=${CONSUL_HTTP_TOKEN:-}
    command: >
      sh -c "
        apk add --no-cache curl bash jq &&
        /scripts/consul_seed.sh ${ENVIRONMENT:-production}
      "
    restart: "no"

  postgres:
    image: postgres:15-alpine
    container_name: newsinsight-postgres
    environment:
      - POSTGRES_DB=${DB_NAME:-newsinsight}
      - POSTGRES_USER=${DB_USER:-postgres}
      - POSTGRES_PASSWORD=${DB_PASSWORD:-postgres}
    expose:
      - "5432"
    volumes:
      - postgres-data:/var/lib/postgresql/data
      - ./db-init:/docker-entrypoint-initdb.d:ro
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U postgres"]
      interval: 5s
      timeout: 3s
      retries: 5

  mongo:
    image: mongo:7
    container_name: newsinsight-mongo
    restart: unless-stopped
    environment:
      - MONGO_INITDB_DATABASE=${DB_NAME:-newsinsight}
    expose:
      - "27017"
    volumes:
      - mongo-data:/data/db
    healthcheck:
      test: ["CMD", "mongosh", "--eval", "db.adminCommand('ping')"]
      interval: 10s
      timeout: 5s
      retries: 5

  redis:
    image: redis:7-alpine
    container_name: newsinsight-redis
    expose:
      - "6379"
    command: redis-server --appendonly yes
    volumes:
      - redis-data:/data
    healthcheck:
      test: ["CMD", "redis-cli", "ping"]
      interval: 5s
      timeout: 3s
      retries: 5

  redpanda-dev:
    image: docker.redpanda.com/redpandadata/redpanda:latest
    container_name: newsinsight-redpanda
    command:
      - redpanda
      - start
      - --overprovisioned
      - --smp
      - "1"
      - --memory
      - 1G
      - --reserve-memory
      - 0M
      - --node-id
      - "0"
      - --check=false
      - --kafka-addr
      - PLAINTEXT://0.0.0.0:9092
      - --advertise-kafka-addr
      - PLAINTEXT://redpanda-dev:9092
    expose:
      - "9092"
      - "9644"

  # ============================================================================
  # Crawling Infrastructure
  # ============================================================================

  web-crawler:
    image: unclecode/crawl4ai:latest
    container_name: newsinsight-web-crawler
    shm_size: 1g
    environment:
      - LOG_LEVEL=${WEB_CRAWLER_LOG_LEVEL:-INFO}
    expose:
      - "11235"
    healthcheck:
      test: ["CMD", "wget", "-qO-", "http://localhost:11235/health"]
      interval: 10s
      timeout: 5s
      retries: 10

  ip-rotation:
    build:
      context: ../../backend/services/ip-rotation
      dockerfile: Dockerfile
    image: newsinsight/ip-rotation:local
    container_name: newsinsight-ip-rotation
    restart: unless-stopped
    environment:
      - STRATEGY=${IP_ROTATION_STRATEGY:-weighted}
      - MAX_FAILURES=${IP_ROTATION_MAX_FAILURES:-5}
      - COOLDOWN_MINUTES=${IP_ROTATION_COOLDOWN:-30}
      - HEALTH_CHECK_INTERVAL=${IP_ROTATION_HEALTH_CHECK:-300}
      - PERSISTENCE_PATH=/data/ip_pool_state.json
      - PORT=8050
    volumes:
      - ip-rotation-data:/data
    expose:
      - "8050"
    healthcheck:
      test: ["CMD", "wget", "-qO-", "http://localhost:8050/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 10s

  crawl-worker:
    build:
      context: ../../
      dockerfile: backend/autonomous-crawler-service/crawl-worker/Dockerfile
    image: newsinsight/crawl-worker:local
    container_name: newsinsight-crawl-worker
    restart: unless-stopped
    environment:
      - PORT=8040
      - MAX_CONCURRENT_CRAWLS=${CRAWL_WORKER_MAX_CONCURRENT:-5}
      - USE_PROXY_ROTATION=${USE_PROXY_ROTATION:-true}
      - PROXY_ROTATION_URL=http://ip-rotation:8050
    expose:
      - "8040"
    depends_on:
      ip-rotation:
        condition: service_healthy
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8040/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s

  maigret-worker:
    build:
      context: ../../
      dockerfile: backend/data-collection-service/maigret-worker/Dockerfile
    image: newsinsight/maigret-worker:local
    container_name: newsinsight-maigret-worker
    restart: unless-stopped
    environment:
      - PORT=8020
      - MAX_CONCURRENT_SCANS=${MAIGRET_MAX_CONCURRENT:-3}
      - SCAN_TIMEOUT_SEC=${MAIGRET_TIMEOUT:-300}
      - REPORTS_DIR=/app/reports
      - USE_PROXY_ROTATION=${USE_PROXY_ROTATION:-true}
      - PROXY_ROTATION_URL=http://ip-rotation:8050
    volumes:
      - maigret-reports:/app/reports
    expose:
      - "8020"
    depends_on:
      ip-rotation:
        condition: service_healthy
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8020/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s

  browser-use-api:
    build:
      context: ../../backend/services/browser-use-api
      dockerfile: Dockerfile.api
    image: newsinsight/browser-use-api:local
    container_name: newsinsight-browser-use-api
    restart: unless-stopped
    environment:
      - AIDOVE_WEBHOOK_URL=${AIDOVE_WEBHOOK_URL:-https://workflow.nodove.com/webhook/aidove}
      - BROWSER_HEADLESS=${BROWSER_USE_HEADLESS:-true}
      - SERVER_PORT=8500
      - LOG_LEVEL=${BROWSER_USE_LOG_LEVEL:-INFO}
    expose:
      - "8500"
    shm_size: 2g
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8500/health"]
      interval: 30s
      timeout: 10s
      retries: 3

  # ============================================================================
  # ML Add-ons
  # ============================================================================

  sentiment-addon:
    build:
      context: ../../backend/ml-addons/sentiment-addon
      dockerfile: Dockerfile
    image: newsinsight/sentiment-addon:local
    container_name: newsinsight-sentiment-addon
    restart: unless-stopped
    expose:
      - "8100"
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8100/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 10s

  factcheck-addon:
    build:
      context: ../../backend/ml-addons/factcheck-addon
      dockerfile: Dockerfile
    image: newsinsight/factcheck-addon:local
    container_name: newsinsight-factcheck-addon
    restart: unless-stopped
    expose:
      - "8101"
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8101/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 10s

  bias-addon:
    build:
      context: ../../backend/ml-addons/bias-addon
      dockerfile: Dockerfile
    image: newsinsight/bias-addon:local
    container_name: newsinsight-bias-addon
    restart: unless-stopped
    expose:
      - "8102"
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8102/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 10s

  bot-detector:
    build:
      context: ../../
      dockerfile: backend/services/bot-detector/Dockerfile
    image: newsinsight/bot-detector:local
    container_name: newsinsight-bot-detector
    restart: unless-stopped
    environment:
      - BOT_DETECTOR_MODEL_NAME=${BOT_DETECTOR_MODEL_NAME:-roberta-base-openai-detector}
    expose:
      - "8040"
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8040/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 60s

  # ============================================================================
  # Application Services
  # ============================================================================

  collector-service:
    build:
      context: ../../
      dockerfile: backend/data-collection-service/Dockerfile
    image: newsinsight/collector-service:local
    container_name: newsinsight-collector-service
    depends_on:
      consul:
        condition: service_healthy
      consul-seed:
        condition: service_completed_successfully
      postgres:
        condition: service_healthy
      mongo:
        condition: service_healthy
      redis:
        condition: service_healthy
      web-crawler:
        condition: service_started
      redpanda-dev:
        condition: service_started
    environment:
      - CONSUL_HOST=${CONSUL_HOST:-consul}
      - CONSUL_PORT=${CONSUL_PORT:-8500}
      - CONSUL_ENABLED=${CONSUL_ENABLED:-true}
      - "SPRING_CONFIG_IMPORT=consul:"
      - SPRING_PROFILES_ACTIVE=local-consul
      - SPRING_CLOUD_CONSUL_CONFIG_ENABLED=true
      - SPRING_CLOUD_CONSUL_CONFIG_PREFIX=config
      - SPRING_CLOUD_CONSUL_CONFIG_DEFAULT_CONTEXT=collector-service
      - SPRING_CLOUD_CONSUL_CONFIG_FORMAT=YAML
      - SPRING_CLOUD_CONSUL_CONFIG_FAIL_FAST=true
      - REDIS_HOST=${REDIS_HOST:-redis}
      - REDIS_PORT=${REDIS_PORT:-6379}
      - SPRING_DATA_REDIS_HOST=${REDIS_HOST:-redis}
      - SPRING_DATA_REDIS_PORT=${REDIS_PORT:-6379}
      - SPRING_JPA_HIBERNATE_DDL_AUTO=validate
      - PERPLEXITY_API_KEY=${PERPLEXITY_API_KEY:-}
      - PERPLEXITY_MODEL=${PERPLEXITY_MODEL:-sonar}
      - PERPLEXITY_BASE_URL=${PERPLEXITY_BASE_URL:-https://api.perplexity.ai}
      - COLLECTOR_AIDOVE_BASE_URL=${COLLECTOR_SERVICE_AIDOVE_BASE_URL:-https://workflow.nodove.com/webhook/aidove}
      - COLLECTOR_CALLBACK_BASE_URL=${COLLECTOR_SERVICE_CALLBACK_BASE_URL:-http://collector-service:8081}
      - COLLECTOR_DEEP_SEARCH_ENABLED=false
      - COLLECTOR_DEEP_SEARCH_FALLBACK_TO_WEBHOOK=false
      # Auto-Crawl Configuration (실시간 확장형 크롤링)
      - AUTOCRAWL_ENABLED=true
      - AUTOCRAWL_BATCH_SIZE=10
      - AUTOCRAWL_DISCOVER_FROM_SEARCH=true
      - AUTOCRAWL_DISCOVER_FROM_ARTICLES=true
      - AUTOCRAWL_DISCOVER_FROM_DEEP_SEARCH=true
      - DB_HOST=${DB_HOST:-postgres}
      - DB_PORT=${DB_PORT:-5432}
      - DB_NAME=${DB_NAME:-newsinsight}
      - DB_USER=${DB_USER:-postgres}
      - DB_PASSWORD=${DB_PASSWORD:-postgres}
      - MONGODB_URI=${MONGODB_URI:-mongodb://mongo:27017/newsinsight}
      - KAFKA_BOOTSTRAP_SERVERS=${KAFKA_BOOTSTRAP_SERVERS:-redpanda-dev:9092}
      - SERVER_PORT=${COLLECTOR_PORT:-8081}
    expose:
      - "8081"

  autonomous-crawler:
    build:
      context: ../../
      dockerfile: backend/autonomous-crawler-service/Dockerfile
    image: newsinsight/autonomous-crawler:local
    container_name: newsinsight-autonomous-crawler
    restart: unless-stopped
    depends_on:
      consul:
        condition: service_healthy
      consul-seed:
        condition: service_completed_successfully
      redpanda-dev:
        condition: service_started
      browser-use-api:
        condition: service_healthy
    environment:
      - CONSUL_HOST=${CONSUL_HOST:-consul}
      - CONSUL_PORT=${CONSUL_PORT:-8500}
      - CONSUL_HTTP_TOKEN=${CONSUL_HTTP_TOKEN:-}
      - CONSUL_ENABLED=${CONSUL_ENABLED:-true}
      - CONSUL_SERVICE_NAME=autonomous-crawler
      - SERVICE_MODE=${CRAWLER_SERVICE_MODE:-hybrid}
      - API_PORT=${CRAWLER_API_PORT:-8030}
      - KAFKA_BOOTSTRAP_SERVERS=${KAFKA_BOOTSTRAP_SERVERS:-redpanda-dev:9092}
      - KAFKA_CONSUMER_GROUP_ID=${CRAWLER_CONSUMER_GROUP:-autonomous-crawler-group}
      - KAFKA_BROWSER_TASK_TOPIC=${CRAWLER_TASK_TOPIC:-newsinsight.crawl.browser.tasks}
      - KAFKA_CRAWL_RESULT_TOPIC=${CRAWLER_RESULT_TOPIC:-newsinsight.crawl.results}
      - BROWSER_HEADLESS=${CRAWLER_HEADLESS:-true}
      - BROWSER_MAX_CONCURRENT_SESSIONS=${CRAWLER_MAX_SESSIONS:-2}
      - BROWSER_DEFAULT_TIMEOUT_SECONDS=${CRAWLER_TIMEOUT:-300}
      - LLM_PROVIDER=${CRAWLER_LLM_PROVIDER:-openai}
      - LLM_OPENAI_API_KEY=${OPENAI_API_KEY:-}
      - LLM_OPENAI_MODEL=${CRAWLER_OPENAI_MODEL:-gpt-4o}
      - LLM_ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY:-}
      - LLM_ANTHROPIC_MODEL=${CRAWLER_ANTHROPIC_MODEL:-claude-3-5-sonnet-20241022}
      - SEARCH_BRAVE_API_KEY=${SEARCH_BRAVE_API_KEY:-}
      - SEARCH_TAVILY_API_KEY=${SEARCH_TAVILY_API_KEY:-}
      - SEARCH_PERPLEXITY_API_KEY=${SEARCH_PERPLEXITY_API_KEY:-}
      - STEALTH_ENABLED=${STEALTH_ENABLED:-true}
      - CAPTCHA_ENABLED=${CAPTCHA_ENABLED:-true}
      - METRICS_ENABLED=${CRAWLER_METRICS_ENABLED:-true}
      - METRICS_PORT=${CRAWLER_METRICS_PORT:-9090}
      - LOG_LEVEL=${CRAWLER_LOG_LEVEL:-INFO}
      - LOG_FORMAT=${CRAWLER_LOG_FORMAT:-json}
    expose:
      - "9090"
      - "8030"
    shm_size: 2g
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8030/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 30s

  api-gateway:
    build:
      context: ../../
      dockerfile: backend/api-gateway-service/Dockerfile
    image: newsinsight/api-gateway:local
    container_name: newsinsight-api-gateway
    depends_on:
      consul:
        condition: service_healthy
      consul-seed:
        condition: service_completed_successfully
      collector-service:
        condition: service_started
      browser-use-api:
        condition: service_started
      sentiment-addon:
        condition: service_started
      factcheck-addon:
        condition: service_started
      bias-addon:
        condition: service_started
      bot-detector:
        condition: service_started
    environment:
      - CONSUL_HOST=${CONSUL_HOST:-consul}
      - CONSUL_PORT=${CONSUL_PORT:-8500}
      - CONSUL_HTTP_TOKEN=${CONSUL_HTTP_TOKEN:-}
      - REDIS_HOST=${REDIS_HOST:-redis}
      - REDIS_PORT=${REDIS_PORT:-6379}
      - PORT=${API_GATEWAY_PORT:-8000}
      - BROWSER_USE_URL=http://browser-use-api:8500
      - BROWSER_USE_WS_URL=ws://browser-use-api:8500
      - ML_ADDON_SENTIMENT_URL=http://sentiment-addon:8100
      - ML_ADDON_FACTCHECK_URL=http://factcheck-addon:8101
      - ML_ADDON_BIAS_URL=http://bias-addon:8102
      - ML_ADDON_BOT_DETECTOR_URL=http://bot-detector:8040
    expose:
      - "8000"

  frontend:
    image: node:20-alpine
    container_name: newsinsight-frontend
    working_dir: /app
    volumes:
      - ../../frontend:/app
      - frontend-node-modules:/app/node_modules
    environment:
      - VITE_API_BASE_URL=http://api-gateway:8000
      - VITE_BROWSER_USE_URL=http://api-gateway:8000
    command: >
      sh -c "(npm ci --legacy-peer-deps || npm install --legacy-peer-deps) \
      && npm run dev -- --host 0.0.0.0 --port 8080"
    expose:
      - "8080"
    depends_on:
      api-gateway:
        condition: service_started

  # ============================================================================
  # Cloudflare Tunnel - 외부 트래픽을 내부 서비스로 라우팅
  # ============================================================================
  cloudflared:
    image: cloudflare/cloudflared:latest
    container_name: newsinsight-cloudflared
    restart: unless-stopped
    command: tunnel run
    environment:
      - TUNNEL_TOKEN=${CLOUDFLARE_TUNNEL_TOKEN_NEWSINSIGHT}
    depends_on:
      frontend:
        condition: service_started
      api-gateway:
        condition: service_started

volumes:
  consul-data:
    name: newsinsight-consul-data
  postgres-data:
    name: newsinsight-postgres-data
  mongo-data:
    name: newsinsight-mongo-data
  redis-data:
    name: newsinsight-redis-data
  frontend-node-modules:
    name: newsinsight-frontend-node-modules
  ip-rotation-data:
    name: newsinsight-ip-rotation-data
  maigret-reports:
    name: newsinsight-maigret-reports

networks:
  default:
    name: newsinsight-zerotrust-dedicated-net

```

---

## etc/docker/docker-compose.zerotrust-preview.yml

```yml
# Cloudflare Zero Trust Tunnel 기반 NewsInsight Stack (Preview)
# news.nodove.com (프리뷰 프로덕션) 으로만 접근 가능하도록 구성
#
# 사전 준비:
# 1. Cloudflare Dashboard에서 Zero Trust > Access > Tunnels 메뉴 진입
# 2. Create a tunnel 클릭 후 tunnel 이름 지정 (예: news-preview-tunnel)
# 3. 생성된 preview tunnel token 복사
# 4. etc/docker/.env 파일에 CLOUDFLARE_TUNNEL_TOKEN_PREVIEW=<your-preview-token> 추가
# 5. Public hostname 설정:
#    - news.nodove.com -> http://frontend:8080
#    - news.nodove.com/api/* -> http://api-gateway:8000
#
# 실행: docker compose -f docker-compose.zerotrust-preview.yml up -d

services:
  # Cloudflare Tunnel - 외부 트래픽을 내부 서비스로 라우팅 (Preview)
  cloudflared:
    image: cloudflare/cloudflared:latest
    container_name: newsinsight-preview-cloudflared
    restart: unless-stopped
    command: tunnel run
    environment:
      - TUNNEL_TOKEN=${CLOUDFLARE_TUNNEL_TOKEN_PREVIEW}
    depends_on:
      frontend:
        condition: service_started
      api-gateway:
        condition: service_started
    networks:
      - default
    # 외부 포트 노출 없음 - Cloudflare Tunnel을 통해서만 접근

  consul:
    image: hashicorp/consul:1.18
    command: ["agent", "-dev", "-client", "0.0.0.0", "-ui"]
    # 외부 포트 노출 제거 - 내부 네트워크에서만 접근 가능
    expose:
      - "8500"
    environment:
      - CONSUL_BIND_INTERFACE=eth0
    healthcheck:
      test: ["CMD", "wget", "-qO-", "http://localhost:8500/v1/status/leader"]
      interval: 5s
      timeout: 3s
      retries: 20

  consul-seed:
    image: alpine:3.18
    depends_on:
      consul:
        condition: service_healthy
    volumes:
      - ../../etc/scripts:/scripts:ro
      - ../../etc/configs:/configs:ro
    environment:
      - CONSUL_HTTP_ADDR=http://consul:8500
      - CONSUL_HTTP_TOKEN=${CONSUL_HTTP_TOKEN:-}
    command: >
      sh -c "
        apk add --no-cache curl bash jq &&
        /scripts/consul_seed.sh ${ENVIRONMENT:-production}
      "
    restart: "no"

  api-gateway:
    build:
      context: ../../
      dockerfile: backend/api-gateway-service/Dockerfile
    image: newsinsight/api-gateway:local-preview
    depends_on:
      consul:
        condition: service_healthy
      consul-seed:
        condition: service_completed_successfully
      collector-service:
        condition: service_started
      browser-use-api:
        condition: service_started
      sentiment-addon:
        condition: service_started
      factcheck-addon:
        condition: service_started
      bias-addon:
        condition: service_started
    environment:
      - CONSUL_HOST=${CONSUL_HOST:-consul}
      - CONSUL_PORT=${CONSUL_PORT:-8500}
      - CONSUL_HTTP_TOKEN=${CONSUL_HTTP_TOKEN:-}
      - REDIS_HOST=${REDIS_HOST:-redis}
      - REDIS_PORT=${REDIS_PORT:-6379}
      - PORT=${API_GATEWAY_PORT:-8000}
      - BROWSER_USE_URL=http://browser-use-api:8500
      - BROWSER_USE_WS_URL=ws://browser-use-api:8500
      - ML_ADDON_SENTIMENT_URL=http://sentiment-addon:8100
      - ML_ADDON_FACTCHECK_URL=http://factcheck-addon:8101
      - ML_ADDON_BIAS_URL=http://bias-addon:8102
    # 외부 포트 노출 제거 - Cloudflare Tunnel을 통해서만 접근
    expose:
      - "8000"
    networks:
      - default

  frontend:
    image: node:20-alpine
    working_dir: /app
    volumes:
      - ../../frontend:/app
      - frontend-node-modules:/app/node_modules
    environment:
      # Zero Trust Preview 환경: Vite 프록시를 통해 내부 api-gateway로 라우팅
      - VITE_API_BASE_URL=http://api-gateway:8000
      - VITE_BROWSER_USE_URL=http://api-gateway:8000
    command: >
      sh -c "(npm ci --legacy-peer-deps || npm install --legacy-peer-deps) \
      && npm run dev -- --host 0.0.0.0 --port 8080"
    # 외부 포트 노출 제거 - Cloudflare Tunnel을 통해서만 접근
    expose:
      - "8080"
    depends_on:
      api-gateway:
        condition: service_started
    networks:
      - default

  collector-service:
    build:
      context: ../../
      dockerfile: backend/data-collection-service/Dockerfile
    image: newsinsight/collector-service:local-preview
    depends_on:
      consul:
        condition: service_healthy
      consul-seed:
        condition: service_completed_successfully
      postgres:
        condition: service_healthy
      mongo:
        condition: service_healthy
      web-crawler:
        condition: service_started
      redpanda-dev:
        condition: service_started
    environment:
      - CONSUL_HOST=${CONSUL_HOST:-consul}
      - CONSUL_PORT=${CONSUL_PORT:-8500}
      - CONSUL_ENABLED=${CONSUL_ENABLED:-true}
      - "SPRING_CONFIG_IMPORT=consul:"
      - SPRING_CLOUD_CONSUL_CONFIG_ENABLED=true
      - SPRING_CLOUD_CONSUL_CONFIG_PREFIX=config
      - SPRING_CLOUD_CONSUL_CONFIG_DEFAULT_CONTEXT=collector-service
      - SPRING_CLOUD_CONSUL_CONFIG_FORMAT=YAML
      - SPRING_CLOUD_CONSUL_CONFIG_FAIL_FAST=true
      - REDIS_HOST=${REDIS_HOST:-redis}
      - REDIS_PORT=${REDIS_PORT:-6379}
      - SPRING_DATA_REDIS_HOST=${REDIS_HOST:-redis}
      - SPRING_DATA_REDIS_PORT=${REDIS_PORT:-6379}
      - SPRING_JPA_HIBERNATE_DDL_AUTO=validate
      - PERPLEXITY_API_KEY=${PERPLEXITY_API_KEY:-}
      - PERPLEXITY_MODEL=${PERPLEXITY_MODEL:-sonar}
      - PERPLEXITY_BASE_URL=${PERPLEXITY_BASE_URL:-https://api.perplexity.ai}
      # AI Service URLs (can be overridden via Consul KV)
      - COLLECTOR_AIDOVE_BASE_URL=${COLLECTOR_SERVICE_AIDOVE_BASE_URL:-https://workflow.nodove.com/webhook/aidove}
      - COLLECTOR_CALLBACK_BASE_URL=${COLLECTOR_SERVICE_CALLBACK_BASE_URL:-http://collector-service:8081}
      # DeepSearch - uses IntegratedCrawlerService (n8n deprecated)
      - COLLECTOR_DEEP_SEARCH_ENABLED=false
      - COLLECTOR_DEEP_SEARCH_FALLBACK_TO_WEBHOOK=false
      - DB_HOST=${DB_HOST:-postgres}
      - DB_PORT=${DB_PORT:-5432}
      - DB_NAME=${DB_NAME:-newsinsight}
      - DB_USER=${DB_USER:-postgres}
      - DB_PASSWORD=${DB_PASSWORD:-postgres}
      - MONGODB_URI=${MONGODB_URI:-mongodb://mongo:27017/newsinsight}
      - KAFKA_BOOTSTRAP_SERVERS=${KAFKA_BOOTSTRAP_SERVERS:-redpanda-dev:9092}
      - SERVER_PORT=${COLLECTOR_PORT:-8081}
      - SPRING_CLOUD_INETUTILS_PREFERRED_NETWORKS=172.20
    expose:
      - "8081"
    networks:
      - default

  web-crawler:
    image: unclecode/crawl4ai:latest
    shm_size: 1g
    environment:
      - LOG_LEVEL=${WEB_CRAWLER_LOG_LEVEL:-INFO}
    # 외부 포트 노출 제거
    expose:
      - "11235"
    healthcheck:
      test: ["CMD", "wget", "-qO-", "http://localhost:11235/health"]
      interval: 10s
      timeout: 5s
      retries: 10

  postgres:
    image: postgres:15-alpine
    environment:
      - POSTGRES_DB=${DB_NAME:-newsinsight}
      - POSTGRES_USER=${DB_USER:-postgres}
      - POSTGRES_PASSWORD=${DB_PASSWORD:-postgres}
    expose:
      - "5432"
    volumes:
      - postgres-data:/var/lib/postgresql/data
      - ./db-init:/docker-entrypoint-initdb.d:ro
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U postgres"]
      interval: 5s
      timeout: 3s
      retries: 5

  mongo:
    image: mongo:7
    restart: unless-stopped
    environment:
      - MONGO_INITDB_DATABASE=${DB_NAME:-newsinsight}
    expose:
      - "27017"
    volumes:
      - mongo-data:/data/db
    healthcheck:
      test: ["CMD", "mongosh", "--eval", "db.adminCommand('ping')"]
      interval: 10s
      timeout: 5s
      retries: 5

  redpanda-dev:
    image: docker.redpanda.com/redpandadata/redpanda:latest
    command:
      - redpanda
      - start
      - --overprovisioned
      - --smp
      - "1"
      - --memory
      - 1G
      - --reserve-memory
      - 0M
      - --node-id
      - "0"
      - --check=false
      - --kafka-addr
      - PLAINTEXT://0.0.0.0:9092
      - --advertise-kafka-addr
      - PLAINTEXT://redpanda-dev:9092
    # 외부 포트 노출 제거
    expose:
      - "9092"
      - "9644"
    networks:
      - default

  redis:
    image: redis:7-alpine
    expose:
      - "6379"
    command: redis-server --appendonly yes
    volumes:
      - redis-data:/data
    healthcheck:
      test: ["CMD", "redis-cli", "ping"]
      interval: 5s
      timeout: 3s
      retries: 5

  autonomous-crawler:
    build:
      context: ../../
      dockerfile: backend/autonomous-crawler-service/Dockerfile
    image: newsinsight/autonomous-crawler:local-preview
    restart: unless-stopped
    depends_on:
      consul:
        condition: service_healthy
      consul-seed:
        condition: service_completed_successfully
      redpanda-dev:
        condition: service_started
    environment:
      - CONSUL_HOST=${CONSUL_HOST:-consul}
      - CONSUL_PORT=${CONSUL_PORT:-8500}
      - CONSUL_HTTP_TOKEN=${CONSUL_HTTP_TOKEN:-}
      - CONSUL_ENABLED=${CONSUL_ENABLED:-true}
      - CONSUL_SERVICE_NAME=autonomous-crawler
      - KAFKA_BOOTSTRAP_SERVERS=${KAFKA_BOOTSTRAP_SERVERS:-redpanda-dev:9092}
      - KAFKA_CONSUMER_GROUP_ID=${CRAWLER_CONSUMER_GROUP:-autonomous-crawler-group}
      - KAFKA_BROWSER_TASK_TOPIC=${CRAWLER_TASK_TOPIC:-newsinsight.crawl.browser.tasks}
      - KAFKA_CRAWL_RESULT_TOPIC=${CRAWLER_RESULT_TOPIC:-newsinsight.crawl.results}
      - BROWSER_HEADLESS=${CRAWLER_HEADLESS:-true}
      - BROWSER_MAX_CONCURRENT_SESSIONS=${CRAWLER_MAX_SESSIONS:-2}
      - BROWSER_DEFAULT_TIMEOUT_SECONDS=${CRAWLER_TIMEOUT:-300}
      - LLM_PROVIDER=${CRAWLER_LLM_PROVIDER:-openai}
      - LLM_OPENAI_API_KEY=${OPENAI_API_KEY:-}
      - LLM_OPENAI_MODEL=${CRAWLER_OPENAI_MODEL:-gpt-4o}
      - LLM_ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY:-}
      - LLM_ANTHROPIC_MODEL=${CRAWLER_ANTHROPIC_MODEL:-claude-3-5-sonnet-20241022}
      - SEARCH_BRAVE_API_KEY=${SEARCH_BRAVE_API_KEY:-}
      - SEARCH_TAVILY_API_KEY=${SEARCH_TAVILY_API_KEY:-}
      - SEARCH_PERPLEXITY_API_KEY=${SEARCH_PERPLEXITY_API_KEY:-}
      - STEALTH_ENABLED=${STEALTH_ENABLED:-true}
      - CAPTCHA_ENABLED=${CAPTCHA_ENABLED:-true}
      - METRICS_ENABLED=${CRAWLER_METRICS_ENABLED:-true}
      - METRICS_PORT=${CRAWLER_METRICS_PORT:-9090}
      - LOG_LEVEL=${CRAWLER_LOG_LEVEL:-INFO}
      - LOG_FORMAT=${CRAWLER_LOG_FORMAT:-json}
    # 외부 포트 노출 제거
    expose:
      - "9090"
    shm_size: 2g
    networks:
      - default

  browser-use-api:
    build:
      context: ../../backend/services/browser-use-api
      dockerfile: Dockerfile.api
    image: newsinsight/browser-use-api:local-preview
    restart: unless-stopped
    environment:
      - AIDOVE_WEBHOOK_URL=${AIDOVE_WEBHOOK_URL:-https://workflow.nodove.com/webhook/aidove}
      - BROWSER_HEADLESS=${BROWSER_USE_HEADLESS:-true}
      - SERVER_PORT=8500
      - LOG_LEVEL=${BROWSER_USE_LOG_LEVEL:-INFO}
    # 외부 포트 노출 제거
    expose:
      - "8500"
    shm_size: 2g
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8500/health"]
      interval: 30s
      timeout: 10s
      retries: 3
    networks:
      - default

  # ML Add-ons - 감정 분석 (Sentiment Analysis)
  sentiment-addon:
    build:
      context: ../../backend/ml-addons/sentiment-addon
      dockerfile: Dockerfile
    image: newsinsight/sentiment-addon:local-preview
    restart: unless-stopped
    expose:
      - "8100"
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8100/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 10s
    networks:
      - default

  # ML Add-ons - 팩트체크 (Fact Check)
  factcheck-addon:
    build:
      context: ../../backend/ml-addons/factcheck-addon
      dockerfile: Dockerfile
    image: newsinsight/factcheck-addon:local-preview
    restart: unless-stopped
    expose:
      - "8101"
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8101/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 10s
    networks:
      - default

  # ML Add-ons - 편향도 분석 (Bias Analysis)
  bias-addon:
    build:
      context: ../../backend/ml-addons/bias-addon
      dockerfile: Dockerfile
    image: newsinsight/bias-addon:local-preview
    restart: unless-stopped
    expose:
      - "8102"
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8102/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 10s
    networks:
      - default

volumes:
  postgres-data:
  redis-data:
  frontend-node-modules:
  mongo-data:

networks:
  default:
    name: newsinsight-zerotrust-preview-net

```

---

## etc/docker/docker-compose.zerotrust.yml

```yml
# Cloudflare Zero Trust Tunnel 기반 NewsInsight Stack
# newsinsight.nodove.com 으로만 접근 가능하도록 구성
#
# 사전 준비:
# 1. Cloudflare Dashboard에서 Zero Trust > Access > Tunnels 메뉴 진입
# 2. Create a tunnel 클릭 후 tunnel 이름 지정 (예: newsinsight-tunnel)
# 3. 생성된 tunnel token 복사
# 4. .env 파일에 CLOUDFLARE_TUNNEL_TOKEN=<your-token> 추가
# 5. Public hostname 설정:
#    - newsinsight.nodove.com -> http://frontend:8080
#    - newsinsight.nodove.com/api/* -> http://api-gateway:8000
#
# 실행: docker compose -f docker-compose.zerotrust.yml up -d

services:
  # Cloudflare Tunnel - 외부 트래픽을 내부 서비스로 라우팅
  cloudflared:
    image: cloudflare/cloudflared:latest
    container_name: newsinsight-cloudflared
    restart: unless-stopped
    command: tunnel run
    environment:
      - TUNNEL_TOKEN=${CLOUDFLARE_TUNNEL_TOKEN}
    depends_on:
      frontend:
        condition: service_started
      api-gateway:
        condition: service_started
    networks:
      - default
    # 외부 포트 노출 없음 - Cloudflare Tunnel을 통해서만 접근

  consul:
    image: hashicorp/consul:1.18
    command: ["agent", "-dev", "-client", "0.0.0.0", "-ui"]
    # 외부 포트 노출 제거 - 내부 네트워크에서만 접근 가능
    expose:
      - "8500"
    environment:
      - CONSUL_BIND_INTERFACE=eth0
    healthcheck:
      test: ["CMD", "wget", "-qO-", "http://localhost:8500/v1/status/leader"]
      interval: 5s
      timeout: 3s
      retries: 20

  consul-seed:
    image: alpine:3.18
    depends_on:
      consul:
        condition: service_healthy
    volumes:
      - ../../etc/scripts:/scripts:ro
      - ../../etc/configs:/configs:ro
    environment:
      - CONSUL_HTTP_ADDR=http://consul:8500
      - CONSUL_HTTP_TOKEN=${CONSUL_HTTP_TOKEN:-}
    command: >
      sh -c "
        apk add --no-cache curl bash jq &&
        /scripts/consul_seed.sh ${ENVIRONMENT:-production}
      "
    restart: "no"

  api-gateway:
    build:
      context: ../../
      dockerfile: backend/api-gateway-service/Dockerfile
    image: newsinsight/api-gateway:local
    depends_on:
      consul:
        condition: service_healthy
      consul-seed:
        condition: service_completed_successfully
      collector-service:
        condition: service_started
      browser-use-api:
        condition: service_started
    environment:
      - CONSUL_HOST=${CONSUL_HOST:-consul}
      - CONSUL_PORT=${CONSUL_PORT:-8500}
      - CONSUL_HTTP_TOKEN=${CONSUL_HTTP_TOKEN:-}
      - REDIS_HOST=${REDIS_HOST:-redis}
      - REDIS_PORT=${REDIS_PORT:-6379}
      - PORT=${API_GATEWAY_PORT:-8000}
      - BROWSER_USE_URL=http://browser-use-api:8500
      - BROWSER_USE_WS_URL=ws://browser-use-api:8500
    # 외부 포트 노출 제거 - Cloudflare Tunnel을 통해서만 접근
    expose:
      - "8000"
    networks:
      - default

  frontend:
    image: node:20-alpine
    working_dir: /app
    volumes:
      - ../../frontend:/app
      - frontend-node-modules:/app/node_modules
    environment:
      # Zero Trust 환경: Vite 프록시를 통해 내부 api-gateway로 라우팅
      - VITE_API_BASE_URL=http://api-gateway:8000
      - VITE_BROWSER_USE_URL=http://api-gateway:8000
    command: >
      sh -c "(npm ci --legacy-peer-deps || npm install --legacy-peer-deps) \
      && npm run dev -- --host 0.0.0.0 --port 8080"
    # 외부 포트 노출 제거 - Cloudflare Tunnel을 통해서만 접근
    expose:
      - "8080"
    depends_on:
      api-gateway:
        condition: service_started
    networks:
      - default

  collector-service:
    build:
      context: ../../
      dockerfile: backend/data-collection-service/Dockerfile
    image: newsinsight/collector-service:local
    depends_on:
      consul:
        condition: service_healthy
      consul-seed:
        condition: service_completed_successfully
      postgres:
        condition: service_healthy
      mongo:
        condition: service_healthy
      web-crawler:
        condition: service_started
      redpanda-dev:
        condition: service_started
    environment:
      - CONSUL_HOST=${CONSUL_HOST:-consul}
      - CONSUL_PORT=${CONSUL_PORT:-8500}
      - CONSUL_ENABLED=${CONSUL_ENABLED:-true}
      - "SPRING_CONFIG_IMPORT=consul:"
      - SPRING_CLOUD_CONSUL_CONFIG_ENABLED=true
      - SPRING_CLOUD_CONSUL_CONFIG_PREFIX=config
      - SPRING_CLOUD_CONSUL_CONFIG_DEFAULT_CONTEXT=collector-service
      - SPRING_CLOUD_CONSUL_CONFIG_FORMAT=YAML
      - SPRING_CLOUD_CONSUL_CONFIG_FAIL_FAST=true
      - REDIS_HOST=${REDIS_HOST:-redis}
      - REDIS_PORT=${REDIS_PORT:-6379}
      - SPRING_DATA_REDIS_HOST=${REDIS_HOST:-redis}
      - SPRING_DATA_REDIS_PORT=${REDIS_PORT:-6379}
      - SPRING_JPA_HIBERNATE_DDL_AUTO=validate
      - PERPLEXITY_API_KEY=${PERPLEXITY_API_KEY:-}
      - PERPLEXITY_MODEL=${PERPLEXITY_MODEL:-sonar}
      - PERPLEXITY_BASE_URL=${PERPLEXITY_BASE_URL:-https://api.perplexity.ai}
      # AI Service URLs (can be overridden via Consul KV)
      - COLLECTOR_AIDOVE_BASE_URL=${COLLECTOR_SERVICE_AIDOVE_BASE_URL:-https://workflow.nodove.com/webhook/aidove}
      - COLLECTOR_CALLBACK_BASE_URL=${COLLECTOR_SERVICE_CALLBACK_BASE_URL:-http://collector-service:8081}
      # DeepSearch - uses IntegratedCrawlerService (n8n deprecated)
      - COLLECTOR_DEEP_SEARCH_ENABLED=false
      - COLLECTOR_DEEP_SEARCH_FALLBACK_TO_WEBHOOK=false
      - DB_HOST=${DB_HOST:-postgres}
      - DB_PORT=${DB_PORT:-5432}
      - DB_NAME=${DB_NAME:-newsinsight}
      - DB_USER=${DB_USER:-postgres}
      - DB_PASSWORD=${DB_PASSWORD:-postgres}
      - MONGODB_URI=${MONGODB_URI:-mongodb://mongo:27017/newsinsight}
      - KAFKA_BOOTSTRAP_SERVERS=${KAFKA_BOOTSTRAP_SERVERS:-redpanda-dev:9092}
      - SERVER_PORT=${COLLECTOR_PORT:-8081}
      - SPRING_CLOUD_INETUTILS_PREFERRED_NETWORKS=172.20
    expose:
      - "8081"
    networks:
      - default

  web-crawler:
    image: unclecode/crawl4ai:latest
    shm_size: 1g
    environment:
      - LOG_LEVEL=${WEB_CRAWLER_LOG_LEVEL:-INFO}
    # 외부 포트 노출 제거
    expose:
      - "11235"
    healthcheck:
      test: ["CMD", "wget", "-qO-", "http://localhost:11235/health"]
      interval: 10s
      timeout: 5s
      retries: 10

  postgres:
    image: postgres:15-alpine
    environment:
      - POSTGRES_DB=${DB_NAME:-newsinsight}
      - POSTGRES_USER=${DB_USER:-postgres}
      - POSTGRES_PASSWORD=${DB_PASSWORD:-postgres}
    expose:
      - "5432"
    volumes:
      - postgres-data:/var/lib/postgresql/data
      - ./db-init:/docker-entrypoint-initdb.d:ro
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U postgres"]
      interval: 5s
      timeout: 3s
      retries: 5

  mongo:
    image: mongo:7
    restart: unless-stopped
    environment:
      - MONGO_INITDB_DATABASE=${DB_NAME:-newsinsight}
    expose:
      - "27017"
    volumes:
      - mongo-data:/data/db
    healthcheck:
      test: ["CMD", "mongosh", "--eval", "db.adminCommand('ping')"]
      interval: 10s
      timeout: 5s
      retries: 5

  redpanda-dev:
    image: docker.redpanda.com/redpandadata/redpanda:latest
    command:
      - redpanda
      - start
      - --overprovisioned
      - --smp
      - "1"
      - --memory
      - 1G
      - --reserve-memory
      - 0M
      - --node-id
      - "0"
      - --check=false
      - --kafka-addr
      - PLAINTEXT://0.0.0.0:9092
      - --advertise-kafka-addr
      - PLAINTEXT://redpanda-dev:9092
    # 외부 포트 노출 제거
    expose:
      - "9092"
      - "9644"
    networks:
      - default

  redis:
    image: redis:7-alpine
    expose:
      - "6379"
    command: redis-server --appendonly yes
    volumes:
      - redis-data:/data
    healthcheck:
      test: ["CMD", "redis-cli", "ping"]
      interval: 5s
      timeout: 3s
      retries: 5

  autonomous-crawler:
    build:
      context: ../../
      dockerfile: backend/autonomous-crawler-service/Dockerfile
    image: newsinsight/autonomous-crawler:local
    restart: unless-stopped
    depends_on:
      consul:
        condition: service_healthy
      consul-seed:
        condition: service_completed_successfully
      redpanda-dev:
        condition: service_started
    environment:
      - CONSUL_HOST=${CONSUL_HOST:-consul}
      - CONSUL_PORT=${CONSUL_PORT:-8500}
      - CONSUL_HTTP_TOKEN=${CONSUL_HTTP_TOKEN:-}
      - CONSUL_ENABLED=${CONSUL_ENABLED:-true}
      - CONSUL_SERVICE_NAME=autonomous-crawler
      - KAFKA_BOOTSTRAP_SERVERS=${KAFKA_BOOTSTRAP_SERVERS:-redpanda-dev:9092}
      - KAFKA_CONSUMER_GROUP_ID=${CRAWLER_CONSUMER_GROUP:-autonomous-crawler-group}
      - KAFKA_BROWSER_TASK_TOPIC=${CRAWLER_TASK_TOPIC:-newsinsight.crawl.browser.tasks}
      - KAFKA_CRAWL_RESULT_TOPIC=${CRAWLER_RESULT_TOPIC:-newsinsight.crawl.results}
      - BROWSER_HEADLESS=${CRAWLER_HEADLESS:-true}
      - BROWSER_MAX_CONCURRENT_SESSIONS=${CRAWLER_MAX_SESSIONS:-2}
      - BROWSER_DEFAULT_TIMEOUT_SECONDS=${CRAWLER_TIMEOUT:-300}
      - LLM_PROVIDER=${CRAWLER_LLM_PROVIDER:-openai}
      - LLM_OPENAI_API_KEY=${OPENAI_API_KEY:-}
      - LLM_OPENAI_MODEL=${CRAWLER_OPENAI_MODEL:-gpt-4o}
      - LLM_ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY:-}
      - LLM_ANTHROPIC_MODEL=${CRAWLER_ANTHROPIC_MODEL:-claude-3-5-sonnet-20241022}
      - SEARCH_BRAVE_API_KEY=${SEARCH_BRAVE_API_KEY:-}
      - SEARCH_TAVILY_API_KEY=${SEARCH_TAVILY_API_KEY:-}
      - SEARCH_PERPLEXITY_API_KEY=${SEARCH_PERPLEXITY_API_KEY:-}
      - STEALTH_ENABLED=${STEALTH_ENABLED:-true}
      - CAPTCHA_ENABLED=${CAPTCHA_ENABLED:-true}
      - METRICS_ENABLED=${CRAWLER_METRICS_ENABLED:-true}
      - METRICS_PORT=${CRAWLER_METRICS_PORT:-9090}
      - LOG_LEVEL=${CRAWLER_LOG_LEVEL:-INFO}
      - LOG_FORMAT=${CRAWLER_LOG_FORMAT:-json}
    # 외부 포트 노출 제거
    expose:
      - "9090"
    shm_size: 2g
    networks:
      - default

  browser-use-api:
    build:
      context: ../../backend/services/browser-use-api
      dockerfile: Dockerfile.api
    image: newsinsight/browser-use-api:local
    restart: unless-stopped
    environment:
      - AIDOVE_WEBHOOK_URL=${AIDOVE_WEBHOOK_URL:-https://workflow.nodove.com/webhook/aidove}
      - BROWSER_HEADLESS=${BROWSER_USE_HEADLESS:-true}
      - SERVER_PORT=8500
      - LOG_LEVEL=${BROWSER_USE_LOG_LEVEL:-INFO}
    # 외부 포트 노출 제거
    expose:
      - "8500"
    shm_size: 2g
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8500/health"]
      interval: 30s
      timeout: 10s
      retries: 3
    networks:
      - default

volumes:
  postgres-data:
  redis-data:
  frontend-node-modules:
  mongo-data:

networks:
  default:
    name: newsinsight-zerotrust-net

```

---

## etc/k8s/keda/ai-agent-worker-scaledobject.yaml

```yaml
# ============================================================================
# KEDA ScaledObject - AI Agent Worker Service
# ============================================================================
# 
# Kafka 토픽의 메시지 lag을 기반으로 ai-agent-worker 파드를 자동 스케일링합니다.
# 
# 동작 방식:
#   - newsinsight.ai.requests 토픽의 consumer lag을 모니터링
#   - lag이 lagThreshold(5)를 초과하면 파드 수를 증가
#   - AI 처리는 비용이 높으므로 보수적으로 스케일링
#
# 적용:
#   kubectl apply -f ai-agent-worker-scaledobject.yaml
# ============================================================================

apiVersion: keda.sh/v1alpha1
kind: ScaledObject
metadata:
  name: ai-agent-worker-scaler
  namespace: newsinsight
  labels:
    app: ai-agent-worker
    component: scaler
spec:
  # 스케일 대상 Deployment
  scaleTargetRef:
    name: ai-agent-worker
    kind: Deployment
  
  # 스케일링 범위 (AI 비용 고려해서 보수적으로)
  minReplicaCount: 1    # 최소 1개 파드 유지
  maxReplicaCount: 3    # 최대 3개 파드 (비용 제한)
  
  # 스케일 다운 안정화
  advanced:
    horizontalPodAutoscalerConfig:
      behavior:
        scaleDown:
          stabilizationWindowSeconds: 600  # 10분간 안정화 후 스케일 다운
          policies:
            - type: Pods
              value: 1
              periodSeconds: 120  # 2분에 1개씩만 감소
        scaleUp:
          stabilizationWindowSeconds: 30   # 30초 후 스케일 업
          policies:
            - type: Pods
              value: 1
              periodSeconds: 60  # 1분에 1개씩 증가
  
  # 쿨다운 기간
  cooldownPeriod: 120
  
  # 폴링 간격
  pollingInterval: 30
  
  # 트리거 정의
  triggers:
    # Kafka Consumer Lag 기반 트리거
    - type: kafka
      metadata:
        bootstrapServers: redpanda.newsinsight.svc.cluster.local:9092
        consumerGroup: ai-agent-worker
        topic: newsinsight.ai.requests
        # AI 처리는 느리므로 낮은 임계값
        lagThreshold: "5"
        offsetResetPolicy: earliest

```

---

## etc/k8s/keda/autonomous-crawler-scaledobject.yaml

```yaml
# ============================================================================
# KEDA ScaledObject - Autonomous Crawler Service
# ============================================================================
# 
# Kafka 토픽의 메시지 lag을 기반으로 autonomous-crawler 파드를 자동 스케일링합니다.
# 
# 동작 방식:
#   - newsinsight.crawl.browser.tasks 토픽의 consumer lag을 모니터링
#   - lag이 lagThreshold(10)를 초과하면 파드 수를 증가
#   - lag이 0이면 minReplicaCount(1)로 스케일 다운
#   - 최대 maxReplicaCount(5)까지 스케일 업
#
# 적용:
#   kubectl apply -f autonomous-crawler-scaledobject.yaml
#
# 확인:
#   kubectl get scaledobject autonomous-crawler-scaler -n newsinsight
#   kubectl describe scaledobject autonomous-crawler-scaler -n newsinsight
#   kubectl get hpa -n newsinsight
# ============================================================================

apiVersion: keda.sh/v1alpha1
kind: ScaledObject
metadata:
  name: autonomous-crawler-scaler
  namespace: newsinsight
  labels:
    app: autonomous-crawler
    component: scaler
spec:
  # 스케일 대상 Deployment
  scaleTargetRef:
    name: autonomous-crawler
    kind: Deployment
  
  # 스케일링 범위
  minReplicaCount: 1    # 최소 1개 파드 유지 (0으로 설정하면 scale-to-zero 가능)
  maxReplicaCount: 5    # 최대 5개 파드
  
  # 스케일 다운 안정화 (급격한 스케일 다운 방지)
  advanced:
    horizontalPodAutoscalerConfig:
      behavior:
        scaleDown:
          stabilizationWindowSeconds: 300  # 5분간 안정화 후 스케일 다운
          policies:
            - type: Pods
              value: 1
              periodSeconds: 60  # 1분에 1개씩만 감소
        scaleUp:
          stabilizationWindowSeconds: 0    # 즉시 스케일 업
          policies:
            - type: Pods
              value: 2
              periodSeconds: 60  # 1분에 2개씩 증가 가능
  
  # 쿨다운 기간 (deprecated, behavior 사용 권장)
  cooldownPeriod: 60
  
  # 폴링 간격 (Kafka lag 확인 주기)
  pollingInterval: 15
  
  # 트리거 정의
  triggers:
    # Kafka Consumer Lag 기반 트리거
    - type: kafka
      metadata:
        # Kafka/Redpanda 부트스트랩 서버
        bootstrapServers: redpanda.newsinsight.svc.cluster.local:9092
        # Consumer Group ID (autonomous-crawler-service에서 사용하는 그룹)
        consumerGroup: autonomous-crawler-group
        # 모니터링할 토픽
        topic: newsinsight.crawl.browser.tasks
        # 스케일링 임계값 (파드당 처리해야 할 메시지 수)
        lagThreshold: "10"
        # offset reset policy
        offsetResetPolicy: earliest
        # 인증 (필요시)
        # sasl: plaintext
        # username: 
        # passwordFromEnv: KAFKA_PASSWORD
        
---
# TriggerAuthentication - Kafka 인증이 필요한 경우 사용
# apiVersion: keda.sh/v1alpha1
# kind: TriggerAuthentication
# metadata:
#   name: kafka-auth
#   namespace: newsinsight
# spec:
#   secretTargetRef:
#     - parameter: password
#       name: kafka-credentials
#       key: password

```

---

## etc/k8s/namespace.yaml

```yaml
# ============================================================================
# NewsInsight Kubernetes Namespace
# ============================================================================

apiVersion: v1
kind: Namespace
metadata:
  name: newsinsight
  labels:
    app.kubernetes.io/name: newsinsight
    app.kubernetes.io/part-of: newsinsight
  annotations:
    description: "NewsInsight AI 기반 뉴스 분석 플랫폼"

```

---

## frontend/components.json

```json
{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "default",
  "rsc": false,
  "tsx": true,
  "tailwind": {
    "config": "tailwind.config.ts",
    "css": "src/index.css",
    "baseColor": "slate",
    "cssVariables": true,
    "prefix": ""
  },
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils",
    "ui": "@/components/ui",
    "lib": "@/lib",
    "hooks": "@/hooks"
  }
}

```

---

## frontend/eslint.config.js

```js
import js from "@eslint/js";
import globals from "globals";
import reactHooks from "eslint-plugin-react-hooks";
import reactRefresh from "eslint-plugin-react-refresh";
import tseslint from "typescript-eslint";

export default tseslint.config(
  { ignores: ["dist"] },
  {
    extends: [js.configs.recommended, ...tseslint.configs.recommended],
    files: ["**/*.{ts,tsx}"],
    languageOptions: {
      ecmaVersion: 2020,
      globals: globals.browser,
    },
    plugins: {
      "react-hooks": reactHooks,
      "react-refresh": reactRefresh,
    },
    rules: {
      ...reactHooks.configs.recommended.rules,
      "react-refresh/only-export-components": ["warn", { allowConstantExport: true }],
      "@typescript-eslint/no-unused-vars": "off",
    },
  },
);

```

---

## frontend/index.html

```html
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NewInsight - News Sentiment Analysis</title>
    <meta name="description" content="키워드 기반 NewInsight 및 인사이트 제공 플랫폼. 실시간 뉴스 데이터를 분석하여 긍정/부정 감성과 핵심 키워드를 시각화합니다." />
    <meta name="author" content="News Sentiment Analyzer" />

    <meta property="og:title" content="NewInsight - News Sentiment Analysis" />
    <meta property="og:description" content="키워드 기반 NewInsight 및 인사이트 제공 플랫폼" />
    <meta property="og:type" content="website" />

    <meta name="twitter:card" content="summary_large_image" />
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>

```

---

## frontend/package-lock.json

```json
{
  "name": "vite_react_shadcn_ts",
  "version": "0.0.0",
  "lockfileVersion": 3,
  "requires": true,
  "packages": {
    "": {
      "name": "vite_react_shadcn_ts",
      "version": "0.0.0",
      "dependencies": {
        "@hookform/resolvers": "^3.10.0",
        "@radix-ui/react-accordion": "^1.2.11",
        "@radix-ui/react-alert-dialog": "^1.1.14",
        "@radix-ui/react-aspect-ratio": "^1.1.7",
        "@radix-ui/react-avatar": "^1.1.10",
        "@radix-ui/react-checkbox": "^1.3.2",
        "@radix-ui/react-collapsible": "^1.1.11",
        "@radix-ui/react-context-menu": "^2.2.15",
        "@radix-ui/react-dialog": "^1.1.14",
        "@radix-ui/react-dropdown-menu": "^2.1.15",
        "@radix-ui/react-hover-card": "^1.1.14",
        "@radix-ui/react-label": "^2.1.7",
        "@radix-ui/react-menubar": "^1.1.15",
        "@radix-ui/react-navigation-menu": "^1.2.13",
        "@radix-ui/react-popover": "^1.1.14",
        "@radix-ui/react-progress": "^1.1.7",
        "@radix-ui/react-radio-group": "^1.3.7",
        "@radix-ui/react-scroll-area": "^1.2.9",
        "@radix-ui/react-select": "^2.2.5",
        "@radix-ui/react-separator": "^1.1.7",
        "@radix-ui/react-slider": "^1.3.5",
        "@radix-ui/react-slot": "^1.2.3",
        "@radix-ui/react-switch": "^1.2.5",
        "@radix-ui/react-tabs": "^1.1.12",
        "@radix-ui/react-toast": "^1.2.14",
        "@radix-ui/react-toggle": "^1.1.9",
        "@radix-ui/react-toggle-group": "^1.1.10",
        "@radix-ui/react-tooltip": "^1.2.7",
        "@tanstack/react-query": "^5.83.0",
        "axios": "^1.13.2",
        "chart.js": "^4.5.1",
        "class-variance-authority": "^0.7.1",
        "clsx": "^2.1.1",
        "cmdk": "^1.1.1",
        "d3-cloud": "^1.2.7",
        "date-fns": "^3.6.0",
        "embla-carousel-react": "^8.6.0",
        "input-otp": "^1.4.2",
        "lucide-react": "^0.462.0",
        "next-themes": "^0.3.0",
        "react": "^18.3.1",
        "react-chartjs-2": "^5.3.1",
        "react-day-picker": "^8.10.1",
        "react-dom": "^18.3.1",
        "react-hook-form": "^7.61.1",
        "react-markdown": "^9.0.1",
        "react-resizable-panels": "^2.1.9",
        "react-router-dom": "^6.30.1",
        "react-wordcloud": "^1.2.7",
        "recharts": "^2.15.4",
        "remark-gfm": "^4.0.0",
        "sonner": "^1.7.4",
        "tailwind-merge": "^2.6.0",
        "tailwindcss-animate": "^1.0.7",
        "vaul": "^0.9.9",
        "zod": "^3.25.76"
      },
      "devDependencies": {
        "@eslint/js": "^9.32.0",
        "@playwright/test": "^1.40.0",
        "@tailwindcss/typography": "^0.5.16",
        "@types/node": "^22.16.5",
        "@types/react": "^18.3.23",
        "@types/react-dom": "^18.3.7",
        "@vitejs/plugin-react-swc": "^3.11.0",
        "autoprefixer": "^10.4.21",
        "eslint": "^9.32.0",
        "eslint-plugin-react-hooks": "^5.2.0",
        "eslint-plugin-react-refresh": "^0.4.20",
        "globals": "^15.15.0",
        "postcss": "^8.5.6",
        "tailwindcss": "^3.4.17",
        "typescript": "^5.8.3",
        "typescript-eslint": "^8.38.0",
        "vite": "^5.4.19"
      }
    },
    "node_modules/@alloc/quick-lru": {
      "version": "5.2.0",
      "resolved": "https://registry.npmjs.org/@alloc/quick-lru/-/quick-lru-5.2.0.tgz",
      "integrity": "sha512-UrcABB+4bUrFABwbluTIBErXwvbsU/V7TZWfmbgJfbkwiBuziS9gxdODUyuiecfdGQ85jglMW6juS3+z5TsKLw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/@babel/runtime": {
      "version": "7.28.2",
      "resolved": "https://registry.npmjs.org/@babel/runtime/-/runtime-7.28.2.tgz",
      "integrity": "sha512-KHp2IflsnGywDjBWDkR9iEqiWSpc8GIi0lgTT3mOElT0PP1tG26P4tmFI2YvAdzgq9RGyoHZQEIEdZy6Ec5xCA==",
      "license": "MIT",
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@esbuild/aix-ppc64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/aix-ppc64/-/aix-ppc64-0.21.5.tgz",
      "integrity": "sha512-1SDgH6ZSPTlggy1yI6+Dbkiz8xzpHJEVAlF/AM1tHPLsf5STom9rwtjE4hKAF20FfXXNTFqEYXyJNWh1GiZedQ==",
      "cpu": [
        "ppc64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "aix"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/android-arm": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/android-arm/-/android-arm-0.21.5.tgz",
      "integrity": "sha512-vCPvzSjpPHEi1siZdlvAlsPxXl7WbOVUBBAowWug4rJHb68Ox8KualB+1ocNvT5fjv6wpkX6o/iEpbDrf68zcg==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "android"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/android-arm64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/android-arm64/-/android-arm64-0.21.5.tgz",
      "integrity": "sha512-c0uX9VAUBQ7dTDCjq+wdyGLowMdtR/GoC2U5IYk/7D1H1JYC0qseD7+11iMP2mRLN9RcCMRcjC4YMclCzGwS/A==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "android"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/android-x64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/android-x64/-/android-x64-0.21.5.tgz",
      "integrity": "sha512-D7aPRUUNHRBwHxzxRvp856rjUHRFW1SdQATKXH2hqA0kAZb1hKmi02OpYRacl0TxIGz/ZmXWlbZgjwWYaCakTA==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "android"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/darwin-arm64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/darwin-arm64/-/darwin-arm64-0.21.5.tgz",
      "integrity": "sha512-DwqXqZyuk5AiWWf3UfLiRDJ5EDd49zg6O9wclZ7kUMv2WRFr4HKjXp/5t8JZ11QbQfUS6/cRCKGwYhtNAY88kQ==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/darwin-x64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/darwin-x64/-/darwin-x64-0.21.5.tgz",
      "integrity": "sha512-se/JjF8NlmKVG4kNIuyWMV/22ZaerB+qaSi5MdrXtd6R08kvs2qCN4C09miupktDitvh8jRFflwGFBQcxZRjbw==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/freebsd-arm64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/freebsd-arm64/-/freebsd-arm64-0.21.5.tgz",
      "integrity": "sha512-5JcRxxRDUJLX8JXp/wcBCy3pENnCgBR9bN6JsY4OmhfUtIHe3ZW0mawA7+RDAcMLrMIZaf03NlQiX9DGyB8h4g==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "freebsd"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/freebsd-x64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/freebsd-x64/-/freebsd-x64-0.21.5.tgz",
      "integrity": "sha512-J95kNBj1zkbMXtHVH29bBriQygMXqoVQOQYA+ISs0/2l3T9/kj42ow2mpqerRBxDJnmkUDCaQT/dfNXWX/ZZCQ==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "freebsd"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/linux-arm": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-arm/-/linux-arm-0.21.5.tgz",
      "integrity": "sha512-bPb5AHZtbeNGjCKVZ9UGqGwo8EUu4cLq68E95A53KlxAPRmUyYv2D6F0uUI65XisGOL1hBP5mTronbgo+0bFcA==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/linux-arm64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-arm64/-/linux-arm64-0.21.5.tgz",
      "integrity": "sha512-ibKvmyYzKsBeX8d8I7MH/TMfWDXBF3db4qM6sy+7re0YXya+K1cem3on9XgdT2EQGMu4hQyZhan7TeQ8XkGp4Q==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/linux-ia32": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-ia32/-/linux-ia32-0.21.5.tgz",
      "integrity": "sha512-YvjXDqLRqPDl2dvRODYmmhz4rPeVKYvppfGYKSNGdyZkA01046pLWyRKKI3ax8fbJoK5QbxblURkwK/MWY18Tg==",
      "cpu": [
        "ia32"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/linux-loong64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-loong64/-/linux-loong64-0.21.5.tgz",
      "integrity": "sha512-uHf1BmMG8qEvzdrzAqg2SIG/02+4/DHB6a9Kbya0XDvwDEKCoC8ZRWI5JJvNdUjtciBGFQ5PuBlpEOXQj+JQSg==",
      "cpu": [
        "loong64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/linux-mips64el": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-mips64el/-/linux-mips64el-0.21.5.tgz",
      "integrity": "sha512-IajOmO+KJK23bj52dFSNCMsz1QP1DqM6cwLUv3W1QwyxkyIWecfafnI555fvSGqEKwjMXVLokcV5ygHW5b3Jbg==",
      "cpu": [
        "mips64el"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/linux-ppc64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-ppc64/-/linux-ppc64-0.21.5.tgz",
      "integrity": "sha512-1hHV/Z4OEfMwpLO8rp7CvlhBDnjsC3CttJXIhBi+5Aj5r+MBvy4egg7wCbe//hSsT+RvDAG7s81tAvpL2XAE4w==",
      "cpu": [
        "ppc64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/linux-riscv64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-riscv64/-/linux-riscv64-0.21.5.tgz",
      "integrity": "sha512-2HdXDMd9GMgTGrPWnJzP2ALSokE/0O5HhTUvWIbD3YdjME8JwvSCnNGBnTThKGEB91OZhzrJ4qIIxk/SBmyDDA==",
      "cpu": [
        "riscv64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/linux-s390x": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-s390x/-/linux-s390x-0.21.5.tgz",
      "integrity": "sha512-zus5sxzqBJD3eXxwvjN1yQkRepANgxE9lgOW2qLnmr8ikMTphkjgXu1HR01K4FJg8h1kEEDAqDcZQtbrRnB41A==",
      "cpu": [
        "s390x"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/linux-x64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-x64/-/linux-x64-0.21.5.tgz",
      "integrity": "sha512-1rYdTpyv03iycF1+BhzrzQJCdOuAOtaqHTWJZCWvijKD2N5Xu0TtVC8/+1faWqcP9iBCWOmjmhoH94dH82BxPQ==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/netbsd-x64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/netbsd-x64/-/netbsd-x64-0.21.5.tgz",
      "integrity": "sha512-Woi2MXzXjMULccIwMnLciyZH4nCIMpWQAs049KEeMvOcNADVxo0UBIQPfSmxB3CWKedngg7sWZdLvLczpe0tLg==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "netbsd"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/openbsd-x64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/openbsd-x64/-/openbsd-x64-0.21.5.tgz",
      "integrity": "sha512-HLNNw99xsvx12lFBUwoT8EVCsSvRNDVxNpjZ7bPn947b8gJPzeHWyNVhFsaerc0n3TsbOINvRP2byTZ5LKezow==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "openbsd"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/sunos-x64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/sunos-x64/-/sunos-x64-0.21.5.tgz",
      "integrity": "sha512-6+gjmFpfy0BHU5Tpptkuh8+uw3mnrvgs+dSPQXQOv3ekbordwnzTVEb4qnIvQcYXq6gzkyTnoZ9dZG+D4garKg==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "sunos"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/win32-arm64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/win32-arm64/-/win32-arm64-0.21.5.tgz",
      "integrity": "sha512-Z0gOTd75VvXqyq7nsl93zwahcTROgqvuAcYDUr+vOv8uHhNSKROyU961kgtCD1e95IqPKSQKH7tBTslnS3tA8A==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/win32-ia32": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/win32-ia32/-/win32-ia32-0.21.5.tgz",
      "integrity": "sha512-SWXFF1CL2RVNMaVs+BBClwtfZSvDgtL//G/smwAc5oVK/UPu2Gu9tIaRgFmYFFKrmg3SyAjSrElf0TiJ1v8fYA==",
      "cpu": [
        "ia32"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@esbuild/win32-x64": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/@esbuild/win32-x64/-/win32-x64-0.21.5.tgz",
      "integrity": "sha512-tQd/1efJuzPC6rCFwEvLtci/xNFcTZknmXs98FYDfGE4wP9ClFV98nyKrzJKVPMhdDnjzLhdUyMX4PsQAPjwIw==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@eslint-community/eslint-utils": {
      "version": "4.7.0",
      "resolved": "https://registry.npmjs.org/@eslint-community/eslint-utils/-/eslint-utils-4.7.0.tgz",
      "integrity": "sha512-dyybb3AcajC7uha6CvhdVRJqaKyn7w2YKqKyAN37NKYgZT36w+iRb0Dymmc5qEJ549c/S31cMMSFd75bteCpCw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "eslint-visitor-keys": "^3.4.3"
      },
      "engines": {
        "node": "^12.22.0 || ^14.17.0 || >=16.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/eslint"
      },
      "peerDependencies": {
        "eslint": "^6.0.0 || ^7.0.0 || >=8.0.0"
      }
    },
    "node_modules/@eslint-community/eslint-utils/node_modules/eslint-visitor-keys": {
      "version": "3.4.3",
      "resolved": "https://registry.npmjs.org/eslint-visitor-keys/-/eslint-visitor-keys-3.4.3.tgz",
      "integrity": "sha512-wpc+LXeiyiisxPlEkUzU6svyS1frIO3Mgxj1fdy7Pm8Ygzguax2N3Fa/D/ag1WqbOprdI+uY6wMUl8/a2G+iag==",
      "dev": true,
      "license": "Apache-2.0",
      "engines": {
        "node": "^12.22.0 || ^14.17.0 || >=16.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/eslint"
      }
    },
    "node_modules/@eslint-community/regexpp": {
      "version": "4.12.1",
      "resolved": "https://registry.npmjs.org/@eslint-community/regexpp/-/regexpp-4.12.1.tgz",
      "integrity": "sha512-CCZCDJuduB9OUkFkY2IgppNZMi2lBQgD2qzwXkEia16cge2pijY/aXi96CJMquDMn3nJdlPV1A5KrJEXwfLNzQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": "^12.0.0 || ^14.0.0 || >=16.0.0"
      }
    },
    "node_modules/@eslint/config-array": {
      "version": "0.21.0",
      "resolved": "https://registry.npmjs.org/@eslint/config-array/-/config-array-0.21.0.tgz",
      "integrity": "sha512-ENIdc4iLu0d93HeYirvKmrzshzofPw6VkZRKQGe9Nv46ZnWUzcF1xV01dcvEg/1wXUR61OmmlSfyeyO7EvjLxQ==",
      "dev": true,
      "license": "Apache-2.0",
      "dependencies": {
        "@eslint/object-schema": "^2.1.6",
        "debug": "^4.3.1",
        "minimatch": "^3.1.2"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      }
    },
    "node_modules/@eslint/config-helpers": {
      "version": "0.3.0",
      "resolved": "https://registry.npmjs.org/@eslint/config-helpers/-/config-helpers-0.3.0.tgz",
      "integrity": "sha512-ViuymvFmcJi04qdZeDc2whTHryouGcDlaxPqarTD0ZE10ISpxGUVZGZDx4w01upyIynL3iu6IXH2bS1NhclQMw==",
      "dev": true,
      "license": "Apache-2.0",
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      }
    },
    "node_modules/@eslint/core": {
      "version": "0.15.1",
      "resolved": "https://registry.npmjs.org/@eslint/core/-/core-0.15.1.tgz",
      "integrity": "sha512-bkOp+iumZCCbt1K1CmWf0R9pM5yKpDv+ZXtvSyQpudrI9kuFLp+bM2WOPXImuD/ceQuaa8f5pj93Y7zyECIGNA==",
      "dev": true,
      "license": "Apache-2.0",
      "dependencies": {
        "@types/json-schema": "^7.0.15"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      }
    },
    "node_modules/@eslint/eslintrc": {
      "version": "3.3.1",
      "resolved": "https://registry.npmjs.org/@eslint/eslintrc/-/eslintrc-3.3.1.tgz",
      "integrity": "sha512-gtF186CXhIl1p4pJNGZw8Yc6RlshoePRvE0X91oPGb3vZ8pM3qOS9W9NGPat9LziaBV7XrJWGylNQXkGcnM3IQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ajv": "^6.12.4",
        "debug": "^4.3.2",
        "espree": "^10.0.1",
        "globals": "^14.0.0",
        "ignore": "^5.2.0",
        "import-fresh": "^3.2.1",
        "js-yaml": "^4.1.0",
        "minimatch": "^3.1.2",
        "strip-json-comments": "^3.1.1"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "url": "https://opencollective.com/eslint"
      }
    },
    "node_modules/@eslint/eslintrc/node_modules/globals": {
      "version": "14.0.0",
      "resolved": "https://registry.npmjs.org/globals/-/globals-14.0.0.tgz",
      "integrity": "sha512-oahGvuMGQlPw/ivIYBjVSrWAfWLBeku5tpPE2fOPLi+WHffIWbuh2tCjhyQhTBPMf5E9jDEH4FOmTYgYwbKwtQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=18"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/@eslint/js": {
      "version": "9.32.0",
      "resolved": "https://registry.npmjs.org/@eslint/js/-/js-9.32.0.tgz",
      "integrity": "sha512-BBpRFZK3eX6uMLKz8WxFOBIFFcGFJ/g8XuwjTHCqHROSIsopI+ddn/d5Cfh36+7+e5edVS8dbSHnBNhrLEX0zg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "url": "https://eslint.org/donate"
      }
    },
    "node_modules/@eslint/object-schema": {
      "version": "2.1.6",
      "resolved": "https://registry.npmjs.org/@eslint/object-schema/-/object-schema-2.1.6.tgz",
      "integrity": "sha512-RBMg5FRL0I0gs51M/guSAj5/e14VQ4tpZnQNWwuDT66P14I43ItmPfIZRhO9fUVIPOAQXU47atlywZ/czoqFPA==",
      "dev": true,
      "license": "Apache-2.0",
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      }
    },
    "node_modules/@eslint/plugin-kit": {
      "version": "0.3.4",
      "resolved": "https://registry.npmjs.org/@eslint/plugin-kit/-/plugin-kit-0.3.4.tgz",
      "integrity": "sha512-Ul5l+lHEcw3L5+k8POx6r74mxEYKG5kOb6Xpy2gCRW6zweT6TEhAf8vhxGgjhqrd/VO/Dirhsb+1hNpD1ue9hw==",
      "dev": true,
      "license": "Apache-2.0",
      "dependencies": {
        "@eslint/core": "^0.15.1",
        "levn": "^0.4.1"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      }
    },
    "node_modules/@floating-ui/core": {
      "version": "1.7.2",
      "resolved": "https://registry.npmjs.org/@floating-ui/core/-/core-1.7.2.tgz",
      "integrity": "sha512-wNB5ooIKHQc+Kui96jE/n69rHFWAVoxn5CAzL1Xdd8FG03cgY3MLO+GF9U3W737fYDSgPWA6MReKhBQBop6Pcw==",
      "license": "MIT",
      "dependencies": {
        "@floating-ui/utils": "^0.2.10"
      }
    },
    "node_modules/@floating-ui/dom": {
      "version": "1.7.2",
      "resolved": "https://registry.npmjs.org/@floating-ui/dom/-/dom-1.7.2.tgz",
      "integrity": "sha512-7cfaOQuCS27HD7DX+6ib2OrnW+b4ZBwDNnCcT0uTyidcmyWb03FnQqJybDBoCnpdxwBSfA94UAYlRCt7mV+TbA==",
      "license": "MIT",
      "dependencies": {
        "@floating-ui/core": "^1.7.2",
        "@floating-ui/utils": "^0.2.10"
      }
    },
    "node_modules/@floating-ui/react-dom": {
      "version": "2.1.4",
      "resolved": "https://registry.npmjs.org/@floating-ui/react-dom/-/react-dom-2.1.4.tgz",
      "integrity": "sha512-JbbpPhp38UmXDDAu60RJmbeme37Jbgsm7NrHGgzYYFKmblzRUh6Pa641dII6LsjwF4XlScDrde2UAzDo/b9KPw==",
      "license": "MIT",
      "dependencies": {
        "@floating-ui/dom": "^1.7.2"
      },
      "peerDependencies": {
        "react": ">=16.8.0",
        "react-dom": ">=16.8.0"
      }
    },
    "node_modules/@floating-ui/utils": {
      "version": "0.2.10",
      "resolved": "https://registry.npmjs.org/@floating-ui/utils/-/utils-0.2.10.tgz",
      "integrity": "sha512-aGTxbpbg8/b5JfU1HXSrbH3wXZuLPJcNEcZQFMxLs3oSzgtVu6nFPkbbGGUvBcUjKV2YyB9Wxxabo+HEH9tcRQ==",
      "license": "MIT"
    },
    "node_modules/@hookform/resolvers": {
      "version": "3.10.0",
      "resolved": "https://registry.npmjs.org/@hookform/resolvers/-/resolvers-3.10.0.tgz",
      "integrity": "sha512-79Dv+3mDF7i+2ajj7SkypSKHhl1cbln1OGavqrsF7p6mbUv11xpqpacPsGDCTRvCSjEEIez2ef1NveSVL3b0Ag==",
      "license": "MIT",
      "peerDependencies": {
        "react-hook-form": "^7.0.0"
      }
    },
    "node_modules/@humanfs/core": {
      "version": "0.19.1",
      "resolved": "https://registry.npmjs.org/@humanfs/core/-/core-0.19.1.tgz",
      "integrity": "sha512-5DyQ4+1JEUzejeK1JGICcideyfUbGixgS9jNgex5nqkW+cY7WZhxBigmieN5Qnw9ZosSNVC9KQKyb+GUaGyKUA==",
      "dev": true,
      "license": "Apache-2.0",
      "engines": {
        "node": ">=18.18.0"
      }
    },
    "node_modules/@humanfs/node": {
      "version": "0.16.6",
      "resolved": "https://registry.npmjs.org/@humanfs/node/-/node-0.16.6.tgz",
      "integrity": "sha512-YuI2ZHQL78Q5HbhDiBA1X4LmYdXCKCMQIfw0pw7piHJwyREFebJUvrQN4cMssyES6x+vfUbx1CIpaQUKYdQZOw==",
      "dev": true,
      "license": "Apache-2.0",
      "dependencies": {
        "@humanfs/core": "^0.19.1",
        "@humanwhocodes/retry": "^0.3.0"
      },
      "engines": {
        "node": ">=18.18.0"
      }
    },
    "node_modules/@humanfs/node/node_modules/@humanwhocodes/retry": {
      "version": "0.3.1",
      "resolved": "https://registry.npmjs.org/@humanwhocodes/retry/-/retry-0.3.1.tgz",
      "integrity": "sha512-JBxkERygn7Bv/GbN5Rv8Ul6LVknS+5Bp6RgDC/O8gEBU/yeH5Ui5C/OlWrTb6qct7LjjfT6Re2NxB0ln0yYybA==",
      "dev": true,
      "license": "Apache-2.0",
      "engines": {
        "node": ">=18.18"
      },
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/nzakas"
      }
    },
    "node_modules/@humanwhocodes/module-importer": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/@humanwhocodes/module-importer/-/module-importer-1.0.1.tgz",
      "integrity": "sha512-bxveV4V8v5Yb4ncFTT3rPSgZBOpCkjfK0y4oVVVJwIuDVBRMDXrPyXRL988i5ap9m9bnyEEjWfm5WkBmtffLfA==",
      "dev": true,
      "license": "Apache-2.0",
      "engines": {
        "node": ">=12.22"
      },
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/nzakas"
      }
    },
    "node_modules/@humanwhocodes/retry": {
      "version": "0.4.3",
      "resolved": "https://registry.npmjs.org/@humanwhocodes/retry/-/retry-0.4.3.tgz",
      "integrity": "sha512-bV0Tgo9K4hfPCek+aMAn81RppFKv2ySDQeMoSZuvTASywNTnVJCArCZE2FWqpvIatKu7VMRLWlR1EazvVhDyhQ==",
      "dev": true,
      "license": "Apache-2.0",
      "engines": {
        "node": ">=18.18"
      },
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/nzakas"
      }
    },
    "node_modules/@isaacs/cliui": {
      "version": "8.0.2",
      "resolved": "https://registry.npmjs.org/@isaacs/cliui/-/cliui-8.0.2.tgz",
      "integrity": "sha512-O8jcjabXaleOG9DQ0+ARXWZBTfnP4WNAqzuiJK7ll44AmxGKv/J2M4TPjxjY3znBCfvBXFzucm1twdyFybFqEA==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "string-width": "^5.1.2",
        "string-width-cjs": "npm:string-width@^4.2.0",
        "strip-ansi": "^7.0.1",
        "strip-ansi-cjs": "npm:strip-ansi@^6.0.1",
        "wrap-ansi": "^8.1.0",
        "wrap-ansi-cjs": "npm:wrap-ansi@^7.0.0"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@jridgewell/gen-mapping": {
      "version": "0.3.5",
      "resolved": "https://registry.npmjs.org/@jridgewell/gen-mapping/-/gen-mapping-0.3.5.tgz",
      "integrity": "sha512-IzL8ZoEDIBRWEzlCcRhOaCupYyN5gdIK+Q6fbFdPDg6HqX6jpkItn7DFIpW9LQzXG6Df9sA7+OKnq0qlz/GaQg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jridgewell/set-array": "^1.2.1",
        "@jridgewell/sourcemap-codec": "^1.4.10",
        "@jridgewell/trace-mapping": "^0.3.24"
      },
      "engines": {
        "node": ">=6.0.0"
      }
    },
    "node_modules/@jridgewell/resolve-uri": {
      "version": "3.1.2",
      "resolved": "https://registry.npmjs.org/@jridgewell/resolve-uri/-/resolve-uri-3.1.2.tgz",
      "integrity": "sha512-bRISgCIjP20/tbWSPWMEi54QVPRZExkuD9lJL+UIxUKtwVJA8wW1Trb1jMs1RFXo1CBTNZ/5hpC9QvmKWdopKw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.0.0"
      }
    },
    "node_modules/@jridgewell/set-array": {
      "version": "1.2.1",
      "resolved": "https://registry.npmjs.org/@jridgewell/set-array/-/set-array-1.2.1.tgz",
      "integrity": "sha512-R8gLRTZeyp03ymzP/6Lil/28tGeGEzhx1q2k703KGWRAI1VdvPIXdG70VJc2pAMw3NA6JKL5hhFu1sJX0Mnn/A==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6.0.0"
      }
    },
    "node_modules/@jridgewell/sourcemap-codec": {
      "version": "1.5.0",
      "resolved": "https://registry.npmjs.org/@jridgewell/sourcemap-codec/-/sourcemap-codec-1.5.0.tgz",
      "integrity": "sha512-gv3ZRaISU3fjPAgNsriBRqGWQL6quFx04YMPW/zD8XMLsU32mhCCbfbO6KZFLjvYpCZ8zyDEgqsgf+PwPaM7GQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@jridgewell/trace-mapping": {
      "version": "0.3.25",
      "resolved": "https://registry.npmjs.org/@jridgewell/trace-mapping/-/trace-mapping-0.3.25.tgz",
      "integrity": "sha512-vNk6aEwybGtawWmy/PzwnGDOjCkLWSD2wqvjGGAgOAwCGWySYXfYoxt00IJkTF+8Lb57DwOb3Aa0o9CApepiYQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jridgewell/resolve-uri": "^3.1.0",
        "@jridgewell/sourcemap-codec": "^1.4.14"
      }
    },
    "node_modules/@kurkle/color": {
      "version": "0.3.4",
      "resolved": "https://registry.npmjs.org/@kurkle/color/-/color-0.3.4.tgz",
      "integrity": "sha512-M5UknZPHRu3DEDWoipU6sE8PdkZ6Z/S+v4dD+Ke8IaNlpdSQah50lz1KtcFBa2vsdOnwbbnxJwVM4wty6udA5w==",
      "license": "MIT"
    },
    "node_modules/@nodelib/fs.scandir": {
      "version": "2.1.5",
      "resolved": "https://registry.npmjs.org/@nodelib/fs.scandir/-/fs.scandir-2.1.5.tgz",
      "integrity": "sha512-vq24Bq3ym5HEQm2NKCr3yXDwjc7vTsEThRDnkp2DK9p1uqLR+DHurm/NOTo0KG7HYHU7eppKZj3MyqYuMBf62g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@nodelib/fs.stat": "2.0.5",
        "run-parallel": "^1.1.9"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/@nodelib/fs.stat": {
      "version": "2.0.5",
      "resolved": "https://registry.npmjs.org/@nodelib/fs.stat/-/fs.stat-2.0.5.tgz",
      "integrity": "sha512-RkhPPp2zrqDAQA/2jNhnztcPAlv64XdhIp7a7454A5ovI7Bukxgt7MX7udwAu3zg1DcpPU0rz3VV1SeaqvY4+A==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/@nodelib/fs.walk": {
      "version": "1.2.8",
      "resolved": "https://registry.npmjs.org/@nodelib/fs.walk/-/fs.walk-1.2.8.tgz",
      "integrity": "sha512-oGB+UxlgWcgQkgwo8GcEGwemoTFt3FIO9ababBmaGwXIoBKZ+GTy0pP185beGg7Llih/NSHSV2XAs1lnznocSg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@nodelib/fs.scandir": "2.1.5",
        "fastq": "^1.6.0"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/@pkgjs/parseargs": {
      "version": "0.11.0",
      "resolved": "https://registry.npmjs.org/@pkgjs/parseargs/-/parseargs-0.11.0.tgz",
      "integrity": "sha512-+1VkjdD0QBLPodGrJUeqarH8VAIvQODIbwh9XpP5Syisf7YoQgsJKPNFoqqLQlu+VQ/tVSshMR6loPMn8U+dPg==",
      "dev": true,
      "license": "MIT",
      "optional": true,
      "engines": {
        "node": ">=14"
      }
    },
    "node_modules/@playwright/test": {
      "version": "1.57.0",
      "resolved": "https://registry.npmjs.org/@playwright/test/-/test-1.57.0.tgz",
      "integrity": "sha512-6TyEnHgd6SArQO8UO2OMTxshln3QMWBtPGrOCgs3wVEmQmwyuNtB10IZMfmYDE0riwNR1cu4q+pPcxMVtaG3TA==",
      "dev": true,
      "license": "Apache-2.0",
      "dependencies": {
        "playwright": "1.57.0"
      },
      "bin": {
        "playwright": "cli.js"
      },
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@popperjs/core": {
      "version": "2.11.8",
      "resolved": "https://registry.npmjs.org/@popperjs/core/-/core-2.11.8.tgz",
      "integrity": "sha512-P1st0aksCrn9sGZhp8GMYwBnQsbvAWsZAX44oXNNvLHGqAOcoVxmjZiohstwQ7SqKnbR47akdNi+uleWD8+g6A==",
      "license": "MIT",
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/popperjs"
      }
    },
    "node_modules/@radix-ui/number": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/@radix-ui/number/-/number-1.1.1.tgz",
      "integrity": "sha512-MkKCwxlXTgz6CFoJx3pCwn07GKp36+aZyu/u2Ln2VrA5DcdyCZkASEDBTd8x5whTQQL5CiYf4prXKLcgQdv29g==",
      "license": "MIT"
    },
    "node_modules/@radix-ui/primitive": {
      "version": "1.1.2",
      "resolved": "https://registry.npmjs.org/@radix-ui/primitive/-/primitive-1.1.2.tgz",
      "integrity": "sha512-XnbHrrprsNqZKQhStrSwgRUQzoCI1glLzdw79xiZPoofhGICeZRSQ3dIxAKH1gb3OHfNf4d6f+vAv3kil2eggA==",
      "license": "MIT"
    },
    "node_modules/@radix-ui/react-accordion": {
      "version": "1.2.11",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-accordion/-/react-accordion-1.2.11.tgz",
      "integrity": "sha512-l3W5D54emV2ues7jjeG1xcyN7S3jnK3zE2zHqgn0CmMsy9lNJwmgcrmaxS+7ipw15FAivzKNzH3d5EcGoFKw0A==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/primitive": "1.1.2",
        "@radix-ui/react-collapsible": "1.1.11",
        "@radix-ui/react-collection": "1.1.7",
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-direction": "1.1.1",
        "@radix-ui/react-id": "1.1.1",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-use-controllable-state": "1.2.2"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-alert-dialog": {
      "version": "1.1.14",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-alert-dialog/-/react-alert-dialog-1.1.14.tgz",
      "integrity": "sha512-IOZfZ3nPvN6lXpJTBCunFQPRSvK8MDgSc1FB85xnIpUKOw9en0dJj8JmCAxV7BiZdtYlUpmrQjoTFkVYtdoWzQ==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/primitive": "1.1.2",
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-dialog": "1.1.14",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-slot": "1.2.3"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-arrow": {
      "version": "1.1.7",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-arrow/-/react-arrow-1.1.7.tgz",
      "integrity": "sha512-F+M1tLhO+mlQaOWspE8Wstg+z6PwxwRd8oQ8IXceWz92kfAmalTRf0EjrouQeo7QssEPfCn05B4Ihs1K9WQ/7w==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/react-primitive": "2.1.3"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-aspect-ratio": {
      "version": "1.1.7",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-aspect-ratio/-/react-aspect-ratio-1.1.7.tgz",
      "integrity": "sha512-Yq6lvO9HQyPwev1onK1daHCHqXVLzPhSVjmsNjCa2Zcxy2f7uJD2itDtxknv6FzAKCwD1qQkeVDmX/cev13n/g==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/react-primitive": "2.1.3"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-avatar": {
      "version": "1.1.10",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-avatar/-/react-avatar-1.1.10.tgz",
      "integrity": "sha512-V8piFfWapM5OmNCXTzVQY+E1rDa53zY+MQ4Y7356v4fFz6vqCyUtIz2rUD44ZEdwg78/jKmMJHj07+C/Z/rcog==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-use-callback-ref": "1.1.1",
        "@radix-ui/react-use-is-hydrated": "0.1.0",
        "@radix-ui/react-use-layout-effect": "1.1.1"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-checkbox": {
      "version": "1.3.2",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-checkbox/-/react-checkbox-1.3.2.tgz",
      "integrity": "sha512-yd+dI56KZqawxKZrJ31eENUwqc1QSqg4OZ15rybGjF2ZNwMO+wCyHzAVLRp9qoYJf7kYy0YpZ2b0JCzJ42HZpA==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/primitive": "1.1.2",
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-presence": "1.1.4",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-use-controllable-state": "1.2.2",
        "@radix-ui/react-use-previous": "1.1.1",
        "@radix-ui/react-use-size": "1.1.1"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-collapsible": {
      "version": "1.1.11",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-collapsible/-/react-collapsible-1.1.11.tgz",
      "integrity": "sha512-2qrRsVGSCYasSz1RFOorXwl0H7g7J1frQtgpQgYrt+MOidtPAINHn9CPovQXb83r8ahapdx3Tu0fa/pdFFSdPg==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/primitive": "1.1.2",
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-id": "1.1.1",
        "@radix-ui/react-presence": "1.1.4",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-use-controllable-state": "1.2.2",
        "@radix-ui/react-use-layout-effect": "1.1.1"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-collection": {
      "version": "1.1.7",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-collection/-/react-collection-1.1.7.tgz",
      "integrity": "sha512-Fh9rGN0MoI4ZFUNyfFVNU4y9LUz93u9/0K+yLgA2bwRojxM8JU1DyvvMBabnZPBgMWREAJvU2jjVzq+LrFUglw==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-slot": "1.2.3"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-compose-refs": {
      "version": "1.1.2",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-compose-refs/-/react-compose-refs-1.1.2.tgz",
      "integrity": "sha512-z4eqJvfiNnFMHIIvXP3CY57y2WJs5g2v3X0zm9mEJkrkNv4rDxu+sg9Jh8EkXyeqBkB7SOcboo9dMVqhyrACIg==",
      "license": "MIT",
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-context": {
      "version": "1.1.2",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-context/-/react-context-1.1.2.tgz",
      "integrity": "sha512-jCi/QKUM2r1Ju5a3J64TH2A5SpKAgh0LpknyqdQ4m6DCV0xJ2HG1xARRwNGPQfi1SLdLWZ1OJz6F4OMBBNiGJA==",
      "license": "MIT",
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-context-menu": {
      "version": "2.2.15",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-context-menu/-/react-context-menu-2.2.15.tgz",
      "integrity": "sha512-UsQUMjcYTsBjTSXw0P3GO0werEQvUY2plgRQuKoCTtkNr45q1DiL51j4m7gxhABzZ0BadoXNsIbg7F3KwiUBbw==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/primitive": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-menu": "2.1.15",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-use-callback-ref": "1.1.1",
        "@radix-ui/react-use-controllable-state": "1.2.2"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-dialog": {
      "version": "1.1.14",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-dialog/-/react-dialog-1.1.14.tgz",
      "integrity": "sha512-+CpweKjqpzTmwRwcYECQcNYbI8V9VSQt0SNFKeEBLgfucbsLssU6Ppq7wUdNXEGb573bMjFhVjKVll8rmV6zMw==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/primitive": "1.1.2",
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-dismissable-layer": "1.1.10",
        "@radix-ui/react-focus-guards": "1.1.2",
        "@radix-ui/react-focus-scope": "1.1.7",
        "@radix-ui/react-id": "1.1.1",
        "@radix-ui/react-portal": "1.1.9",
        "@radix-ui/react-presence": "1.1.4",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-slot": "1.2.3",
        "@radix-ui/react-use-controllable-state": "1.2.2",
        "aria-hidden": "^1.2.4",
        "react-remove-scroll": "^2.6.3"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-direction": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-direction/-/react-direction-1.1.1.tgz",
      "integrity": "sha512-1UEWRX6jnOA2y4H5WczZ44gOOjTEmlqv1uNW4GAJEO5+bauCBhv8snY65Iw5/VOS/ghKN9gr2KjnLKxrsvoMVw==",
      "license": "MIT",
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-dismissable-layer": {
      "version": "1.1.10",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-dismissable-layer/-/react-dismissable-layer-1.1.10.tgz",
      "integrity": "sha512-IM1zzRV4W3HtVgftdQiiOmA0AdJlCtMLe00FXaHwgt3rAnNsIyDqshvkIW3hj/iu5hu8ERP7KIYki6NkqDxAwQ==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/primitive": "1.1.2",
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-use-callback-ref": "1.1.1",
        "@radix-ui/react-use-escape-keydown": "1.1.1"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-dropdown-menu": {
      "version": "2.1.15",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-dropdown-menu/-/react-dropdown-menu-2.1.15.tgz",
      "integrity": "sha512-mIBnOjgwo9AH3FyKaSWoSu/dYj6VdhJ7frEPiGTeXCdUFHjl9h3mFh2wwhEtINOmYXWhdpf1rY2minFsmaNgVQ==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/primitive": "1.1.2",
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-id": "1.1.1",
        "@radix-ui/react-menu": "2.1.15",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-use-controllable-state": "1.2.2"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-focus-guards": {
      "version": "1.1.2",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-focus-guards/-/react-focus-guards-1.1.2.tgz",
      "integrity": "sha512-fyjAACV62oPV925xFCrH8DR5xWhg9KYtJT4s3u54jxp+L/hbpTY2kIeEFFbFe+a/HCE94zGQMZLIpVTPVZDhaA==",
      "license": "MIT",
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-focus-scope": {
      "version": "1.1.7",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-focus-scope/-/react-focus-scope-1.1.7.tgz",
      "integrity": "sha512-t2ODlkXBQyn7jkl6TNaw/MtVEVvIGelJDCG41Okq/KwUsJBwQ4XVZsHAVUkK4mBv3ewiAS3PGuUWuY2BoK4ZUw==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-use-callback-ref": "1.1.1"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-hover-card": {
      "version": "1.1.14",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-hover-card/-/react-hover-card-1.1.14.tgz",
      "integrity": "sha512-CPYZ24Mhirm+g6D8jArmLzjYu4Eyg3TTUHswR26QgzXBHBe64BO/RHOJKzmF/Dxb4y4f9PKyJdwm/O/AhNkb+Q==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/primitive": "1.1.2",
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-dismissable-layer": "1.1.10",
        "@radix-ui/react-popper": "1.2.7",
        "@radix-ui/react-portal": "1.1.9",
        "@radix-ui/react-presence": "1.1.4",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-use-controllable-state": "1.2.2"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-id": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-id/-/react-id-1.1.1.tgz",
      "integrity": "sha512-kGkGegYIdQsOb4XjsfM97rXsiHaBwco+hFI66oO4s9LU+PLAC5oJ7khdOVFxkhsmlbpUqDAvXw11CluXP+jkHg==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/react-use-layout-effect": "1.1.1"
      },
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-label": {
      "version": "2.1.7",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-label/-/react-label-2.1.7.tgz",
      "integrity": "sha512-YT1GqPSL8kJn20djelMX7/cTRp/Y9w5IZHvfxQTVHrOqa2yMl7i/UfMqKRU5V7mEyKTrUVgJXhNQPVCG8PBLoQ==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/react-primitive": "2.1.3"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-menu": {
      "version": "2.1.15",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-menu/-/react-menu-2.1.15.tgz",
      "integrity": "sha512-tVlmA3Vb9n8SZSd+YSbuFR66l87Wiy4du+YE+0hzKQEANA+7cWKH1WgqcEX4pXqxUFQKrWQGHdvEfw00TjFiew==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/primitive": "1.1.2",
        "@radix-ui/react-collection": "1.1.7",
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-direction": "1.1.1",
        "@radix-ui/react-dismissable-layer": "1.1.10",
        "@radix-ui/react-focus-guards": "1.1.2",
        "@radix-ui/react-focus-scope": "1.1.7",
        "@radix-ui/react-id": "1.1.1",
        "@radix-ui/react-popper": "1.2.7",
        "@radix-ui/react-portal": "1.1.9",
        "@radix-ui/react-presence": "1.1.4",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-roving-focus": "1.1.10",
        "@radix-ui/react-slot": "1.2.3",
        "@radix-ui/react-use-callback-ref": "1.1.1",
        "aria-hidden": "^1.2.4",
        "react-remove-scroll": "^2.6.3"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-menubar": {
      "version": "1.1.15",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-menubar/-/react-menubar-1.1.15.tgz",
      "integrity": "sha512-Z71C7LGD+YDYo3TV81paUs8f3Zbmkvg6VLRQpKYfzioOE6n7fOhA3ApK/V/2Odolxjoc4ENk8AYCjohCNayd5A==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/primitive": "1.1.2",
        "@radix-ui/react-collection": "1.1.7",
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-direction": "1.1.1",
        "@radix-ui/react-id": "1.1.1",
        "@radix-ui/react-menu": "2.1.15",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-roving-focus": "1.1.10",
        "@radix-ui/react-use-controllable-state": "1.2.2"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-navigation-menu": {
      "version": "1.2.13",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-navigation-menu/-/react-navigation-menu-1.2.13.tgz",
      "integrity": "sha512-WG8wWfDiJlSF5hELjwfjSGOXcBR/ZMhBFCGYe8vERpC39CQYZeq1PQ2kaYHdye3V95d06H89KGMsVCIE4LWo3g==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/primitive": "1.1.2",
        "@radix-ui/react-collection": "1.1.7",
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-direction": "1.1.1",
        "@radix-ui/react-dismissable-layer": "1.1.10",
        "@radix-ui/react-id": "1.1.1",
        "@radix-ui/react-presence": "1.1.4",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-use-callback-ref": "1.1.1",
        "@radix-ui/react-use-controllable-state": "1.2.2",
        "@radix-ui/react-use-layout-effect": "1.1.1",
        "@radix-ui/react-use-previous": "1.1.1",
        "@radix-ui/react-visually-hidden": "1.2.3"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-popover": {
      "version": "1.1.14",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-popover/-/react-popover-1.1.14.tgz",
      "integrity": "sha512-ODz16+1iIbGUfFEfKx2HTPKizg2MN39uIOV8MXeHnmdd3i/N9Wt7vU46wbHsqA0xoaQyXVcs0KIlBdOA2Y95bw==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/primitive": "1.1.2",
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-dismissable-layer": "1.1.10",
        "@radix-ui/react-focus-guards": "1.1.2",
        "@radix-ui/react-focus-scope": "1.1.7",
        "@radix-ui/react-id": "1.1.1",
        "@radix-ui/react-popper": "1.2.7",
        "@radix-ui/react-portal": "1.1.9",
        "@radix-ui/react-presence": "1.1.4",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-slot": "1.2.3",
        "@radix-ui/react-use-controllable-state": "1.2.2",
        "aria-hidden": "^1.2.4",
        "react-remove-scroll": "^2.6.3"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-popper": {
      "version": "1.2.7",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-popper/-/react-popper-1.2.7.tgz",
      "integrity": "sha512-IUFAccz1JyKcf/RjB552PlWwxjeCJB8/4KxT7EhBHOJM+mN7LdW+B3kacJXILm32xawcMMjb2i0cIZpo+f9kiQ==",
      "license": "MIT",
      "dependencies": {
        "@floating-ui/react-dom": "^2.0.0",
        "@radix-ui/react-arrow": "1.1.7",
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-use-callback-ref": "1.1.1",
        "@radix-ui/react-use-layout-effect": "1.1.1",
        "@radix-ui/react-use-rect": "1.1.1",
        "@radix-ui/react-use-size": "1.1.1",
        "@radix-ui/rect": "1.1.1"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-portal": {
      "version": "1.1.9",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-portal/-/react-portal-1.1.9.tgz",
      "integrity": "sha512-bpIxvq03if6UNwXZ+HTK71JLh4APvnXntDc6XOX8UVq4XQOVl7lwok0AvIl+b8zgCw3fSaVTZMpAPPagXbKmHQ==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-use-layout-effect": "1.1.1"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-presence": {
      "version": "1.1.4",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-presence/-/react-presence-1.1.4.tgz",
      "integrity": "sha512-ueDqRbdc4/bkaQT3GIpLQssRlFgWaL/U2z/S31qRwwLWoxHLgry3SIfCwhxeQNbirEUXFa+lq3RL3oBYXtcmIA==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-use-layout-effect": "1.1.1"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-primitive": {
      "version": "2.1.3",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-primitive/-/react-primitive-2.1.3.tgz",
      "integrity": "sha512-m9gTwRkhy2lvCPe6QJp4d3G1TYEUHn/FzJUtq9MjH46an1wJU+GdoGC5VLof8RX8Ft/DlpshApkhswDLZzHIcQ==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/react-slot": "1.2.3"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-progress": {
      "version": "1.1.7",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-progress/-/react-progress-1.1.7.tgz",
      "integrity": "sha512-vPdg/tF6YC/ynuBIJlk1mm7Le0VgW6ub6J2UWnTQ7/D23KXcPI1qy+0vBkgKgd38RCMJavBXpB83HPNFMTb0Fg==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-primitive": "2.1.3"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-radio-group": {
      "version": "1.3.7",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-radio-group/-/react-radio-group-1.3.7.tgz",
      "integrity": "sha512-9w5XhD0KPOrm92OTTE0SysH3sYzHsSTHNvZgUBo/VZ80VdYyB5RneDbc0dKpURS24IxkoFRu/hI0i4XyfFwY6g==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/primitive": "1.1.2",
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-direction": "1.1.1",
        "@radix-ui/react-presence": "1.1.4",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-roving-focus": "1.1.10",
        "@radix-ui/react-use-controllable-state": "1.2.2",
        "@radix-ui/react-use-previous": "1.1.1",
        "@radix-ui/react-use-size": "1.1.1"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-roving-focus": {
      "version": "1.1.10",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-roving-focus/-/react-roving-focus-1.1.10.tgz",
      "integrity": "sha512-dT9aOXUen9JSsxnMPv/0VqySQf5eDQ6LCk5Sw28kamz8wSOW2bJdlX2Bg5VUIIcV+6XlHpWTIuTPCf/UNIyq8Q==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/primitive": "1.1.2",
        "@radix-ui/react-collection": "1.1.7",
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-direction": "1.1.1",
        "@radix-ui/react-id": "1.1.1",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-use-callback-ref": "1.1.1",
        "@radix-ui/react-use-controllable-state": "1.2.2"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-scroll-area": {
      "version": "1.2.9",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-scroll-area/-/react-scroll-area-1.2.9.tgz",
      "integrity": "sha512-YSjEfBXnhUELsO2VzjdtYYD4CfQjvao+lhhrX5XsHD7/cyUNzljF1FHEbgTPN7LH2MClfwRMIsYlqTYpKTTe2A==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/number": "1.1.1",
        "@radix-ui/primitive": "1.1.2",
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-direction": "1.1.1",
        "@radix-ui/react-presence": "1.1.4",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-use-callback-ref": "1.1.1",
        "@radix-ui/react-use-layout-effect": "1.1.1"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-select": {
      "version": "2.2.5",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-select/-/react-select-2.2.5.tgz",
      "integrity": "sha512-HnMTdXEVuuyzx63ME0ut4+sEMYW6oouHWNGUZc7ddvUWIcfCva/AMoqEW/3wnEllriMWBa0RHspCYnfCWJQYmA==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/number": "1.1.1",
        "@radix-ui/primitive": "1.1.2",
        "@radix-ui/react-collection": "1.1.7",
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-direction": "1.1.1",
        "@radix-ui/react-dismissable-layer": "1.1.10",
        "@radix-ui/react-focus-guards": "1.1.2",
        "@radix-ui/react-focus-scope": "1.1.7",
        "@radix-ui/react-id": "1.1.1",
        "@radix-ui/react-popper": "1.2.7",
        "@radix-ui/react-portal": "1.1.9",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-slot": "1.2.3",
        "@radix-ui/react-use-callback-ref": "1.1.1",
        "@radix-ui/react-use-controllable-state": "1.2.2",
        "@radix-ui/react-use-layout-effect": "1.1.1",
        "@radix-ui/react-use-previous": "1.1.1",
        "@radix-ui/react-visually-hidden": "1.2.3",
        "aria-hidden": "^1.2.4",
        "react-remove-scroll": "^2.6.3"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-separator": {
      "version": "1.1.7",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-separator/-/react-separator-1.1.7.tgz",
      "integrity": "sha512-0HEb8R9E8A+jZjvmFCy/J4xhbXy3TV+9XSnGJ3KvTtjlIUy/YQ/p6UYZvi7YbeoeXdyU9+Y3scizK6hkY37baA==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/react-primitive": "2.1.3"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-slider": {
      "version": "1.3.5",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-slider/-/react-slider-1.3.5.tgz",
      "integrity": "sha512-rkfe2pU2NBAYfGaxa3Mqosi7VZEWX5CxKaanRv0vZd4Zhl9fvQrg0VM93dv3xGLGfrHuoTRF3JXH8nb9g+B3fw==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/number": "1.1.1",
        "@radix-ui/primitive": "1.1.2",
        "@radix-ui/react-collection": "1.1.7",
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-direction": "1.1.1",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-use-controllable-state": "1.2.2",
        "@radix-ui/react-use-layout-effect": "1.1.1",
        "@radix-ui/react-use-previous": "1.1.1",
        "@radix-ui/react-use-size": "1.1.1"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-slot": {
      "version": "1.2.3",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-slot/-/react-slot-1.2.3.tgz",
      "integrity": "sha512-aeNmHnBxbi2St0au6VBVC7JXFlhLlOnvIIlePNniyUNAClzmtAUEY8/pBiK3iHjufOlwA+c20/8jngo7xcrg8A==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/react-compose-refs": "1.1.2"
      },
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-switch": {
      "version": "1.2.5",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-switch/-/react-switch-1.2.5.tgz",
      "integrity": "sha512-5ijLkak6ZMylXsaImpZ8u4Rlf5grRmoc0p0QeX9VJtlrM4f5m3nCTX8tWga/zOA8PZYIR/t0p2Mnvd7InrJ6yQ==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/primitive": "1.1.2",
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-use-controllable-state": "1.2.2",
        "@radix-ui/react-use-previous": "1.1.1",
        "@radix-ui/react-use-size": "1.1.1"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-tabs": {
      "version": "1.1.12",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-tabs/-/react-tabs-1.1.12.tgz",
      "integrity": "sha512-GTVAlRVrQrSw3cEARM0nAx73ixrWDPNZAruETn3oHCNP6SbZ/hNxdxp+u7VkIEv3/sFoLq1PfcHrl7Pnp0CDpw==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/primitive": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-direction": "1.1.1",
        "@radix-ui/react-id": "1.1.1",
        "@radix-ui/react-presence": "1.1.4",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-roving-focus": "1.1.10",
        "@radix-ui/react-use-controllable-state": "1.2.2"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-toast": {
      "version": "1.2.14",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-toast/-/react-toast-1.2.14.tgz",
      "integrity": "sha512-nAP5FBxBJGQ/YfUB+r+O6USFVkWq3gAInkxyEnmvEV5jtSbfDhfa4hwX8CraCnbjMLsE7XSf/K75l9xXY7joWg==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/primitive": "1.1.2",
        "@radix-ui/react-collection": "1.1.7",
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-dismissable-layer": "1.1.10",
        "@radix-ui/react-portal": "1.1.9",
        "@radix-ui/react-presence": "1.1.4",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-use-callback-ref": "1.1.1",
        "@radix-ui/react-use-controllable-state": "1.2.2",
        "@radix-ui/react-use-layout-effect": "1.1.1",
        "@radix-ui/react-visually-hidden": "1.2.3"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-toggle": {
      "version": "1.1.9",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-toggle/-/react-toggle-1.1.9.tgz",
      "integrity": "sha512-ZoFkBBz9zv9GWer7wIjvdRxmh2wyc2oKWw6C6CseWd6/yq1DK/l5lJ+wnsmFwJZbBYqr02mrf8A2q/CVCuM3ZA==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/primitive": "1.1.2",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-use-controllable-state": "1.2.2"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-toggle-group": {
      "version": "1.1.10",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-toggle-group/-/react-toggle-group-1.1.10.tgz",
      "integrity": "sha512-kiU694Km3WFLTC75DdqgM/3Jauf3rD9wxeS9XtyWFKsBUeZA337lC+6uUazT7I1DhanZ5gyD5Stf8uf2dbQxOQ==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/primitive": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-direction": "1.1.1",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-roving-focus": "1.1.10",
        "@radix-ui/react-toggle": "1.1.9",
        "@radix-ui/react-use-controllable-state": "1.2.2"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-tooltip": {
      "version": "1.2.7",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-tooltip/-/react-tooltip-1.2.7.tgz",
      "integrity": "sha512-Ap+fNYwKTYJ9pzqW+Xe2HtMRbQ/EeWkj2qykZ6SuEV4iS/o1bZI5ssJbk4D2r8XuDuOBVz/tIx2JObtuqU+5Zw==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/primitive": "1.1.2",
        "@radix-ui/react-compose-refs": "1.1.2",
        "@radix-ui/react-context": "1.1.2",
        "@radix-ui/react-dismissable-layer": "1.1.10",
        "@radix-ui/react-id": "1.1.1",
        "@radix-ui/react-popper": "1.2.7",
        "@radix-ui/react-portal": "1.1.9",
        "@radix-ui/react-presence": "1.1.4",
        "@radix-ui/react-primitive": "2.1.3",
        "@radix-ui/react-slot": "1.2.3",
        "@radix-ui/react-use-controllable-state": "1.2.2",
        "@radix-ui/react-visually-hidden": "1.2.3"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-use-callback-ref": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-use-callback-ref/-/react-use-callback-ref-1.1.1.tgz",
      "integrity": "sha512-FkBMwD+qbGQeMu1cOHnuGB6x4yzPjho8ap5WtbEJ26umhgqVXbhekKUQO+hZEL1vU92a3wHwdp0HAcqAUF5iDg==",
      "license": "MIT",
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-use-controllable-state": {
      "version": "1.2.2",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-use-controllable-state/-/react-use-controllable-state-1.2.2.tgz",
      "integrity": "sha512-BjasUjixPFdS+NKkypcyyN5Pmg83Olst0+c6vGov0diwTEo6mgdqVR6hxcEgFuh4QrAs7Rc+9KuGJ9TVCj0Zzg==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/react-use-effect-event": "0.0.2",
        "@radix-ui/react-use-layout-effect": "1.1.1"
      },
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-use-effect-event": {
      "version": "0.0.2",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-use-effect-event/-/react-use-effect-event-0.0.2.tgz",
      "integrity": "sha512-Qp8WbZOBe+blgpuUT+lw2xheLP8q0oatc9UpmiemEICxGvFLYmHm9QowVZGHtJlGbS6A6yJ3iViad/2cVjnOiA==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/react-use-layout-effect": "1.1.1"
      },
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-use-escape-keydown": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-use-escape-keydown/-/react-use-escape-keydown-1.1.1.tgz",
      "integrity": "sha512-Il0+boE7w/XebUHyBjroE+DbByORGR9KKmITzbR7MyQ4akpORYP/ZmbhAr0DG7RmmBqoOnZdy2QlvajJ2QA59g==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/react-use-callback-ref": "1.1.1"
      },
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-use-is-hydrated": {
      "version": "0.1.0",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-use-is-hydrated/-/react-use-is-hydrated-0.1.0.tgz",
      "integrity": "sha512-U+UORVEq+cTnRIaostJv9AGdV3G6Y+zbVd+12e18jQ5A3c0xL03IhnHuiU4UV69wolOQp5GfR58NW/EgdQhwOA==",
      "license": "MIT",
      "dependencies": {
        "use-sync-external-store": "^1.5.0"
      },
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-use-layout-effect": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-use-layout-effect/-/react-use-layout-effect-1.1.1.tgz",
      "integrity": "sha512-RbJRS4UWQFkzHTTwVymMTUv8EqYhOp8dOOviLj2ugtTiXRaRQS7GLGxZTLL1jWhMeoSCf5zmcZkqTl9IiYfXcQ==",
      "license": "MIT",
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-use-previous": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-use-previous/-/react-use-previous-1.1.1.tgz",
      "integrity": "sha512-2dHfToCj/pzca2Ck724OZ5L0EVrr3eHRNsG/b3xQJLA2hZpVCS99bLAX+hm1IHXDEnzU6by5z/5MIY794/a8NQ==",
      "license": "MIT",
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-use-rect": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-use-rect/-/react-use-rect-1.1.1.tgz",
      "integrity": "sha512-QTYuDesS0VtuHNNvMh+CjlKJ4LJickCMUAqjlE3+j8w+RlRpwyX3apEQKGFzbZGdo7XNG1tXa+bQqIE7HIXT2w==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/rect": "1.1.1"
      },
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-use-size": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-use-size/-/react-use-size-1.1.1.tgz",
      "integrity": "sha512-ewrXRDTAqAXlkl6t/fkXWNAhFX9I+CkKlw6zjEwk86RSPKwZr3xpBRso655aqYafwtnbpHLj6toFzmd6xdVptQ==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/react-use-layout-effect": "1.1.1"
      },
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/react-visually-hidden": {
      "version": "1.2.3",
      "resolved": "https://registry.npmjs.org/@radix-ui/react-visually-hidden/-/react-visually-hidden-1.2.3.tgz",
      "integrity": "sha512-pzJq12tEaaIhqjbzpCuv/OypJY/BPavOofm+dbab+MHLajy277+1lLm6JFcGgF5eskJ6mquGirhXY2GD/8u8Ug==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/react-primitive": "2.1.3"
      },
      "peerDependencies": {
        "@types/react": "*",
        "@types/react-dom": "*",
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        },
        "@types/react-dom": {
          "optional": true
        }
      }
    },
    "node_modules/@radix-ui/rect": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/@radix-ui/rect/-/rect-1.1.1.tgz",
      "integrity": "sha512-HPwpGIzkl28mWyZqG52jiqDJ12waP11Pa1lGoiyUkIEuMLBP0oeK/C89esbXrxsky5we7dfd8U58nm0SgAWpVw==",
      "license": "MIT"
    },
    "node_modules/@remix-run/router": {
      "version": "1.23.0",
      "resolved": "https://registry.npmjs.org/@remix-run/router/-/router-1.23.0.tgz",
      "integrity": "sha512-O3rHJzAQKamUz1fvE0Qaw0xSFqsA/yafi2iqeE0pvdFtCO1viYx8QL6f3Ln/aCCTLxs68SLf0KPM9eSeM8yBnA==",
      "license": "MIT",
      "engines": {
        "node": ">=14.0.0"
      }
    },
    "node_modules/@rolldown/pluginutils": {
      "version": "1.0.0-beta.27",
      "resolved": "https://registry.npmjs.org/@rolldown/pluginutils/-/pluginutils-1.0.0-beta.27.tgz",
      "integrity": "sha512-+d0F4MKMCbeVUJwG96uQ4SgAznZNSq93I3V+9NHA4OpvqG8mRCpGdKmK8l/dl02h2CCDHwW2FqilnTyDcAnqjA==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@rollup/rollup-android-arm-eabi": {
      "version": "4.24.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-android-arm-eabi/-/rollup-android-arm-eabi-4.24.0.tgz",
      "integrity": "sha512-Q6HJd7Y6xdB48x8ZNVDOqsbh2uByBhgK8PiQgPhwkIw/HC/YX5Ghq2mQY5sRMZWHb3VsFkWooUVOZHKr7DmDIA==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "android"
      ]
    },
    "node_modules/@rollup/rollup-android-arm64": {
      "version": "4.24.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-android-arm64/-/rollup-android-arm64-4.24.0.tgz",
      "integrity": "sha512-ijLnS1qFId8xhKjT81uBHuuJp2lU4x2yxa4ctFPtG+MqEE6+C5f/+X/bStmxapgmwLwiL3ih122xv8kVARNAZA==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "android"
      ]
    },
    "node_modules/@rollup/rollup-darwin-arm64": {
      "version": "4.24.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-darwin-arm64/-/rollup-darwin-arm64-4.24.0.tgz",
      "integrity": "sha512-bIv+X9xeSs1XCk6DVvkO+S/z8/2AMt/2lMqdQbMrmVpgFvXlmde9mLcbQpztXm1tajC3raFDqegsH18HQPMYtA==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ]
    },
    "node_modules/@rollup/rollup-darwin-x64": {
      "version": "4.24.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-darwin-x64/-/rollup-darwin-x64-4.24.0.tgz",
      "integrity": "sha512-X6/nOwoFN7RT2svEQWUsW/5C/fYMBe4fnLK9DQk4SX4mgVBiTA9h64kjUYPvGQ0F/9xwJ5U5UfTbl6BEjaQdBQ==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ]
    },
    "node_modules/@rollup/rollup-linux-arm-gnueabihf": {
      "version": "4.24.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm-gnueabihf/-/rollup-linux-arm-gnueabihf-4.24.0.tgz",
      "integrity": "sha512-0KXvIJQMOImLCVCz9uvvdPgfyWo93aHHp8ui3FrtOP57svqrF/roSSR5pjqL2hcMp0ljeGlU4q9o/rQaAQ3AYA==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-arm-musleabihf": {
      "version": "4.24.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm-musleabihf/-/rollup-linux-arm-musleabihf-4.24.0.tgz",
      "integrity": "sha512-it2BW6kKFVh8xk/BnHfakEeoLPv8STIISekpoF+nBgWM4d55CZKc7T4Dx1pEbTnYm/xEKMgy1MNtYuoA8RFIWw==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-arm64-gnu": {
      "version": "4.24.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm64-gnu/-/rollup-linux-arm64-gnu-4.24.0.tgz",
      "integrity": "sha512-i0xTLXjqap2eRfulFVlSnM5dEbTVque/3Pi4g2y7cxrs7+a9De42z4XxKLYJ7+OhE3IgxvfQM7vQc43bwTgPwA==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-arm64-musl": {
      "version": "4.24.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-arm64-musl/-/rollup-linux-arm64-musl-4.24.0.tgz",
      "integrity": "sha512-9E6MKUJhDuDh604Qco5yP/3qn3y7SLXYuiC0Rpr89aMScS2UAmK1wHP2b7KAa1nSjWJc/f/Lc0Wl1L47qjiyQw==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-powerpc64le-gnu": {
      "version": "4.24.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-powerpc64le-gnu/-/rollup-linux-powerpc64le-gnu-4.24.0.tgz",
      "integrity": "sha512-2XFFPJ2XMEiF5Zi2EBf4h73oR1V/lycirxZxHZNc93SqDN/IWhYYSYj8I9381ikUFXZrz2v7r2tOVk2NBwxrWw==",
      "cpu": [
        "ppc64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-riscv64-gnu": {
      "version": "4.24.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-riscv64-gnu/-/rollup-linux-riscv64-gnu-4.24.0.tgz",
      "integrity": "sha512-M3Dg4hlwuntUCdzU7KjYqbbd+BLq3JMAOhCKdBE3TcMGMZbKkDdJ5ivNdehOssMCIokNHFOsv7DO4rlEOfyKpg==",
      "cpu": [
        "riscv64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-s390x-gnu": {
      "version": "4.24.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-s390x-gnu/-/rollup-linux-s390x-gnu-4.24.0.tgz",
      "integrity": "sha512-mjBaoo4ocxJppTorZVKWFpy1bfFj9FeCMJqzlMQGjpNPY9JwQi7OuS1axzNIk0nMX6jSgy6ZURDZ2w0QW6D56g==",
      "cpu": [
        "s390x"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-x64-gnu": {
      "version": "4.24.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-x64-gnu/-/rollup-linux-x64-gnu-4.24.0.tgz",
      "integrity": "sha512-ZXFk7M72R0YYFN5q13niV0B7G8/5dcQ9JDp8keJSfr3GoZeXEoMHP/HlvqROA3OMbMdfr19IjCeNAnPUG93b6A==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-linux-x64-musl": {
      "version": "4.24.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-linux-x64-musl/-/rollup-linux-x64-musl-4.24.0.tgz",
      "integrity": "sha512-w1i+L7kAXZNdYl+vFvzSZy8Y1arS7vMgIy8wusXJzRrPyof5LAb02KGr1PD2EkRcl73kHulIID0M501lN+vobQ==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ]
    },
    "node_modules/@rollup/rollup-win32-arm64-msvc": {
      "version": "4.24.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-win32-arm64-msvc/-/rollup-win32-arm64-msvc-4.24.0.tgz",
      "integrity": "sha512-VXBrnPWgBpVDCVY6XF3LEW0pOU51KbaHhccHw6AS6vBWIC60eqsH19DAeeObl+g8nKAz04QFdl/Cefta0xQtUQ==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ]
    },
    "node_modules/@rollup/rollup-win32-ia32-msvc": {
      "version": "4.24.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-win32-ia32-msvc/-/rollup-win32-ia32-msvc-4.24.0.tgz",
      "integrity": "sha512-xrNcGDU0OxVcPTH/8n/ShH4UevZxKIO6HJFK0e15XItZP2UcaiLFd5kiX7hJnqCbSztUF8Qot+JWBC/QXRPYWQ==",
      "cpu": [
        "ia32"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ]
    },
    "node_modules/@rollup/rollup-win32-x64-msvc": {
      "version": "4.24.0",
      "resolved": "https://registry.npmjs.org/@rollup/rollup-win32-x64-msvc/-/rollup-win32-x64-msvc-4.24.0.tgz",
      "integrity": "sha512-fbMkAF7fufku0N2dE5TBXcNlg0pt0cJue4xBRE2Qc5Vqikxr4VCgKj/ht6SMdFcOacVA9rqF70APJ8RN/4vMJw==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ]
    },
    "node_modules/@swc/core": {
      "version": "1.13.2",
      "resolved": "https://registry.npmjs.org/@swc/core/-/core-1.13.2.tgz",
      "integrity": "sha512-YWqn+0IKXDhqVLKoac4v2tV6hJqB/wOh8/Br8zjqeqBkKa77Qb0Kw2i7LOFzjFNZbZaPH6AlMGlBwNrxaauaAg==",
      "dev": true,
      "hasInstallScript": true,
      "license": "Apache-2.0",
      "dependencies": {
        "@swc/counter": "^0.1.3",
        "@swc/types": "^0.1.23"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/swc"
      },
      "optionalDependencies": {
        "@swc/core-darwin-arm64": "1.13.2",
        "@swc/core-darwin-x64": "1.13.2",
        "@swc/core-linux-arm-gnueabihf": "1.13.2",
        "@swc/core-linux-arm64-gnu": "1.13.2",
        "@swc/core-linux-arm64-musl": "1.13.2",
        "@swc/core-linux-x64-gnu": "1.13.2",
        "@swc/core-linux-x64-musl": "1.13.2",
        "@swc/core-win32-arm64-msvc": "1.13.2",
        "@swc/core-win32-ia32-msvc": "1.13.2",
        "@swc/core-win32-x64-msvc": "1.13.2"
      },
      "peerDependencies": {
        "@swc/helpers": ">=0.5.17"
      },
      "peerDependenciesMeta": {
        "@swc/helpers": {
          "optional": true
        }
      }
    },
    "node_modules/@swc/core-darwin-arm64": {
      "version": "1.13.2",
      "resolved": "https://registry.npmjs.org/@swc/core-darwin-arm64/-/core-darwin-arm64-1.13.2.tgz",
      "integrity": "sha512-44p7ivuLSGFJ15Vly4ivLJjg3ARo4879LtEBAabcHhSZygpmkP8eyjyWxrH3OxkY1eRZSIJe8yRZPFw4kPXFPw==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "Apache-2.0 AND MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/@swc/core-darwin-x64": {
      "version": "1.13.2",
      "resolved": "https://registry.npmjs.org/@swc/core-darwin-x64/-/core-darwin-x64-1.13.2.tgz",
      "integrity": "sha512-Lb9EZi7X2XDAVmuUlBm2UvVAgSCbD3qKqDCxSI4jEOddzVOpNCnyZ/xEampdngUIyDDhhJLYU9duC+Mcsv5Y+A==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "Apache-2.0 AND MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/@swc/core-linux-arm-gnueabihf": {
      "version": "1.13.2",
      "resolved": "https://registry.npmjs.org/@swc/core-linux-arm-gnueabihf/-/core-linux-arm-gnueabihf-1.13.2.tgz",
      "integrity": "sha512-9TDe/92ee1x57x+0OqL1huG4BeljVx0nWW4QOOxp8CCK67Rpc/HHl2wciJ0Kl9Dxf2NvpNtkPvqj9+BUmM9WVA==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "Apache-2.0",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/@swc/core-linux-arm64-gnu": {
      "version": "1.13.2",
      "resolved": "https://registry.npmjs.org/@swc/core-linux-arm64-gnu/-/core-linux-arm64-gnu-1.13.2.tgz",
      "integrity": "sha512-KJUSl56DBk7AWMAIEcU83zl5mg3vlQYhLELhjwRFkGFMvghQvdqQ3zFOYa4TexKA7noBZa3C8fb24rI5sw9Exg==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "Apache-2.0 AND MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/@swc/core-linux-arm64-musl": {
      "version": "1.13.2",
      "resolved": "https://registry.npmjs.org/@swc/core-linux-arm64-musl/-/core-linux-arm64-musl-1.13.2.tgz",
      "integrity": "sha512-teU27iG1oyWpNh9CzcGQ48ClDRt/RCem7mYO7ehd2FY102UeTws2+OzLESS1TS1tEZipq/5xwx3FzbVgiolCiQ==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "Apache-2.0 AND MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/@swc/core-linux-x64-gnu": {
      "version": "1.13.2",
      "resolved": "https://registry.npmjs.org/@swc/core-linux-x64-gnu/-/core-linux-x64-gnu-1.13.2.tgz",
      "integrity": "sha512-dRPsyPyqpLD0HMRCRpYALIh4kdOir8pPg4AhNQZLehKowigRd30RcLXGNVZcc31Ua8CiPI4QSgjOIxK+EQe4LQ==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "Apache-2.0 AND MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/@swc/core-linux-x64-musl": {
      "version": "1.13.2",
      "resolved": "https://registry.npmjs.org/@swc/core-linux-x64-musl/-/core-linux-x64-musl-1.13.2.tgz",
      "integrity": "sha512-CCxETW+KkYEQDqz1SYC15YIWYheqFC+PJVOW76Maa/8yu8Biw+HTAcblKf2isrlUtK8RvrQN94v3UXkC2NzCEw==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "Apache-2.0 AND MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/@swc/core-win32-arm64-msvc": {
      "version": "1.13.2",
      "resolved": "https://registry.npmjs.org/@swc/core-win32-arm64-msvc/-/core-win32-arm64-msvc-1.13.2.tgz",
      "integrity": "sha512-Wv/QTA6PjyRLlmKcN6AmSI4jwSMRl0VTLGs57PHTqYRwwfwd7y4s2fIPJVBNbAlXd795dOEP6d/bGSQSyhOX3A==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "Apache-2.0 AND MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/@swc/core-win32-ia32-msvc": {
      "version": "1.13.2",
      "resolved": "https://registry.npmjs.org/@swc/core-win32-ia32-msvc/-/core-win32-ia32-msvc-1.13.2.tgz",
      "integrity": "sha512-PuCdtNynEkUNbUXX/wsyUC+t4mamIU5y00lT5vJcAvco3/r16Iaxl5UCzhXYaWZSNVZMzPp9qN8NlSL8M5pPxw==",
      "cpu": [
        "ia32"
      ],
      "dev": true,
      "license": "Apache-2.0 AND MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/@swc/core-win32-x64-msvc": {
      "version": "1.13.2",
      "resolved": "https://registry.npmjs.org/@swc/core-win32-x64-msvc/-/core-win32-x64-msvc-1.13.2.tgz",
      "integrity": "sha512-qlmMkFZJus8cYuBURx1a3YAG2G7IW44i+FEYV5/32ylKkzGNAr9tDJSA53XNnNXkAB5EXSPsOz7bn5C3JlEtdQ==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "Apache-2.0 AND MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/@swc/counter": {
      "version": "0.1.3",
      "resolved": "https://registry.npmjs.org/@swc/counter/-/counter-0.1.3.tgz",
      "integrity": "sha512-e2BR4lsJkkRlKZ/qCHPw9ZaSxc0MVUd7gtbtaB7aMvHeJVYe8sOB8DBZkP2DtISHGSku9sCK6T6cnY0CtXrOCQ==",
      "dev": true,
      "license": "Apache-2.0"
    },
    "node_modules/@swc/types": {
      "version": "0.1.23",
      "resolved": "https://registry.npmjs.org/@swc/types/-/types-0.1.23.tgz",
      "integrity": "sha512-u1iIVZV9Q0jxY+yM2vw/hZGDNudsN85bBpTqzAQ9rzkxW9D+e3aEM4Han+ow518gSewkXgjmEK0BD79ZcNVgPw==",
      "dev": true,
      "license": "Apache-2.0",
      "dependencies": {
        "@swc/counter": "^0.1.3"
      }
    },
    "node_modules/@tailwindcss/typography": {
      "version": "0.5.16",
      "resolved": "https://registry.npmjs.org/@tailwindcss/typography/-/typography-0.5.16.tgz",
      "integrity": "sha512-0wDLwCVF5V3x3b1SGXPCDcdsbDHMBe+lkFzBRaHeLvNi+nrrnZ1lA18u+OTWO8iSWU2GxUOCvlXtDuqftc1oiA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "lodash.castarray": "^4.4.0",
        "lodash.isplainobject": "^4.0.6",
        "lodash.merge": "^4.6.2",
        "postcss-selector-parser": "6.0.10"
      },
      "peerDependencies": {
        "tailwindcss": ">=3.0.0 || insiders || >=4.0.0-alpha.20 || >=4.0.0-beta.1"
      }
    },
    "node_modules/@tailwindcss/typography/node_modules/postcss-selector-parser": {
      "version": "6.0.10",
      "resolved": "https://registry.npmjs.org/postcss-selector-parser/-/postcss-selector-parser-6.0.10.tgz",
      "integrity": "sha512-IQ7TZdoaqbT+LCpShg46jnZVlhWD2w6iQYAcYXfHARZ7X1t/UGhhceQDs5X0cGqKvYlHNOuv7Oa1xmb0oQuA3w==",
      "dev": true,
      "dependencies": {
        "cssesc": "^3.0.0",
        "util-deprecate": "^1.0.2"
      },
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/@tanstack/query-core": {
      "version": "5.83.0",
      "resolved": "https://registry.npmjs.org/@tanstack/query-core/-/query-core-5.83.0.tgz",
      "integrity": "sha512-0M8dA+amXUkyz5cVUm/B+zSk3xkQAcuXuz5/Q/LveT4ots2rBpPTZOzd7yJa2Utsf8D2Upl5KyjhHRY+9lB/XA==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/tannerlinsley"
      }
    },
    "node_modules/@tanstack/react-query": {
      "version": "5.83.0",
      "resolved": "https://registry.npmjs.org/@tanstack/react-query/-/react-query-5.83.0.tgz",
      "integrity": "sha512-/XGYhZ3foc5H0VM2jLSD/NyBRIOK4q9kfeml4+0x2DlL6xVuAcVEW+hTlTapAmejObg0i3eNqhkr2dT+eciwoQ==",
      "license": "MIT",
      "dependencies": {
        "@tanstack/query-core": "5.83.0"
      },
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/tannerlinsley"
      },
      "peerDependencies": {
        "react": "^18 || ^19"
      }
    },
    "node_modules/@types/d3-array": {
      "version": "3.2.1",
      "resolved": "https://registry.npmjs.org/@types/d3-array/-/d3-array-3.2.1.tgz",
      "integrity": "sha512-Y2Jn2idRrLzUfAKV2LyRImR+y4oa2AntrgID95SHJxuMUrkNXmanDSed71sRNZysveJVt1hLLemQZIady0FpEg==",
      "license": "MIT"
    },
    "node_modules/@types/d3-color": {
      "version": "3.1.3",
      "resolved": "https://registry.npmjs.org/@types/d3-color/-/d3-color-3.1.3.tgz",
      "integrity": "sha512-iO90scth9WAbmgv7ogoq57O9YpKmFBbmoEoCHDB2xMBY0+/KVrqAaCDyCE16dUspeOvIxFFRI+0sEtqDqy2b4A==",
      "license": "MIT"
    },
    "node_modules/@types/d3-ease": {
      "version": "3.0.2",
      "resolved": "https://registry.npmjs.org/@types/d3-ease/-/d3-ease-3.0.2.tgz",
      "integrity": "sha512-NcV1JjO5oDzoK26oMzbILE6HW7uVXOHLQvHshBUW4UMdZGfiY6v5BeQwh9a9tCzv+CeefZQHJt5SRgK154RtiA==",
      "license": "MIT"
    },
    "node_modules/@types/d3-interpolate": {
      "version": "3.0.4",
      "resolved": "https://registry.npmjs.org/@types/d3-interpolate/-/d3-interpolate-3.0.4.tgz",
      "integrity": "sha512-mgLPETlrpVV1YRJIglr4Ez47g7Yxjl1lj7YKsiMCb27VJH9W8NVM6Bb9d8kkpG/uAQS5AmbA48q2IAolKKo1MA==",
      "license": "MIT",
      "dependencies": {
        "@types/d3-color": "*"
      }
    },
    "node_modules/@types/d3-path": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/@types/d3-path/-/d3-path-3.1.0.tgz",
      "integrity": "sha512-P2dlU/q51fkOc/Gfl3Ul9kicV7l+ra934qBFXCFhrZMOL6du1TM0pm1ThYvENukyOn5h9v+yMJ9Fn5JK4QozrQ==",
      "license": "MIT"
    },
    "node_modules/@types/d3-scale": {
      "version": "4.0.8",
      "resolved": "https://registry.npmjs.org/@types/d3-scale/-/d3-scale-4.0.8.tgz",
      "integrity": "sha512-gkK1VVTr5iNiYJ7vWDI+yUFFlszhNMtVeneJ6lUTKPjprsvLLI9/tgEGiXJOnlINJA8FyA88gfnQsHbybVZrYQ==",
      "license": "MIT",
      "dependencies": {
        "@types/d3-time": "*"
      }
    },
    "node_modules/@types/d3-shape": {
      "version": "3.1.6",
      "resolved": "https://registry.npmjs.org/@types/d3-shape/-/d3-shape-3.1.6.tgz",
      "integrity": "sha512-5KKk5aKGu2I+O6SONMYSNflgiP0WfZIQvVUMan50wHsLG1G94JlxEVnCpQARfTtzytuY0p/9PXXZb3I7giofIA==",
      "license": "MIT",
      "dependencies": {
        "@types/d3-path": "*"
      }
    },
    "node_modules/@types/d3-time": {
      "version": "3.0.3",
      "resolved": "https://registry.npmjs.org/@types/d3-time/-/d3-time-3.0.3.tgz",
      "integrity": "sha512-2p6olUZ4w3s+07q3Tm2dbiMZy5pCDfYwtLXXHUnVzXgQlZ/OyPtUz6OL382BkOuGlLXqfT+wqv8Fw2v8/0geBw==",
      "license": "MIT"
    },
    "node_modules/@types/d3-timer": {
      "version": "3.0.2",
      "resolved": "https://registry.npmjs.org/@types/d3-timer/-/d3-timer-3.0.2.tgz",
      "integrity": "sha512-Ps3T8E8dZDam6fUyNiMkekK3XUsaUEik+idO9/YjPtfj2qruF8tFBXS7XhtE4iIXBLxhmLjP3SXpLhVf21I9Lw==",
      "license": "MIT"
    },
    "node_modules/@types/debug": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/@types/debug/-/debug-4.1.12.tgz",
      "integrity": "sha512-vIChWdVG3LG1SMxEvI/AK+FWJthlrqlTu7fbrlywTkkaONwk/UAGaULXRlf8vkzFBLVm0zkMdCquhL5aOjhXPQ==",
      "license": "MIT",
      "dependencies": {
        "@types/ms": "*"
      }
    },
    "node_modules/@types/estree": {
      "version": "1.0.6",
      "resolved": "https://registry.npmjs.org/@types/estree/-/estree-1.0.6.tgz",
      "integrity": "sha512-AYnb1nQyY49te+VRAVgmzfcgjYS91mY5P0TKUDCLEM+gNnA+3T6rWITXRLYCpahpqSQbN5cE+gHpnPyXjHWxcw==",
      "license": "MIT"
    },
    "node_modules/@types/estree-jsx": {
      "version": "1.0.5",
      "resolved": "https://registry.npmjs.org/@types/estree-jsx/-/estree-jsx-1.0.5.tgz",
      "integrity": "sha512-52CcUVNFyfb1A2ALocQw/Dd1BQFNmSdkuC3BkZ6iqhdMfQz7JWOFRuJFloOzjk+6WijU56m9oKXFAXc7o3Towg==",
      "license": "MIT",
      "dependencies": {
        "@types/estree": "*"
      }
    },
    "node_modules/@types/hast": {
      "version": "3.0.4",
      "resolved": "https://registry.npmjs.org/@types/hast/-/hast-3.0.4.tgz",
      "integrity": "sha512-WPs+bbQw5aCj+x6laNGWLH3wviHtoCv/P3+otBhbOhJgG8qtpdAMlTCxLtsTWA7LH1Oh/bFCHsBn0TPS5m30EQ==",
      "license": "MIT",
      "dependencies": {
        "@types/unist": "*"
      }
    },
    "node_modules/@types/json-schema": {
      "version": "7.0.15",
      "resolved": "https://registry.npmjs.org/@types/json-schema/-/json-schema-7.0.15.tgz",
      "integrity": "sha512-5+fP8P8MFNC+AyZCDxrB2pkZFPGzqQWUzpSeuuVLvm8VMcorNYavBqoFcxK8bQz4Qsbn4oUEEem4wDLfcysGHA==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@types/mdast": {
      "version": "4.0.4",
      "resolved": "https://registry.npmjs.org/@types/mdast/-/mdast-4.0.4.tgz",
      "integrity": "sha512-kGaNbPh1k7AFzgpud/gMdvIm5xuECykRR+JnWKQno9TAXVa6WIVCGTPvYGekIDL4uwCZQSYbUxNBSb1aUo79oA==",
      "license": "MIT",
      "dependencies": {
        "@types/unist": "*"
      }
    },
    "node_modules/@types/ms": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/@types/ms/-/ms-2.1.0.tgz",
      "integrity": "sha512-GsCCIZDE/p3i96vtEqx+7dBUGXrc7zeSK3wwPHIaRThS+9OhWIXRqzs4d6k1SVU8g91DrNRWxWUGhp5KXQb2VA==",
      "license": "MIT"
    },
    "node_modules/@types/node": {
      "version": "22.16.5",
      "resolved": "https://registry.npmjs.org/@types/node/-/node-22.16.5.tgz",
      "integrity": "sha512-bJFoMATwIGaxxx8VJPeM8TonI8t579oRvgAuT8zFugJsJZgzqv0Fu8Mhp68iecjzG7cnN3mO2dJQ5uUM2EFrgQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "undici-types": "~6.21.0"
      }
    },
    "node_modules/@types/prop-types": {
      "version": "15.7.13",
      "resolved": "https://registry.npmjs.org/@types/prop-types/-/prop-types-15.7.13.tgz",
      "integrity": "sha512-hCZTSvwbzWGvhqxp/RqVqwU999pBf2vp7hzIjiYOsl8wqOmUxkQ6ddw1cV3l8811+kdUFus/q4d1Y3E3SyEifA==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/@types/react": {
      "version": "18.3.23",
      "resolved": "https://registry.npmjs.org/@types/react/-/react-18.3.23.tgz",
      "integrity": "sha512-/LDXMQh55EzZQ0uVAZmKKhfENivEvWz6E+EYzh+/MCjMhNsotd+ZHhBGIjFDTi6+fz0OhQQQLbTgdQIxxCsC0w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@types/prop-types": "*",
        "csstype": "^3.0.2"
      }
    },
    "node_modules/@types/react-dom": {
      "version": "18.3.7",
      "resolved": "https://registry.npmjs.org/@types/react-dom/-/react-dom-18.3.7.tgz",
      "integrity": "sha512-MEe3UeoENYVFXzoXEWsvcpg6ZvlrFNlOQ7EOsvhI3CfAXwzPfO8Qwuxd40nepsYKqyyVQnTdEfv68q91yLcKrQ==",
      "dev": true,
      "license": "MIT",
      "peerDependencies": {
        "@types/react": "^18.0.0"
      }
    },
    "node_modules/@types/unist": {
      "version": "3.0.3",
      "resolved": "https://registry.npmjs.org/@types/unist/-/unist-3.0.3.tgz",
      "integrity": "sha512-ko/gIFJRv177XgZsZcBwnqJN5x/Gien8qNOn0D5bQU/zAzVf9Zt3BlcUiLqhV9y4ARk0GbT3tnUiPNgnTXzc/Q==",
      "license": "MIT"
    },
    "node_modules/@typescript-eslint/eslint-plugin": {
      "version": "8.38.0",
      "resolved": "https://registry.npmjs.org/@typescript-eslint/eslint-plugin/-/eslint-plugin-8.38.0.tgz",
      "integrity": "sha512-CPoznzpuAnIOl4nhj4tRr4gIPj5AfKgkiJmGQDaq+fQnRJTYlcBjbX3wbciGmpoPf8DREufuPRe1tNMZnGdanA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@eslint-community/regexpp": "^4.10.0",
        "@typescript-eslint/scope-manager": "8.38.0",
        "@typescript-eslint/type-utils": "8.38.0",
        "@typescript-eslint/utils": "8.38.0",
        "@typescript-eslint/visitor-keys": "8.38.0",
        "graphemer": "^1.4.0",
        "ignore": "^7.0.0",
        "natural-compare": "^1.4.0",
        "ts-api-utils": "^2.1.0"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/typescript-eslint"
      },
      "peerDependencies": {
        "@typescript-eslint/parser": "^8.38.0",
        "eslint": "^8.57.0 || ^9.0.0",
        "typescript": ">=4.8.4 <5.9.0"
      }
    },
    "node_modules/@typescript-eslint/eslint-plugin/node_modules/ignore": {
      "version": "7.0.5",
      "resolved": "https://registry.npmjs.org/ignore/-/ignore-7.0.5.tgz",
      "integrity": "sha512-Hs59xBNfUIunMFgWAbGX5cq6893IbWg4KnrjbYwX3tx0ztorVgTDA6B2sxf8ejHJ4wz8BqGUMYlnzNBer5NvGg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 4"
      }
    },
    "node_modules/@typescript-eslint/parser": {
      "version": "8.38.0",
      "resolved": "https://registry.npmjs.org/@typescript-eslint/parser/-/parser-8.38.0.tgz",
      "integrity": "sha512-Zhy8HCvBUEfBECzIl1PKqF4p11+d0aUJS1GeUiuqK9WmOug8YCmC4h4bjyBvMyAMI9sbRczmrYL5lKg/YMbrcQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@typescript-eslint/scope-manager": "8.38.0",
        "@typescript-eslint/types": "8.38.0",
        "@typescript-eslint/typescript-estree": "8.38.0",
        "@typescript-eslint/visitor-keys": "8.38.0",
        "debug": "^4.3.4"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/typescript-eslint"
      },
      "peerDependencies": {
        "eslint": "^8.57.0 || ^9.0.0",
        "typescript": ">=4.8.4 <5.9.0"
      }
    },
    "node_modules/@typescript-eslint/project-service": {
      "version": "8.38.0",
      "resolved": "https://registry.npmjs.org/@typescript-eslint/project-service/-/project-service-8.38.0.tgz",
      "integrity": "sha512-dbK7Jvqcb8c9QfH01YB6pORpqX1mn5gDZc9n63Ak/+jD67oWXn3Gs0M6vddAN+eDXBCS5EmNWzbSxsn9SzFWWg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@typescript-eslint/tsconfig-utils": "^8.38.0",
        "@typescript-eslint/types": "^8.38.0",
        "debug": "^4.3.4"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/typescript-eslint"
      },
      "peerDependencies": {
        "typescript": ">=4.8.4 <5.9.0"
      }
    },
    "node_modules/@typescript-eslint/scope-manager": {
      "version": "8.38.0",
      "resolved": "https://registry.npmjs.org/@typescript-eslint/scope-manager/-/scope-manager-8.38.0.tgz",
      "integrity": "sha512-WJw3AVlFFcdT9Ri1xs/lg8LwDqgekWXWhH3iAF+1ZM+QPd7oxQ6jvtW/JPwzAScxitILUIFs0/AnQ/UWHzbATQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@typescript-eslint/types": "8.38.0",
        "@typescript-eslint/visitor-keys": "8.38.0"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/typescript-eslint"
      }
    },
    "node_modules/@typescript-eslint/tsconfig-utils": {
      "version": "8.38.0",
      "resolved": "https://registry.npmjs.org/@typescript-eslint/tsconfig-utils/-/tsconfig-utils-8.38.0.tgz",
      "integrity": "sha512-Lum9RtSE3EroKk/bYns+sPOodqb2Fv50XOl/gMviMKNvanETUuUcC9ObRbzrJ4VSd2JalPqgSAavwrPiPvnAiQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/typescript-eslint"
      },
      "peerDependencies": {
        "typescript": ">=4.8.4 <5.9.0"
      }
    },
    "node_modules/@typescript-eslint/type-utils": {
      "version": "8.38.0",
      "resolved": "https://registry.npmjs.org/@typescript-eslint/type-utils/-/type-utils-8.38.0.tgz",
      "integrity": "sha512-c7jAvGEZVf0ao2z+nnz8BUaHZD09Agbh+DY7qvBQqLiz8uJzRgVPj5YvOh8I8uEiH8oIUGIfHzMwUcGVco/SJg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@typescript-eslint/types": "8.38.0",
        "@typescript-eslint/typescript-estree": "8.38.0",
        "@typescript-eslint/utils": "8.38.0",
        "debug": "^4.3.4",
        "ts-api-utils": "^2.1.0"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/typescript-eslint"
      },
      "peerDependencies": {
        "eslint": "^8.57.0 || ^9.0.0",
        "typescript": ">=4.8.4 <5.9.0"
      }
    },
    "node_modules/@typescript-eslint/types": {
      "version": "8.38.0",
      "resolved": "https://registry.npmjs.org/@typescript-eslint/types/-/types-8.38.0.tgz",
      "integrity": "sha512-wzkUfX3plUqij4YwWaJyqhiPE5UCRVlFpKn1oCRn2O1bJ592XxWJj8ROQ3JD5MYXLORW84063z3tZTb/cs4Tyw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/typescript-eslint"
      }
    },
    "node_modules/@typescript-eslint/typescript-estree": {
      "version": "8.38.0",
      "resolved": "https://registry.npmjs.org/@typescript-eslint/typescript-estree/-/typescript-estree-8.38.0.tgz",
      "integrity": "sha512-fooELKcAKzxux6fA6pxOflpNS0jc+nOQEEOipXFNjSlBS6fqrJOVY/whSn70SScHrcJ2LDsxWrneFoWYSVfqhQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@typescript-eslint/project-service": "8.38.0",
        "@typescript-eslint/tsconfig-utils": "8.38.0",
        "@typescript-eslint/types": "8.38.0",
        "@typescript-eslint/visitor-keys": "8.38.0",
        "debug": "^4.3.4",
        "fast-glob": "^3.3.2",
        "is-glob": "^4.0.3",
        "minimatch": "^9.0.4",
        "semver": "^7.6.0",
        "ts-api-utils": "^2.1.0"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/typescript-eslint"
      },
      "peerDependencies": {
        "typescript": ">=4.8.4 <5.9.0"
      }
    },
    "node_modules/@typescript-eslint/typescript-estree/node_modules/brace-expansion": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/brace-expansion/-/brace-expansion-2.0.2.tgz",
      "integrity": "sha512-Jt0vHyM+jmUBqojB7E1NIYadt0vI0Qxjxd2TErW94wDz+E2LAm5vKMXXwg6ZZBTHPuUlDgQHKXvjGBdfcF1ZDQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "balanced-match": "^1.0.0"
      }
    },
    "node_modules/@typescript-eslint/typescript-estree/node_modules/minimatch": {
      "version": "9.0.5",
      "resolved": "https://registry.npmjs.org/minimatch/-/minimatch-9.0.5.tgz",
      "integrity": "sha512-G6T0ZX48xgozx7587koeX9Ys2NYy6Gmv//P89sEte9V9whIapMNF4idKxnW2QtCcLiTWlb/wfCabAtAFWhhBow==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "brace-expansion": "^2.0.1"
      },
      "engines": {
        "node": ">=16 || 14 >=14.17"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/@typescript-eslint/utils": {
      "version": "8.38.0",
      "resolved": "https://registry.npmjs.org/@typescript-eslint/utils/-/utils-8.38.0.tgz",
      "integrity": "sha512-hHcMA86Hgt+ijJlrD8fX0j1j8w4C92zue/8LOPAFioIno+W0+L7KqE8QZKCcPGc/92Vs9x36w/4MPTJhqXdyvg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@eslint-community/eslint-utils": "^4.7.0",
        "@typescript-eslint/scope-manager": "8.38.0",
        "@typescript-eslint/types": "8.38.0",
        "@typescript-eslint/typescript-estree": "8.38.0"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/typescript-eslint"
      },
      "peerDependencies": {
        "eslint": "^8.57.0 || ^9.0.0",
        "typescript": ">=4.8.4 <5.9.0"
      }
    },
    "node_modules/@typescript-eslint/visitor-keys": {
      "version": "8.38.0",
      "resolved": "https://registry.npmjs.org/@typescript-eslint/visitor-keys/-/visitor-keys-8.38.0.tgz",
      "integrity": "sha512-pWrTcoFNWuwHlA9CvlfSsGWs14JxfN1TH25zM5L7o0pRLhsoZkDnTsXfQRJBEWJoV5DL0jf+Z+sxiud+K0mq1g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@typescript-eslint/types": "8.38.0",
        "eslint-visitor-keys": "^4.2.1"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/typescript-eslint"
      }
    },
    "node_modules/@ungap/structured-clone": {
      "version": "1.3.0",
      "resolved": "https://registry.npmjs.org/@ungap/structured-clone/-/structured-clone-1.3.0.tgz",
      "integrity": "sha512-WmoN8qaIAo7WTYWbAZuG8PYEhn5fkz7dZrqTBZ7dtt//lL2Gwms1IcnQ5yHqjDfX8Ft5j4YzDM23f87zBfDe9g==",
      "license": "ISC"
    },
    "node_modules/@vitejs/plugin-react-swc": {
      "version": "3.11.0",
      "resolved": "https://registry.npmjs.org/@vitejs/plugin-react-swc/-/plugin-react-swc-3.11.0.tgz",
      "integrity": "sha512-YTJCGFdNMHCMfjODYtxRNVAYmTWQ1Lb8PulP/2/f/oEEtglw8oKxKIZmmRkyXrVrHfsKOaVkAc3NT9/dMutO5w==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@rolldown/pluginutils": "1.0.0-beta.27",
        "@swc/core": "^1.12.11"
      },
      "peerDependencies": {
        "vite": "^4 || ^5 || ^6 || ^7"
      }
    },
    "node_modules/acorn": {
      "version": "8.15.0",
      "resolved": "https://registry.npmjs.org/acorn/-/acorn-8.15.0.tgz",
      "integrity": "sha512-NZyJarBfL7nWwIq+FDL6Zp/yHEhePMNnnJ0y3qfieCrmNvYct8uvtiV41UvlSe6apAfk0fY1FbWx+NwfmpvtTg==",
      "dev": true,
      "license": "MIT",
      "bin": {
        "acorn": "bin/acorn"
      },
      "engines": {
        "node": ">=0.4.0"
      }
    },
    "node_modules/acorn-jsx": {
      "version": "5.3.2",
      "resolved": "https://registry.npmjs.org/acorn-jsx/-/acorn-jsx-5.3.2.tgz",
      "integrity": "sha512-rq9s+JNhf0IChjtDXxllJ7g41oZk5SlXtp0LHwyA5cejwn7vKmKp4pPri6YEePv2PU65sAsegbXtIinmDFDXgQ==",
      "dev": true,
      "license": "MIT",
      "peerDependencies": {
        "acorn": "^6.0.0 || ^7.0.0 || ^8.0.0"
      }
    },
    "node_modules/ajv": {
      "version": "6.12.6",
      "resolved": "https://registry.npmjs.org/ajv/-/ajv-6.12.6.tgz",
      "integrity": "sha512-j3fVLgvTo527anyYyJOGTYJbG+vnnQYvE0m5mmkc1TK+nxAppkCLMIL0aZ4dblVCNoGShhm+kzE4ZUykBoMg4g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "fast-deep-equal": "^3.1.1",
        "fast-json-stable-stringify": "^2.0.0",
        "json-schema-traverse": "^0.4.1",
        "uri-js": "^4.2.2"
      },
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/epoberezkin"
      }
    },
    "node_modules/ansi-regex": {
      "version": "6.1.0",
      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-6.1.0.tgz",
      "integrity": "sha512-7HSX4QQb4CspciLpVFwyRe79O3xsIZDDLER21kERQ71oaPodF8jL725AgJMFAYbooIqolJoRLuM81SpeUkpkvA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/chalk/ansi-regex?sponsor=1"
      }
    },
    "node_modules/ansi-styles": {
      "version": "4.3.0",
      "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-4.3.0.tgz",
      "integrity": "sha512-zbB9rCJAT1rbjiVDb2hqKFHNYLxgtk8NURxZ3IZwD3F6NtxbXZQCnnSi1Lkx+IDohdPlFp222wVALIheZJQSEg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "color-convert": "^2.0.1"
      },
      "engines": {
        "node": ">=8"
      },
      "funding": {
        "url": "https://github.com/chalk/ansi-styles?sponsor=1"
      }
    },
    "node_modules/any-promise": {
      "version": "1.3.0",
      "resolved": "https://registry.npmjs.org/any-promise/-/any-promise-1.3.0.tgz",
      "integrity": "sha512-7UvmKalWRt1wgjL1RrGxoSJW/0QZFIegpeGvZG9kjp8vrRu55XTHbwnqq2GpXm9uLbcuhxm3IqX9OB4MZR1b2A==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/anymatch": {
      "version": "3.1.3",
      "resolved": "https://registry.npmjs.org/anymatch/-/anymatch-3.1.3.tgz",
      "integrity": "sha512-KMReFUr0B4t+D+OBkjR3KYqvocp2XaSzO55UcB6mgQMd3KbcE+mWTyvVV7D/zsdEbNnV6acZUutkiHQXvTr1Rw==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "normalize-path": "^3.0.0",
        "picomatch": "^2.0.4"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/arg": {
      "version": "5.0.2",
      "resolved": "https://registry.npmjs.org/arg/-/arg-5.0.2.tgz",
      "integrity": "sha512-PYjyFOLKQ9y57JvQ6QLo8dAgNqswh8M1RMJYdQduT6xbWSgK36P/Z/v+p888pM69jMMfS8Xd8F6I1kQ/I9HUGg==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/argparse": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/argparse/-/argparse-2.0.1.tgz",
      "integrity": "sha512-8+9WqebbFzpX9OR+Wa6O29asIogeRMzcGtAINdpMHHyAg10f05aSFVBbcEqGf/PXw1EjAZ+q2/bEBg3DvurK3Q==",
      "dev": true,
      "license": "Python-2.0"
    },
    "node_modules/aria-hidden": {
      "version": "1.2.4",
      "resolved": "https://registry.npmjs.org/aria-hidden/-/aria-hidden-1.2.4.tgz",
      "integrity": "sha512-y+CcFFwelSXpLZk/7fMB2mUbGtX9lKycf1MWJ7CaTIERyitVlyQx6C+sxcROU2BAJ24OiZyK+8wj2i8AlBoS3A==",
      "license": "MIT",
      "dependencies": {
        "tslib": "^2.0.0"
      },
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/asynckit": {
      "version": "0.4.0",
      "resolved": "https://registry.npmjs.org/asynckit/-/asynckit-0.4.0.tgz",
      "integrity": "sha512-Oei9OH4tRh0YqU3GxhX79dM/mwVgvbZJaSNaRk+bshkj0S5cfHcgYakreBjrHwatXKbz+IoIdYLxrKim2MjW0Q==",
      "license": "MIT"
    },
    "node_modules/autoprefixer": {
      "version": "10.4.21",
      "resolved": "https://registry.npmjs.org/autoprefixer/-/autoprefixer-10.4.21.tgz",
      "integrity": "sha512-O+A6LWV5LDHSJD3LjHYoNi4VLsj/Whi7k6zG12xTYaU4cQ8oxQGckXNX8cRHK5yOZ/ppVHe0ZBXGzSV9jXdVbQ==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/postcss/"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/autoprefixer"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "browserslist": "^4.24.4",
        "caniuse-lite": "^1.0.30001702",
        "fraction.js": "^4.3.7",
        "normalize-range": "^0.1.2",
        "picocolors": "^1.1.1",
        "postcss-value-parser": "^4.2.0"
      },
      "bin": {
        "autoprefixer": "bin/autoprefixer"
      },
      "engines": {
        "node": "^10 || ^12 || >=14"
      },
      "peerDependencies": {
        "postcss": "^8.1.0"
      }
    },
    "node_modules/axios": {
      "version": "1.13.2",
      "resolved": "https://registry.npmjs.org/axios/-/axios-1.13.2.tgz",
      "integrity": "sha512-VPk9ebNqPcy5lRGuSlKx752IlDatOjT9paPlm8A7yOuW2Fbvp4X3JznJtT4f0GzGLLiWE9W8onz51SqLYwzGaA==",
      "license": "MIT",
      "dependencies": {
        "follow-redirects": "^1.15.6",
        "form-data": "^4.0.4",
        "proxy-from-env": "^1.1.0"
      }
    },
    "node_modules/bail": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/bail/-/bail-2.0.2.tgz",
      "integrity": "sha512-0xO6mYd7JB2YesxDKplafRpsiOzPt9V02ddPCLbY1xYGPOX24NTyN50qnUxgCPcSoYMhKpAuBTjQoRZCAkUDRw==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/balanced-match": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/balanced-match/-/balanced-match-1.0.2.tgz",
      "integrity": "sha512-3oSeUO0TMV67hN1AmbXsK4yaqU7tjiHlbxRDZOpH0KW9+CeX4bRAaX0Anxt0tx2MrpRpWwQaPwIlISEJhYU5Pw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/binary-extensions": {
      "version": "2.3.0",
      "resolved": "https://registry.npmjs.org/binary-extensions/-/binary-extensions-2.3.0.tgz",
      "integrity": "sha512-Ceh+7ox5qe7LJuLHoY0feh3pHuUDHAcRUeyL2VYghZwfpkNIy/+8Ocg0a3UuSoYzavmylwuLWQOf3hl0jjMMIw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/brace-expansion": {
      "version": "1.1.12",
      "resolved": "https://registry.npmjs.org/brace-expansion/-/brace-expansion-1.1.12.tgz",
      "integrity": "sha512-9T9UjW3r0UW5c1Q7GTwllptXwhvYmEzFhzMfZ9H7FQWt+uZePjZPjBP/W1ZEyZ1twGWom5/56TF4lPcqjnDHcg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "balanced-match": "^1.0.0",
        "concat-map": "0.0.1"
      }
    },
    "node_modules/braces": {
      "version": "3.0.3",
      "resolved": "https://registry.npmjs.org/braces/-/braces-3.0.3.tgz",
      "integrity": "sha512-yQbXgO/OSZVD2IsiLlro+7Hf6Q18EJrKSEsdoMzKePKXct3gvD8oLcOQdIzGupr5Fj+EDe8gO/lxc1BzfMpxvA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "fill-range": "^7.1.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/browserslist": {
      "version": "4.25.1",
      "resolved": "https://registry.npmjs.org/browserslist/-/browserslist-4.25.1.tgz",
      "integrity": "sha512-KGj0KoOMXLpSNkkEI6Z6mShmQy0bc1I+T7K9N81k4WWMrfz+6fQ6es80B/YLAeRoKvjYE1YSHHOW1qe9xIVzHw==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/browserslist"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/browserslist"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "caniuse-lite": "^1.0.30001726",
        "electron-to-chromium": "^1.5.173",
        "node-releases": "^2.0.19",
        "update-browserslist-db": "^1.1.3"
      },
      "bin": {
        "browserslist": "cli.js"
      },
      "engines": {
        "node": "^6 || ^7 || ^8 || ^9 || ^10 || ^11 || ^12 || >=13.7"
      }
    },
    "node_modules/call-bind-apply-helpers": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/call-bind-apply-helpers/-/call-bind-apply-helpers-1.0.2.tgz",
      "integrity": "sha512-Sp1ablJ0ivDkSzjcaJdxEunN5/XvksFJ2sMBFfq6x0ryhQV/2b/KwFe21cMpmHtPOSij8K99/wSfoEuTObmuMQ==",
      "license": "MIT",
      "dependencies": {
        "es-errors": "^1.3.0",
        "function-bind": "^1.1.2"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/callsites": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/callsites/-/callsites-3.1.0.tgz",
      "integrity": "sha512-P8BjAsXvZS+VIDUI11hHCQEv74YT67YUi5JJFNWIqL235sBmjX4+qx9Muvls5ivyNENctx46xQLQ3aTuE7ssaQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/camelcase-css": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/camelcase-css/-/camelcase-css-2.0.1.tgz",
      "integrity": "sha512-QOSvevhslijgYwRx6Rv7zKdMF8lbRmx+uQGx2+vDc+KI/eBnsy9kit5aj23AgGu3pa4t9AgwbnXWqS+iOY+2aA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 6"
      }
    },
    "node_modules/caniuse-lite": {
      "version": "1.0.30001727",
      "resolved": "https://registry.npmjs.org/caniuse-lite/-/caniuse-lite-1.0.30001727.tgz",
      "integrity": "sha512-pB68nIHmbN6L/4C6MH1DokyR3bYqFwjaSs/sWDHGj4CTcFtQUQMuJftVwWkXq7mNWOybD3KhUv3oWHoGxgP14Q==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/browserslist"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/caniuse-lite"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "CC-BY-4.0"
    },
    "node_modules/ccount": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/ccount/-/ccount-2.0.1.tgz",
      "integrity": "sha512-eyrF0jiFpY+3drT6383f1qhkbGsLSifNAjA61IUjZjmLCWjItY6LB9ft9YhoDgwfmclB2zhu51Lc7+95b8NRAg==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/chalk": {
      "version": "4.1.2",
      "resolved": "https://registry.npmjs.org/chalk/-/chalk-4.1.2.tgz",
      "integrity": "sha512-oKnbhFyRIXpUuez8iBMmyEa4nbj4IOQyuhc/wy9kY7/WVPcwIO9VA668Pu8RkO7+0G76SLROeyw9CpQ061i4mA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ansi-styles": "^4.1.0",
        "supports-color": "^7.1.0"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/chalk/chalk?sponsor=1"
      }
    },
    "node_modules/character-entities": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/character-entities/-/character-entities-2.0.2.tgz",
      "integrity": "sha512-shx7oQ0Awen/BRIdkjkvz54PnEEI/EjwXDSIZp86/KKdbafHh1Df/RYGBhn4hbe2+uKC9FnT5UCEdyPz3ai9hQ==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/character-entities-html4": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/character-entities-html4/-/character-entities-html4-2.1.0.tgz",
      "integrity": "sha512-1v7fgQRj6hnSwFpq1Eu0ynr/CDEw0rXo2B61qXrLNdHZmPKgb7fqS1a2JwF0rISo9q77jDI8VMEHoApn8qDoZA==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/character-entities-legacy": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/character-entities-legacy/-/character-entities-legacy-3.0.0.tgz",
      "integrity": "sha512-RpPp0asT/6ufRm//AJVwpViZbGM/MkjQFxJccQRHmISF/22NBtsHqAWmL+/pmkPWoIUJdWyeVleTl1wydHATVQ==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/character-reference-invalid": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/character-reference-invalid/-/character-reference-invalid-2.0.1.tgz",
      "integrity": "sha512-iBZ4F4wRbyORVsu0jPV7gXkOsGYjGHPmAyv+HiHG8gi5PtC9KI2j1+v8/tlibRvjoWX027ypmG/n0HtO5t7unw==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/chart.js": {
      "version": "4.5.1",
      "resolved": "https://registry.npmjs.org/chart.js/-/chart.js-4.5.1.tgz",
      "integrity": "sha512-GIjfiT9dbmHRiYi6Nl2yFCq7kkwdkp1W/lp2J99rX0yo9tgJGn3lKQATztIjb5tVtevcBtIdICNWqlq5+E8/Pw==",
      "license": "MIT",
      "dependencies": {
        "@kurkle/color": "^0.3.0"
      },
      "engines": {
        "pnpm": ">=8"
      }
    },
    "node_modules/chokidar": {
      "version": "3.6.0",
      "resolved": "https://registry.npmjs.org/chokidar/-/chokidar-3.6.0.tgz",
      "integrity": "sha512-7VT13fmjotKpGipCW9JEQAusEPE+Ei8nl6/g4FBAmIm0GOOLMua9NDDo/DWp0ZAxCr3cPq5ZpBqmPAQgDda2Pw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "anymatch": "~3.1.2",
        "braces": "~3.0.2",
        "glob-parent": "~5.1.2",
        "is-binary-path": "~2.1.0",
        "is-glob": "~4.0.1",
        "normalize-path": "~3.0.0",
        "readdirp": "~3.6.0"
      },
      "engines": {
        "node": ">= 8.10.0"
      },
      "funding": {
        "url": "https://paulmillr.com/funding/"
      },
      "optionalDependencies": {
        "fsevents": "~2.3.2"
      }
    },
    "node_modules/chokidar/node_modules/glob-parent": {
      "version": "5.1.2",
      "resolved": "https://registry.npmjs.org/glob-parent/-/glob-parent-5.1.2.tgz",
      "integrity": "sha512-AOIgSQCepiJYwP3ARnGx+5VnTu2HBYdzbGP45eLw1vr3zB3vZLeyed1sC9hnbcOc9/SrMyM5RPQrkGz4aS9Zow==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "is-glob": "^4.0.1"
      },
      "engines": {
        "node": ">= 6"
      }
    },
    "node_modules/class-variance-authority": {
      "version": "0.7.1",
      "resolved": "https://registry.npmjs.org/class-variance-authority/-/class-variance-authority-0.7.1.tgz",
      "integrity": "sha512-Ka+9Trutv7G8M6WT6SeiRWz792K5qEqIGEGzXKhAE6xOWAY6pPH8U+9IY3oCMv6kqTmLsv7Xh/2w2RigkePMsg==",
      "dependencies": {
        "clsx": "^2.1.1"
      },
      "funding": {
        "url": "https://polar.sh/cva"
      }
    },
    "node_modules/clsx": {
      "version": "2.1.1",
      "resolved": "https://registry.npmjs.org/clsx/-/clsx-2.1.1.tgz",
      "integrity": "sha512-eYm0QWBtUrBWZWG0d386OGAw16Z995PiOVo2B7bjWSbHedGl5e0ZWaq65kOGgUSNesEIDkB9ISbTg/JK9dhCZA==",
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/cmdk": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/cmdk/-/cmdk-1.1.1.tgz",
      "integrity": "sha512-Vsv7kFaXm+ptHDMZ7izaRsP70GgrW9NBNGswt9OZaVBLlE0SNpDq8eu/VGXyF9r7M0azK3Wy7OlYXsuyYLFzHg==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/react-compose-refs": "^1.1.1",
        "@radix-ui/react-dialog": "^1.1.6",
        "@radix-ui/react-id": "^1.1.0",
        "@radix-ui/react-primitive": "^2.0.2"
      },
      "peerDependencies": {
        "react": "^18 || ^19 || ^19.0.0-rc",
        "react-dom": "^18 || ^19 || ^19.0.0-rc"
      }
    },
    "node_modules/color-convert": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/color-convert/-/color-convert-2.0.1.tgz",
      "integrity": "sha512-RRECPsj7iu/xb5oKYcsFHSppFNnsj/52OVTRKb4zP5onXwVF3zVmmToNcOfGC+CRDpfK/U584fMg38ZHCaElKQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "color-name": "~1.1.4"
      },
      "engines": {
        "node": ">=7.0.0"
      }
    },
    "node_modules/color-name": {
      "version": "1.1.4",
      "resolved": "https://registry.npmjs.org/color-name/-/color-name-1.1.4.tgz",
      "integrity": "sha512-dOy+3AuW3a2wNbZHIuMZpTcgjGuLU/uBL/ubcZF9OXbDo8ff4O8yVp5Bf0efS8uEoYo5q4Fx7dY9OgQGXgAsQA==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/combined-stream": {
      "version": "1.0.8",
      "resolved": "https://registry.npmjs.org/combined-stream/-/combined-stream-1.0.8.tgz",
      "integrity": "sha512-FQN4MRfuJeHf7cBbBMJFXhKSDq+2kAArBlmRBvcvFE5BB1HZKXtSFASDhdlz9zOYwxh8lDdnvmMOe/+5cdoEdg==",
      "license": "MIT",
      "dependencies": {
        "delayed-stream": "~1.0.0"
      },
      "engines": {
        "node": ">= 0.8"
      }
    },
    "node_modules/comma-separated-tokens": {
      "version": "2.0.3",
      "resolved": "https://registry.npmjs.org/comma-separated-tokens/-/comma-separated-tokens-2.0.3.tgz",
      "integrity": "sha512-Fu4hJdvzeylCfQPp9SGWidpzrMs7tTrlu6Vb8XGaRGck8QSNZJJp538Wrb60Lax4fPwR64ViY468OIUTbRlGZg==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/commander": {
      "version": "4.1.1",
      "resolved": "https://registry.npmjs.org/commander/-/commander-4.1.1.tgz",
      "integrity": "sha512-NOKm8xhkzAjzFx8B2v5OAHT+u5pRQc2UCa2Vq9jYL/31o2wi9mxBA7LIFs3sV5VSC49z6pEhfbMULvShKj26WA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 6"
      }
    },
    "node_modules/concat-map": {
      "version": "0.0.1",
      "resolved": "https://registry.npmjs.org/concat-map/-/concat-map-0.0.1.tgz",
      "integrity": "sha512-/Srv4dswyQNBfohGpz9o6Yb3Gz3SrUDqBH5rTuhGR7ahtlbYKnVxw2bCFMRljaA7EXHaXZ8wsHdodFvbkhKmqg==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/cross-spawn": {
      "version": "7.0.6",
      "resolved": "https://registry.npmjs.org/cross-spawn/-/cross-spawn-7.0.6.tgz",
      "integrity": "sha512-uV2QOWP2nWzsy2aMp8aRibhi9dlzF5Hgh5SHaB9OiTGEyDTiJJyx0uy51QXdyWbtAHNua4XJzUKca3OzKUd3vA==",
      "dev": true,
      "dependencies": {
        "path-key": "^3.1.0",
        "shebang-command": "^2.0.0",
        "which": "^2.0.1"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/cssesc": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/cssesc/-/cssesc-3.0.0.tgz",
      "integrity": "sha512-/Tb/JcjK111nNScGob5MNtsntNM1aCNUDipB/TkwZFhyDrrE47SOx/18wF2bbjgc3ZzCSKW1T5nt5EbFoAz/Vg==",
      "dev": true,
      "license": "MIT",
      "bin": {
        "cssesc": "bin/cssesc"
      },
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/csstype": {
      "version": "3.1.3",
      "resolved": "https://registry.npmjs.org/csstype/-/csstype-3.1.3.tgz",
      "integrity": "sha512-M1uQkMl8rQK/szD0LNhtqxIPLpimGm8sOBwU7lLnCpSbTyY3yeU1Vc7l4KT5zT4s/yOxHH5O7tIuuLOCnLADRw==",
      "license": "MIT"
    },
    "node_modules/d3-array": {
      "version": "3.2.4",
      "resolved": "https://registry.npmjs.org/d3-array/-/d3-array-3.2.4.tgz",
      "integrity": "sha512-tdQAmyA18i4J7wprpYq8ClcxZy3SC31QMeByyCFyRt7BVHdREQZ5lpzoe5mFEYZUWe+oq8HBvk9JjpibyEV4Jg==",
      "license": "ISC",
      "dependencies": {
        "internmap": "1 - 2"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-cloud": {
      "version": "1.2.7",
      "resolved": "https://registry.npmjs.org/d3-cloud/-/d3-cloud-1.2.7.tgz",
      "integrity": "sha512-8TrgcgwRIpoZYQp7s3fGB7tATWfhckRb8KcVd1bOgqkNdkJRDGWfdSf4HkHHzZxSczwQJdSxvfPudwir5IAJ3w==",
      "license": "BSD-3-Clause",
      "dependencies": {
        "d3-dispatch": "^1.0.3"
      }
    },
    "node_modules/d3-color": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/d3-color/-/d3-color-3.1.0.tgz",
      "integrity": "sha512-zg/chbXyeBtMQ1LbD/WSoW2DpC3I0mpmPdW+ynRTj/x2DAWYrIY7qeZIHidozwV24m4iavr15lNwIwLxRmOxhA==",
      "license": "ISC",
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-dispatch": {
      "version": "1.0.6",
      "resolved": "https://registry.npmjs.org/d3-dispatch/-/d3-dispatch-1.0.6.tgz",
      "integrity": "sha512-fVjoElzjhCEy+Hbn8KygnmMS7Or0a9sI2UzGwoB7cCtvI1XpVN9GpoYlnb3xt2YV66oXYb1fLJ8GMvP4hdU1RA==",
      "license": "BSD-3-Clause"
    },
    "node_modules/d3-ease": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/d3-ease/-/d3-ease-3.0.1.tgz",
      "integrity": "sha512-wR/XK3D3XcLIZwpbvQwQ5fK+8Ykds1ip7A2Txe0yxncXSdq1L9skcG7blcedkOX+ZcgxGAmLX1FrRGbADwzi0w==",
      "license": "BSD-3-Clause",
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-format": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/d3-format/-/d3-format-3.1.0.tgz",
      "integrity": "sha512-YyUI6AEuY/Wpt8KWLgZHsIU86atmikuoOmCfommt0LYHiQSPjvX2AcFc38PX0CBpr2RCyZhjex+NS/LPOv6YqA==",
      "license": "ISC",
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-interpolate": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/d3-interpolate/-/d3-interpolate-3.0.1.tgz",
      "integrity": "sha512-3bYs1rOD33uo8aqJfKP3JWPAibgw8Zm2+L9vBKEHJ2Rg+viTR7o5Mmv5mZcieN+FRYaAOWX5SJATX6k1PWz72g==",
      "license": "ISC",
      "dependencies": {
        "d3-color": "1 - 3"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-path": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/d3-path/-/d3-path-3.1.0.tgz",
      "integrity": "sha512-p3KP5HCf/bvjBSSKuXid6Zqijx7wIfNW+J/maPs+iwR35at5JCbLUT0LzF1cnjbCHWhqzQTIN2Jpe8pRebIEFQ==",
      "license": "ISC",
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-scale": {
      "version": "4.0.2",
      "resolved": "https://registry.npmjs.org/d3-scale/-/d3-scale-4.0.2.tgz",
      "integrity": "sha512-GZW464g1SH7ag3Y7hXjf8RoUuAFIqklOAq3MRl4OaWabTFJY9PN/E1YklhXLh+OQ3fM9yS2nOkCoS+WLZ6kvxQ==",
      "license": "ISC",
      "dependencies": {
        "d3-array": "2.10.0 - 3",
        "d3-format": "1 - 3",
        "d3-interpolate": "1.2.0 - 3",
        "d3-time": "2.1.1 - 3",
        "d3-time-format": "2 - 4"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-scale-chromatic": {
      "version": "1.5.0",
      "resolved": "https://registry.npmjs.org/d3-scale-chromatic/-/d3-scale-chromatic-1.5.0.tgz",
      "integrity": "sha512-ACcL46DYImpRFMBcpk9HhtIyC7bTBR4fNOPxwVSl0LfulDAwyiHyPOTqcDG1+t5d4P9W7t/2NAuWu59aKko/cg==",
      "license": "BSD-3-Clause",
      "dependencies": {
        "d3-color": "1",
        "d3-interpolate": "1"
      }
    },
    "node_modules/d3-scale-chromatic/node_modules/d3-color": {
      "version": "1.4.1",
      "resolved": "https://registry.npmjs.org/d3-color/-/d3-color-1.4.1.tgz",
      "integrity": "sha512-p2sTHSLCJI2QKunbGb7ocOh7DgTAn8IrLx21QRc/BSnodXM4sv6aLQlnfpvehFMLZEfBc6g9pH9SWQccFYfJ9Q==",
      "license": "BSD-3-Clause"
    },
    "node_modules/d3-scale-chromatic/node_modules/d3-interpolate": {
      "version": "1.4.0",
      "resolved": "https://registry.npmjs.org/d3-interpolate/-/d3-interpolate-1.4.0.tgz",
      "integrity": "sha512-V9znK0zc3jOPV4VD2zZn0sDhZU3WAE2bmlxdIwwQPPzPjvyLkd8B3JUVdS1IDUFDkWZ72c9qnv1GK2ZagTZ8EA==",
      "license": "BSD-3-Clause",
      "dependencies": {
        "d3-color": "1"
      }
    },
    "node_modules/d3-selection": {
      "version": "1.4.2",
      "resolved": "https://registry.npmjs.org/d3-selection/-/d3-selection-1.4.2.tgz",
      "integrity": "sha512-SJ0BqYihzOjDnnlfyeHT0e30k0K1+5sR3d5fNueCNeuhZTnGw4M4o8mqJchSwgKMXCNFo+e2VTChiSJ0vYtXkg==",
      "license": "BSD-3-Clause"
    },
    "node_modules/d3-shape": {
      "version": "3.2.0",
      "resolved": "https://registry.npmjs.org/d3-shape/-/d3-shape-3.2.0.tgz",
      "integrity": "sha512-SaLBuwGm3MOViRq2ABk3eLoxwZELpH6zhl3FbAoJ7Vm1gofKx6El1Ib5z23NUEhF9AsGl7y+dzLe5Cw2AArGTA==",
      "license": "ISC",
      "dependencies": {
        "d3-path": "^3.1.0"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-time": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/d3-time/-/d3-time-3.1.0.tgz",
      "integrity": "sha512-VqKjzBLejbSMT4IgbmVgDjpkYrNWUYJnbCGo874u7MMKIWsILRX+OpX/gTk8MqjpT1A/c6HY2dCA77ZN0lkQ2Q==",
      "license": "ISC",
      "dependencies": {
        "d3-array": "2 - 3"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-time-format": {
      "version": "4.1.0",
      "resolved": "https://registry.npmjs.org/d3-time-format/-/d3-time-format-4.1.0.tgz",
      "integrity": "sha512-dJxPBlzC7NugB2PDLwo9Q8JiTR3M3e4/XANkreKSUxF8vvXKqm1Yfq4Q5dl8budlunRVlUUaDUgFt7eA8D6NLg==",
      "license": "ISC",
      "dependencies": {
        "d3-time": "1 - 3"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-timer": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/d3-timer/-/d3-timer-3.0.1.tgz",
      "integrity": "sha512-ndfJ/JxxMd3nw31uyKoY2naivF+r29V+Lc0svZxe1JvvIRmi8hUsrMvdOwgS1o6uBHmiz91geQ0ylPP0aj1VUA==",
      "license": "ISC",
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-transition": {
      "version": "1.3.2",
      "resolved": "https://registry.npmjs.org/d3-transition/-/d3-transition-1.3.2.tgz",
      "integrity": "sha512-sc0gRU4PFqZ47lPVHloMn9tlPcv8jxgOQg+0zjhfZXMQuvppjG6YuwdMBE0TuqCZjeJkLecku/l9R0JPcRhaDA==",
      "license": "BSD-3-Clause",
      "dependencies": {
        "d3-color": "1",
        "d3-dispatch": "1",
        "d3-ease": "1",
        "d3-interpolate": "1",
        "d3-selection": "^1.1.0",
        "d3-timer": "1"
      }
    },
    "node_modules/d3-transition/node_modules/d3-color": {
      "version": "1.4.1",
      "resolved": "https://registry.npmjs.org/d3-color/-/d3-color-1.4.1.tgz",
      "integrity": "sha512-p2sTHSLCJI2QKunbGb7ocOh7DgTAn8IrLx21QRc/BSnodXM4sv6aLQlnfpvehFMLZEfBc6g9pH9SWQccFYfJ9Q==",
      "license": "BSD-3-Clause"
    },
    "node_modules/d3-transition/node_modules/d3-ease": {
      "version": "1.0.7",
      "resolved": "https://registry.npmjs.org/d3-ease/-/d3-ease-1.0.7.tgz",
      "integrity": "sha512-lx14ZPYkhNx0s/2HX5sLFUI3mbasHjSSpwO/KaaNACweVwxUruKyWVcb293wMv1RqTPZyZ8kSZ2NogUZNcLOFQ==",
      "license": "BSD-3-Clause"
    },
    "node_modules/d3-transition/node_modules/d3-interpolate": {
      "version": "1.4.0",
      "resolved": "https://registry.npmjs.org/d3-interpolate/-/d3-interpolate-1.4.0.tgz",
      "integrity": "sha512-V9znK0zc3jOPV4VD2zZn0sDhZU3WAE2bmlxdIwwQPPzPjvyLkd8B3JUVdS1IDUFDkWZ72c9qnv1GK2ZagTZ8EA==",
      "license": "BSD-3-Clause",
      "dependencies": {
        "d3-color": "1"
      }
    },
    "node_modules/d3-transition/node_modules/d3-timer": {
      "version": "1.0.10",
      "resolved": "https://registry.npmjs.org/d3-timer/-/d3-timer-1.0.10.tgz",
      "integrity": "sha512-B1JDm0XDaQC+uvo4DT79H0XmBskgS3l6Ve+1SBCfxgmtIb1AVrPIoqd+nPSv+loMX8szQ0sVUhGngL7D5QPiXw==",
      "license": "BSD-3-Clause"
    },
    "node_modules/date-fns": {
      "version": "3.6.0",
      "resolved": "https://registry.npmjs.org/date-fns/-/date-fns-3.6.0.tgz",
      "integrity": "sha512-fRHTG8g/Gif+kSh50gaGEdToemgfj74aRX3swtiouboip5JDLAyDE9F11nHMIcvOaXeOC6D7SpNhi7uFyB7Uww==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/kossnocorp"
      }
    },
    "node_modules/debug": {
      "version": "4.3.7",
      "resolved": "https://registry.npmjs.org/debug/-/debug-4.3.7.tgz",
      "integrity": "sha512-Er2nc/H7RrMXZBFCEim6TCmMk02Z8vLC2Rbi1KEBggpo0fS6l0S1nnapwmIi3yW/+GOJap1Krg4w0Hg80oCqgQ==",
      "license": "MIT",
      "dependencies": {
        "ms": "^2.1.3"
      },
      "engines": {
        "node": ">=6.0"
      },
      "peerDependenciesMeta": {
        "supports-color": {
          "optional": true
        }
      }
    },
    "node_modules/decimal.js-light": {
      "version": "2.5.1",
      "resolved": "https://registry.npmjs.org/decimal.js-light/-/decimal.js-light-2.5.1.tgz",
      "integrity": "sha512-qIMFpTMZmny+MMIitAB6D7iVPEorVw6YQRWkvarTkT4tBeSLLiHzcwj6q0MmYSFCiVpiqPJTJEYIrpcPzVEIvg==",
      "license": "MIT"
    },
    "node_modules/decode-named-character-reference": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/decode-named-character-reference/-/decode-named-character-reference-1.2.0.tgz",
      "integrity": "sha512-c6fcElNV6ShtZXmsgNgFFV5tVX2PaV4g+MOAkb8eXHvn6sryJBrZa9r0zV6+dtTyoCKxtDy5tyQ5ZwQuidtd+Q==",
      "license": "MIT",
      "dependencies": {
        "character-entities": "^2.0.0"
      },
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/deep-is": {
      "version": "0.1.4",
      "resolved": "https://registry.npmjs.org/deep-is/-/deep-is-0.1.4.tgz",
      "integrity": "sha512-oIPzksmTg4/MriiaYGO+okXDT7ztn/w3Eptv/+gSIdMdKsJo0u4CfYNFJPy+4SKMuCqGw2wxnA+URMg3t8a/bQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/delayed-stream": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/delayed-stream/-/delayed-stream-1.0.0.tgz",
      "integrity": "sha512-ZySD7Nf91aLB0RxL4KGrKHBXl7Eds1DAmEdcoVawXnLD7SDhpNgtuII2aAkg7a7QS41jxPSZ17p4VdGnMHk3MQ==",
      "license": "MIT",
      "engines": {
        "node": ">=0.4.0"
      }
    },
    "node_modules/dequal": {
      "version": "2.0.3",
      "resolved": "https://registry.npmjs.org/dequal/-/dequal-2.0.3.tgz",
      "integrity": "sha512-0je+qPKHEMohvfRTCEo3CrPG6cAzAYgmzKyxRiYSSDkS6eGJdyVJm7WaYA5ECaAD9wLB2T4EEeymA5aFVcYXCA==",
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/detect-node-es": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/detect-node-es/-/detect-node-es-1.1.0.tgz",
      "integrity": "sha512-ypdmJU/TbBby2Dxibuv7ZLW3Bs1QEmM7nHjEANfohJLvE0XVujisn1qPJcZxg+qDucsr+bP6fLD1rPS3AhJ7EQ==",
      "license": "MIT"
    },
    "node_modules/devlop": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/devlop/-/devlop-1.1.0.tgz",
      "integrity": "sha512-RWmIqhcFf1lRYBvNmr7qTNuyCt/7/ns2jbpp1+PalgE/rDQcBT0fioSMUpJ93irlUhC5hrg4cYqe6U+0ImW0rA==",
      "license": "MIT",
      "dependencies": {
        "dequal": "^2.0.0"
      },
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/didyoumean": {
      "version": "1.2.2",
      "resolved": "https://registry.npmjs.org/didyoumean/-/didyoumean-1.2.2.tgz",
      "integrity": "sha512-gxtyfqMg7GKyhQmb056K7M3xszy/myH8w+B4RT+QXBQsvAOdc3XymqDDPHx1BgPgsdAA5SIifona89YtRATDzw==",
      "dev": true,
      "license": "Apache-2.0"
    },
    "node_modules/dlv": {
      "version": "1.1.3",
      "resolved": "https://registry.npmjs.org/dlv/-/dlv-1.1.3.tgz",
      "integrity": "sha512-+HlytyjlPKnIG8XuRG8WvmBP8xs8P71y+SKKS6ZXWoEgLuePxtDoUEiH7WkdePWrQ5JBpE6aoVqfZfJUQkjXwA==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/dom-helpers": {
      "version": "5.2.1",
      "resolved": "https://registry.npmjs.org/dom-helpers/-/dom-helpers-5.2.1.tgz",
      "integrity": "sha512-nRCa7CK3VTrM2NmGkIy4cbK7IZlgBE/PYMn55rrXefr5xXDP0LdtfPnblFDoVdcAfslJ7or6iqAUnx0CCGIWQA==",
      "license": "MIT",
      "dependencies": {
        "@babel/runtime": "^7.8.7",
        "csstype": "^3.0.2"
      }
    },
    "node_modules/dunder-proto": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/dunder-proto/-/dunder-proto-1.0.1.tgz",
      "integrity": "sha512-KIN/nDJBQRcXw0MLVhZE9iQHmG68qAVIBg9CqmUYjmQIhgij9U5MFvrqkUL5FbtyyzZuOeOt0zdeRe4UY7ct+A==",
      "license": "MIT",
      "dependencies": {
        "call-bind-apply-helpers": "^1.0.1",
        "es-errors": "^1.3.0",
        "gopd": "^1.2.0"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/eastasianwidth": {
      "version": "0.2.0",
      "resolved": "https://registry.npmjs.org/eastasianwidth/-/eastasianwidth-0.2.0.tgz",
      "integrity": "sha512-I88TYZWc9XiYHRQ4/3c5rjjfgkjhLyW2luGIheGERbNQ6OY7yTybanSpDXZa8y7VUP9YmDcYa+eyq4ca7iLqWA==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/electron-to-chromium": {
      "version": "1.5.192",
      "resolved": "https://registry.npmjs.org/electron-to-chromium/-/electron-to-chromium-1.5.192.tgz",
      "integrity": "sha512-rP8Ez0w7UNw/9j5eSXCe10o1g/8B1P5SM90PCCMVkIRQn2R0LEHWz4Eh9RnxkniuDe1W0cTSOB3MLlkTGDcuCg==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/embla-carousel": {
      "version": "8.6.0",
      "resolved": "https://registry.npmjs.org/embla-carousel/-/embla-carousel-8.6.0.tgz",
      "integrity": "sha512-SjWyZBHJPbqxHOzckOfo8lHisEaJWmwd23XppYFYVh10bU66/Pn5tkVkbkCMZVdbUE5eTCI2nD8OyIP4Z+uwkA==",
      "license": "MIT"
    },
    "node_modules/embla-carousel-react": {
      "version": "8.6.0",
      "resolved": "https://registry.npmjs.org/embla-carousel-react/-/embla-carousel-react-8.6.0.tgz",
      "integrity": "sha512-0/PjqU7geVmo6F734pmPqpyHqiM99olvyecY7zdweCw+6tKEXnrE90pBiBbMMU8s5tICemzpQ3hi5EpxzGW+JA==",
      "license": "MIT",
      "dependencies": {
        "embla-carousel": "8.6.0",
        "embla-carousel-reactive-utils": "8.6.0"
      },
      "peerDependencies": {
        "react": "^16.8.0 || ^17.0.1 || ^18.0.0 || ^19.0.0 || ^19.0.0-rc"
      }
    },
    "node_modules/embla-carousel-reactive-utils": {
      "version": "8.6.0",
      "resolved": "https://registry.npmjs.org/embla-carousel-reactive-utils/-/embla-carousel-reactive-utils-8.6.0.tgz",
      "integrity": "sha512-fMVUDUEx0/uIEDM0Mz3dHznDhfX+znCCDCeIophYb1QGVM7YThSWX+wz11zlYwWFOr74b4QLGg0hrGPJeG2s4A==",
      "license": "MIT",
      "peerDependencies": {
        "embla-carousel": "8.6.0"
      }
    },
    "node_modules/emoji-regex": {
      "version": "9.2.2",
      "resolved": "https://registry.npmjs.org/emoji-regex/-/emoji-regex-9.2.2.tgz",
      "integrity": "sha512-L18DaJsXSUk2+42pv8mLs5jJT2hqFkFE4j21wOmgbUqsZ2hL72NsUU785g9RXgo3s0ZNgVl42TiHp3ZtOv/Vyg==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/es-define-property": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/es-define-property/-/es-define-property-1.0.1.tgz",
      "integrity": "sha512-e3nRfgfUZ4rNGL232gUgX06QNyyez04KdjFrF+LTRoOXmrOgFKDg4BCdsjW8EnT69eqdYGmRpJwiPVYNrCaW3g==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/es-errors": {
      "version": "1.3.0",
      "resolved": "https://registry.npmjs.org/es-errors/-/es-errors-1.3.0.tgz",
      "integrity": "sha512-Zf5H2Kxt2xjTvbJvP2ZWLEICxA6j+hAmMzIlypy4xcBg1vKVnx89Wy0GbS+kf5cwCVFFzdCFh2XSCFNULS6csw==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/es-object-atoms": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/es-object-atoms/-/es-object-atoms-1.1.1.tgz",
      "integrity": "sha512-FGgH2h8zKNim9ljj7dankFPcICIK9Cp5bm+c2gQSYePhpaG5+esrLODihIorn+Pe6FGJzWhXQotPv73jTaldXA==",
      "license": "MIT",
      "dependencies": {
        "es-errors": "^1.3.0"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/es-set-tostringtag": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/es-set-tostringtag/-/es-set-tostringtag-2.1.0.tgz",
      "integrity": "sha512-j6vWzfrGVfyXxge+O0x5sh6cvxAog0a/4Rdd2K36zCMV5eJ+/+tOAngRO8cODMNWbVRdVlmGZQL2YS3yR8bIUA==",
      "license": "MIT",
      "dependencies": {
        "es-errors": "^1.3.0",
        "get-intrinsic": "^1.2.6",
        "has-tostringtag": "^1.0.2",
        "hasown": "^2.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/esbuild": {
      "version": "0.21.5",
      "resolved": "https://registry.npmjs.org/esbuild/-/esbuild-0.21.5.tgz",
      "integrity": "sha512-mg3OPMV4hXywwpoDxu3Qda5xCKQi+vCTZq8S9J/EpkhB2HzKXq4SNFZE3+NK93JYxc8VMSep+lOUSC/RVKaBqw==",
      "dev": true,
      "hasInstallScript": true,
      "license": "MIT",
      "bin": {
        "esbuild": "bin/esbuild"
      },
      "engines": {
        "node": ">=12"
      },
      "optionalDependencies": {
        "@esbuild/aix-ppc64": "0.21.5",
        "@esbuild/android-arm": "0.21.5",
        "@esbuild/android-arm64": "0.21.5",
        "@esbuild/android-x64": "0.21.5",
        "@esbuild/darwin-arm64": "0.21.5",
        "@esbuild/darwin-x64": "0.21.5",
        "@esbuild/freebsd-arm64": "0.21.5",
        "@esbuild/freebsd-x64": "0.21.5",
        "@esbuild/linux-arm": "0.21.5",
        "@esbuild/linux-arm64": "0.21.5",
        "@esbuild/linux-ia32": "0.21.5",
        "@esbuild/linux-loong64": "0.21.5",
        "@esbuild/linux-mips64el": "0.21.5",
        "@esbuild/linux-ppc64": "0.21.5",
        "@esbuild/linux-riscv64": "0.21.5",
        "@esbuild/linux-s390x": "0.21.5",
        "@esbuild/linux-x64": "0.21.5",
        "@esbuild/netbsd-x64": "0.21.5",
        "@esbuild/openbsd-x64": "0.21.5",
        "@esbuild/sunos-x64": "0.21.5",
        "@esbuild/win32-arm64": "0.21.5",
        "@esbuild/win32-ia32": "0.21.5",
        "@esbuild/win32-x64": "0.21.5"
      }
    },
    "node_modules/escalade": {
      "version": "3.2.0",
      "resolved": "https://registry.npmjs.org/escalade/-/escalade-3.2.0.tgz",
      "integrity": "sha512-WUj2qlxaQtO4g6Pq5c29GTcWGDyd8itL8zTlipgECz3JesAiiOKotd8JU6otB3PACgG6xkJUyVhboMS+bje/jA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/escape-string-regexp": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/escape-string-regexp/-/escape-string-regexp-4.0.0.tgz",
      "integrity": "sha512-TtpcNJ3XAzx3Gq8sWRzJaVajRs0uVxA2YAkdb1jm2YkPz4G6egUFAyA3n5vtEIZefPk5Wa4UXbKuS5fKkJWdgA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/eslint": {
      "version": "9.32.0",
      "resolved": "https://registry.npmjs.org/eslint/-/eslint-9.32.0.tgz",
      "integrity": "sha512-LSehfdpgMeWcTZkWZVIJl+tkZ2nuSkyyB9C27MZqFWXuph7DvaowgcTvKqxvpLW1JZIk8PN7hFY3Rj9LQ7m7lg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@eslint-community/eslint-utils": "^4.2.0",
        "@eslint-community/regexpp": "^4.12.1",
        "@eslint/config-array": "^0.21.0",
        "@eslint/config-helpers": "^0.3.0",
        "@eslint/core": "^0.15.0",
        "@eslint/eslintrc": "^3.3.1",
        "@eslint/js": "9.32.0",
        "@eslint/plugin-kit": "^0.3.4",
        "@humanfs/node": "^0.16.6",
        "@humanwhocodes/module-importer": "^1.0.1",
        "@humanwhocodes/retry": "^0.4.2",
        "@types/estree": "^1.0.6",
        "@types/json-schema": "^7.0.15",
        "ajv": "^6.12.4",
        "chalk": "^4.0.0",
        "cross-spawn": "^7.0.6",
        "debug": "^4.3.2",
        "escape-string-regexp": "^4.0.0",
        "eslint-scope": "^8.4.0",
        "eslint-visitor-keys": "^4.2.1",
        "espree": "^10.4.0",
        "esquery": "^1.5.0",
        "esutils": "^2.0.2",
        "fast-deep-equal": "^3.1.3",
        "file-entry-cache": "^8.0.0",
        "find-up": "^5.0.0",
        "glob-parent": "^6.0.2",
        "ignore": "^5.2.0",
        "imurmurhash": "^0.1.4",
        "is-glob": "^4.0.0",
        "json-stable-stringify-without-jsonify": "^1.0.1",
        "lodash.merge": "^4.6.2",
        "minimatch": "^3.1.2",
        "natural-compare": "^1.4.0",
        "optionator": "^0.9.3"
      },
      "bin": {
        "eslint": "bin/eslint.js"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "url": "https://eslint.org/donate"
      },
      "peerDependencies": {
        "jiti": "*"
      },
      "peerDependenciesMeta": {
        "jiti": {
          "optional": true
        }
      }
    },
    "node_modules/eslint-plugin-react-hooks": {
      "version": "5.2.0",
      "resolved": "https://registry.npmjs.org/eslint-plugin-react-hooks/-/eslint-plugin-react-hooks-5.2.0.tgz",
      "integrity": "sha512-+f15FfK64YQwZdJNELETdn5ibXEUQmW1DZL6KXhNnc2heoy/sg9VJJeT7n8TlMWouzWqSWavFkIhHyIbIAEapg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=10"
      },
      "peerDependencies": {
        "eslint": "^3.0.0 || ^4.0.0 || ^5.0.0 || ^6.0.0 || ^7.0.0 || ^8.0.0-0 || ^9.0.0"
      }
    },
    "node_modules/eslint-plugin-react-refresh": {
      "version": "0.4.20",
      "resolved": "https://registry.npmjs.org/eslint-plugin-react-refresh/-/eslint-plugin-react-refresh-0.4.20.tgz",
      "integrity": "sha512-XpbHQ2q5gUF8BGOX4dHe+71qoirYMhApEPZ7sfhF/dNnOF1UXnCMGZf79SFTBO7Bz5YEIT4TMieSlJBWhP9WBA==",
      "dev": true,
      "license": "MIT",
      "peerDependencies": {
        "eslint": ">=8.40"
      }
    },
    "node_modules/eslint-scope": {
      "version": "8.4.0",
      "resolved": "https://registry.npmjs.org/eslint-scope/-/eslint-scope-8.4.0.tgz",
      "integrity": "sha512-sNXOfKCn74rt8RICKMvJS7XKV/Xk9kA7DyJr8mJik3S7Cwgy3qlkkmyS2uQB3jiJg6VNdZd/pDBJu0nvG2NlTg==",
      "dev": true,
      "license": "BSD-2-Clause",
      "dependencies": {
        "esrecurse": "^4.3.0",
        "estraverse": "^5.2.0"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "url": "https://opencollective.com/eslint"
      }
    },
    "node_modules/eslint-visitor-keys": {
      "version": "4.2.1",
      "resolved": "https://registry.npmjs.org/eslint-visitor-keys/-/eslint-visitor-keys-4.2.1.tgz",
      "integrity": "sha512-Uhdk5sfqcee/9H/rCOJikYz67o0a2Tw2hGRPOG2Y1R2dg7brRe1uG0yaNQDHu+TO/uQPF/5eCapvYSmHUjt7JQ==",
      "dev": true,
      "license": "Apache-2.0",
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "url": "https://opencollective.com/eslint"
      }
    },
    "node_modules/espree": {
      "version": "10.4.0",
      "resolved": "https://registry.npmjs.org/espree/-/espree-10.4.0.tgz",
      "integrity": "sha512-j6PAQ2uUr79PZhBjP5C5fhl8e39FmRnOjsD5lGnWrFU8i2G776tBK7+nP8KuQUTTyAZUwfQqXAgrVH5MbH9CYQ==",
      "dev": true,
      "license": "BSD-2-Clause",
      "dependencies": {
        "acorn": "^8.15.0",
        "acorn-jsx": "^5.3.2",
        "eslint-visitor-keys": "^4.2.1"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "url": "https://opencollective.com/eslint"
      }
    },
    "node_modules/esquery": {
      "version": "1.6.0",
      "resolved": "https://registry.npmjs.org/esquery/-/esquery-1.6.0.tgz",
      "integrity": "sha512-ca9pw9fomFcKPvFLXhBKUK90ZvGibiGOvRJNbjljY7s7uq/5YO4BOzcYtJqExdx99rF6aAcnRxHmcUHcz6sQsg==",
      "dev": true,
      "license": "BSD-3-Clause",
      "dependencies": {
        "estraverse": "^5.1.0"
      },
      "engines": {
        "node": ">=0.10"
      }
    },
    "node_modules/esrecurse": {
      "version": "4.3.0",
      "resolved": "https://registry.npmjs.org/esrecurse/-/esrecurse-4.3.0.tgz",
      "integrity": "sha512-KmfKL3b6G+RXvP8N1vr3Tq1kL/oCFgn2NYXEtqP8/L3pKapUA4G8cFVaoF3SU323CD4XypR/ffioHmkti6/Tag==",
      "dev": true,
      "license": "BSD-2-Clause",
      "dependencies": {
        "estraverse": "^5.2.0"
      },
      "engines": {
        "node": ">=4.0"
      }
    },
    "node_modules/estraverse": {
      "version": "5.3.0",
      "resolved": "https://registry.npmjs.org/estraverse/-/estraverse-5.3.0.tgz",
      "integrity": "sha512-MMdARuVEQziNTeJD8DgMqmhwR11BRQ/cBP+pLtYdSTnf3MIO8fFeiINEbX36ZdNlfU/7A9f3gUw49B3oQsvwBA==",
      "dev": true,
      "license": "BSD-2-Clause",
      "engines": {
        "node": ">=4.0"
      }
    },
    "node_modules/estree-util-is-identifier-name": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/estree-util-is-identifier-name/-/estree-util-is-identifier-name-3.0.0.tgz",
      "integrity": "sha512-hFtqIDZTIUZ9BXLb8y4pYGyk6+wekIivNVTcmvk8NoOh+VeRn5y6cEHzbURrWbfp1fIqdVipilzj+lfaadNZmg==",
      "license": "MIT",
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/esutils": {
      "version": "2.0.3",
      "resolved": "https://registry.npmjs.org/esutils/-/esutils-2.0.3.tgz",
      "integrity": "sha512-kVscqXk4OCp68SZ0dkgEKVi6/8ij300KBWTJq32P/dYeWTSwK41WyTxalN1eRmA5Z9UU/LX9D7FWSmV9SAYx6g==",
      "dev": true,
      "license": "BSD-2-Clause",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/eventemitter3": {
      "version": "4.0.7",
      "resolved": "https://registry.npmjs.org/eventemitter3/-/eventemitter3-4.0.7.tgz",
      "integrity": "sha512-8guHBZCwKnFhYdHr2ysuRWErTwhoN2X8XELRlrRwpmfeY2jjuUN4taQMsULKUVo1K4DvZl+0pgfyoysHxvmvEw==",
      "license": "MIT"
    },
    "node_modules/extend": {
      "version": "3.0.2",
      "resolved": "https://registry.npmjs.org/extend/-/extend-3.0.2.tgz",
      "integrity": "sha512-fjquC59cD7CyW6urNXK0FBufkZcoiGG80wTuPujX590cB5Ttln20E2UB4S/WARVqhXffZl2LNgS+gQdPIIim/g==",
      "license": "MIT"
    },
    "node_modules/fast-deep-equal": {
      "version": "3.1.3",
      "resolved": "https://registry.npmjs.org/fast-deep-equal/-/fast-deep-equal-3.1.3.tgz",
      "integrity": "sha512-f3qQ9oQy9j2AhBe/H9VC91wLmKBCCU/gDOnKNAYG5hswO7BLKj09Hc5HYNz9cGI++xlpDCIgDaitVs03ATR84Q==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/fast-equals": {
      "version": "5.2.2",
      "resolved": "https://registry.npmjs.org/fast-equals/-/fast-equals-5.2.2.tgz",
      "integrity": "sha512-V7/RktU11J3I36Nwq2JnZEM7tNm17eBJz+u25qdxBZeCKiX6BkVSZQjwWIr+IobgnZy+ag73tTZgZi7tr0LrBw==",
      "license": "MIT",
      "engines": {
        "node": ">=6.0.0"
      }
    },
    "node_modules/fast-glob": {
      "version": "3.3.2",
      "resolved": "https://registry.npmjs.org/fast-glob/-/fast-glob-3.3.2.tgz",
      "integrity": "sha512-oX2ruAFQwf/Orj8m737Y5adxDQO0LAB7/S5MnxCdTNDd4p6BsyIVsv9JQsATbTSq8KHRpLwIHbVlUNatxd+1Ow==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@nodelib/fs.stat": "^2.0.2",
        "@nodelib/fs.walk": "^1.2.3",
        "glob-parent": "^5.1.2",
        "merge2": "^1.3.0",
        "micromatch": "^4.0.4"
      },
      "engines": {
        "node": ">=8.6.0"
      }
    },
    "node_modules/fast-glob/node_modules/glob-parent": {
      "version": "5.1.2",
      "resolved": "https://registry.npmjs.org/glob-parent/-/glob-parent-5.1.2.tgz",
      "integrity": "sha512-AOIgSQCepiJYwP3ARnGx+5VnTu2HBYdzbGP45eLw1vr3zB3vZLeyed1sC9hnbcOc9/SrMyM5RPQrkGz4aS9Zow==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "is-glob": "^4.0.1"
      },
      "engines": {
        "node": ">= 6"
      }
    },
    "node_modules/fast-json-stable-stringify": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/fast-json-stable-stringify/-/fast-json-stable-stringify-2.1.0.tgz",
      "integrity": "sha512-lhd/wF+Lk98HZoTCtlVraHtfh5XYijIjalXck7saUtuanSDyLMxnHhSXEDJqHxD7msR8D0uCmqlkwjCV8xvwHw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/fast-levenshtein": {
      "version": "2.0.6",
      "resolved": "https://registry.npmjs.org/fast-levenshtein/-/fast-levenshtein-2.0.6.tgz",
      "integrity": "sha512-DCXu6Ifhqcks7TZKY3Hxp3y6qphY5SJZmrWMDrKcERSOXWQdMhU9Ig/PYrzyw/ul9jOIyh0N4M0tbC5hodg8dw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/fastq": {
      "version": "1.17.1",
      "resolved": "https://registry.npmjs.org/fastq/-/fastq-1.17.1.tgz",
      "integrity": "sha512-sRVD3lWVIXWg6By68ZN7vho9a1pQcN/WBFaAAsDDFzlJjvoGx0P8z7V1t72grFJfJhu3YPZBuu25f7Kaw2jN1w==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "reusify": "^1.0.4"
      }
    },
    "node_modules/file-entry-cache": {
      "version": "8.0.0",
      "resolved": "https://registry.npmjs.org/file-entry-cache/-/file-entry-cache-8.0.0.tgz",
      "integrity": "sha512-XXTUwCvisa5oacNGRP9SfNtYBNAMi+RPwBFmblZEF7N7swHYQS6/Zfk7SRwx4D5j3CH211YNRco1DEMNVfZCnQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "flat-cache": "^4.0.0"
      },
      "engines": {
        "node": ">=16.0.0"
      }
    },
    "node_modules/fill-range": {
      "version": "7.1.1",
      "resolved": "https://registry.npmjs.org/fill-range/-/fill-range-7.1.1.tgz",
      "integrity": "sha512-YsGpe3WHLK8ZYi4tWDg2Jy3ebRz2rXowDxnld4bkQB00cc/1Zw9AWnC0i9ztDJitivtQvaI9KaLyKrc+hBW0yg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "to-regex-range": "^5.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/find-up": {
      "version": "5.0.0",
      "resolved": "https://registry.npmjs.org/find-up/-/find-up-5.0.0.tgz",
      "integrity": "sha512-78/PXT1wlLLDgTzDs7sjq9hzz0vXD+zn+7wypEe4fXQxCmdmqfGsEPQxmiCSQI3ajFV91bVSsvNtrJRiW6nGng==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "locate-path": "^6.0.0",
        "path-exists": "^4.0.0"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/flat-cache": {
      "version": "4.0.1",
      "resolved": "https://registry.npmjs.org/flat-cache/-/flat-cache-4.0.1.tgz",
      "integrity": "sha512-f7ccFPK3SXFHpx15UIGyRJ/FJQctuKZ0zVuN3frBo4HnK3cay9VEW0R6yPYFHC0AgqhukPzKjq22t5DmAyqGyw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "flatted": "^3.2.9",
        "keyv": "^4.5.4"
      },
      "engines": {
        "node": ">=16"
      }
    },
    "node_modules/flatted": {
      "version": "3.3.1",
      "resolved": "https://registry.npmjs.org/flatted/-/flatted-3.3.1.tgz",
      "integrity": "sha512-X8cqMLLie7KsNUDSdzeN8FYK9rEt4Dt67OsG/DNGnYTSDBG4uFAJFBnUeiV+zCVAvwFy56IjM9sH51jVaEhNxw==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/follow-redirects": {
      "version": "1.15.11",
      "resolved": "https://registry.npmjs.org/follow-redirects/-/follow-redirects-1.15.11.tgz",
      "integrity": "sha512-deG2P0JfjrTxl50XGCDyfI97ZGVCxIpfKYmfyrQ54n5FO/0gfIES8C/Psl6kWVDolizcaaxZJnTS0QSMxvnsBQ==",
      "funding": [
        {
          "type": "individual",
          "url": "https://github.com/sponsors/RubenVerborgh"
        }
      ],
      "license": "MIT",
      "engines": {
        "node": ">=4.0"
      },
      "peerDependenciesMeta": {
        "debug": {
          "optional": true
        }
      }
    },
    "node_modules/foreground-child": {
      "version": "3.3.0",
      "resolved": "https://registry.npmjs.org/foreground-child/-/foreground-child-3.3.0.tgz",
      "integrity": "sha512-Ld2g8rrAyMYFXBhEqMz8ZAHBi4J4uS1i/CxGMDnjyFWddMXLVcDp051DZfu+t7+ab7Wv6SMqpWmyFIj5UbfFvg==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "cross-spawn": "^7.0.0",
        "signal-exit": "^4.0.1"
      },
      "engines": {
        "node": ">=14"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/form-data": {
      "version": "4.0.4",
      "resolved": "https://registry.npmjs.org/form-data/-/form-data-4.0.4.tgz",
      "integrity": "sha512-KrGhL9Q4zjj0kiUt5OO4Mr/A/jlI2jDYs5eHBpYHPcBEVSiipAvn2Ko2HnPe20rmcuuvMHNdZFp+4IlGTMF0Ow==",
      "license": "MIT",
      "dependencies": {
        "asynckit": "^0.4.0",
        "combined-stream": "^1.0.8",
        "es-set-tostringtag": "^2.1.0",
        "hasown": "^2.0.2",
        "mime-types": "^2.1.12"
      },
      "engines": {
        "node": ">= 6"
      }
    },
    "node_modules/fraction.js": {
      "version": "4.3.7",
      "resolved": "https://registry.npmjs.org/fraction.js/-/fraction.js-4.3.7.tgz",
      "integrity": "sha512-ZsDfxO51wGAXREY55a7la9LScWpwv9RxIrYABrlvOFBlH/ShPnrtsXeuUIfXKKOVicNxQ+o8JTbJvjS4M89yew==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": "*"
      },
      "funding": {
        "type": "patreon",
        "url": "https://github.com/sponsors/rawify"
      }
    },
    "node_modules/fsevents": {
      "version": "2.3.3",
      "resolved": "https://registry.npmjs.org/fsevents/-/fsevents-2.3.3.tgz",
      "integrity": "sha512-5xoDfX+fL7faATnagmWPpbFtwh/R77WmMMqqHGS65C3vvB0YHrgF+B1YmZ3441tMj5n63k0212XNoJwzlhffQw==",
      "dev": true,
      "hasInstallScript": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": "^8.16.0 || ^10.6.0 || >=11.0.0"
      }
    },
    "node_modules/function-bind": {
      "version": "1.1.2",
      "resolved": "https://registry.npmjs.org/function-bind/-/function-bind-1.1.2.tgz",
      "integrity": "sha512-7XHNxH7qX9xG5mIwxkhumTox/MIRNcOgDrxWsMt2pAr23WHp6MrRlN7FBSFpCpr+oVO0F744iUgR82nJMfG2SA==",
      "license": "MIT",
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/get-intrinsic": {
      "version": "1.3.0",
      "resolved": "https://registry.npmjs.org/get-intrinsic/-/get-intrinsic-1.3.0.tgz",
      "integrity": "sha512-9fSjSaos/fRIVIp+xSJlE6lfwhES7LNtKaCBIamHsjr2na1BiABJPo0mOjjz8GJDURarmCPGqaiVg5mfjb98CQ==",
      "license": "MIT",
      "dependencies": {
        "call-bind-apply-helpers": "^1.0.2",
        "es-define-property": "^1.0.1",
        "es-errors": "^1.3.0",
        "es-object-atoms": "^1.1.1",
        "function-bind": "^1.1.2",
        "get-proto": "^1.0.1",
        "gopd": "^1.2.0",
        "has-symbols": "^1.1.0",
        "hasown": "^2.0.2",
        "math-intrinsics": "^1.1.0"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/get-nonce": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/get-nonce/-/get-nonce-1.0.1.tgz",
      "integrity": "sha512-FJhYRoDaiatfEkUK8HKlicmu/3SGFD51q3itKDGoSTysQJBnfOcxU5GxnhE1E6soB76MbT0MBtnKJuXyAx+96Q==",
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/get-proto": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/get-proto/-/get-proto-1.0.1.tgz",
      "integrity": "sha512-sTSfBjoXBp89JvIKIefqw7U2CCebsc74kiY6awiGogKtoSGbgjYE/G/+l9sF3MWFPNc9IcoOC4ODfKHfxFmp0g==",
      "license": "MIT",
      "dependencies": {
        "dunder-proto": "^1.0.1",
        "es-object-atoms": "^1.0.0"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/glob": {
      "version": "10.4.5",
      "resolved": "https://registry.npmjs.org/glob/-/glob-10.4.5.tgz",
      "integrity": "sha512-7Bv8RF0k6xjo7d4A/PxYLbUCfb6c+Vpd2/mB2yRDlew7Jb5hEXiCD9ibfO7wpk8i4sevK6DFny9h7EYbM3/sHg==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "foreground-child": "^3.1.0",
        "jackspeak": "^3.1.2",
        "minimatch": "^9.0.4",
        "minipass": "^7.1.2",
        "package-json-from-dist": "^1.0.0",
        "path-scurry": "^1.11.1"
      },
      "bin": {
        "glob": "dist/esm/bin.mjs"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/glob-parent": {
      "version": "6.0.2",
      "resolved": "https://registry.npmjs.org/glob-parent/-/glob-parent-6.0.2.tgz",
      "integrity": "sha512-XxwI8EOhVQgWp6iDL+3b0r86f4d6AX6zSU55HfB4ydCEuXLXc5FcYeOu+nnGftS4TEju/11rt4KJPTMgbfmv4A==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "is-glob": "^4.0.3"
      },
      "engines": {
        "node": ">=10.13.0"
      }
    },
    "node_modules/glob/node_modules/brace-expansion": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/brace-expansion/-/brace-expansion-2.0.2.tgz",
      "integrity": "sha512-Jt0vHyM+jmUBqojB7E1NIYadt0vI0Qxjxd2TErW94wDz+E2LAm5vKMXXwg6ZZBTHPuUlDgQHKXvjGBdfcF1ZDQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "balanced-match": "^1.0.0"
      }
    },
    "node_modules/glob/node_modules/minimatch": {
      "version": "9.0.5",
      "resolved": "https://registry.npmjs.org/minimatch/-/minimatch-9.0.5.tgz",
      "integrity": "sha512-G6T0ZX48xgozx7587koeX9Ys2NYy6Gmv//P89sEte9V9whIapMNF4idKxnW2QtCcLiTWlb/wfCabAtAFWhhBow==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "brace-expansion": "^2.0.1"
      },
      "engines": {
        "node": ">=16 || 14 >=14.17"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/globals": {
      "version": "15.15.0",
      "resolved": "https://registry.npmjs.org/globals/-/globals-15.15.0.tgz",
      "integrity": "sha512-7ACyT3wmyp3I61S4fG682L0VA2RGD9otkqGJIwNUMF1SWUombIIk+af1unuDYgMm082aHYwD+mzJvv9Iu8dsgg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=18"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/gopd": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/gopd/-/gopd-1.2.0.tgz",
      "integrity": "sha512-ZUKRh6/kUFoAiTAtTYPZJ3hw9wNxx+BIBOijnlG9PnrJsCcSjs1wyyD6vJpaYtgnzDrKYRSqf3OO6Rfa93xsRg==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/graphemer": {
      "version": "1.4.0",
      "resolved": "https://registry.npmjs.org/graphemer/-/graphemer-1.4.0.tgz",
      "integrity": "sha512-EtKwoO6kxCL9WO5xipiHTZlSzBm7WLT627TqC/uVRd0HKmq8NXyebnNYxDoBi7wt8eTWrUrKXCOVaFq9x1kgag==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/has-flag": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/has-flag/-/has-flag-4.0.0.tgz",
      "integrity": "sha512-EykJT/Q1KjTWctppgIAgfSO0tKVuZUjhgMr17kqTumMl6Afv3EISleU7qZUzoXDFTAHTDC4NOoG/ZxU3EvlMPQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/has-symbols": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/has-symbols/-/has-symbols-1.1.0.tgz",
      "integrity": "sha512-1cDNdwJ2Jaohmb3sg4OmKaMBwuC48sYni5HUw2DvsC8LjGTLK9h+eb1X6RyuOHe4hT0ULCW68iomhjUoKUqlPQ==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/has-tostringtag": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/has-tostringtag/-/has-tostringtag-1.0.2.tgz",
      "integrity": "sha512-NqADB8VjPFLM2V0VvHUewwwsw0ZWBaIdgo+ieHtK3hasLz4qeCRjYcqfB6AQrBggRKppKF8L52/VqdVsO47Dlw==",
      "license": "MIT",
      "dependencies": {
        "has-symbols": "^1.0.3"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/hasown": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/hasown/-/hasown-2.0.2.tgz",
      "integrity": "sha512-0hJU9SCPvmMzIBdZFqNPXWa6dqh7WdH0cII9y+CyS8rG3nL48Bclra9HmKhVVUHyPWNH5Y7xDwAB7bfgSjkUMQ==",
      "license": "MIT",
      "dependencies": {
        "function-bind": "^1.1.2"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/hast-util-to-jsx-runtime": {
      "version": "2.3.6",
      "resolved": "https://registry.npmjs.org/hast-util-to-jsx-runtime/-/hast-util-to-jsx-runtime-2.3.6.tgz",
      "integrity": "sha512-zl6s8LwNyo1P9uw+XJGvZtdFF1GdAkOg8ujOw+4Pyb76874fLps4ueHXDhXWdk6YHQ6OgUtinliG7RsYvCbbBg==",
      "license": "MIT",
      "dependencies": {
        "@types/estree": "^1.0.0",
        "@types/hast": "^3.0.0",
        "@types/unist": "^3.0.0",
        "comma-separated-tokens": "^2.0.0",
        "devlop": "^1.0.0",
        "estree-util-is-identifier-name": "^3.0.0",
        "hast-util-whitespace": "^3.0.0",
        "mdast-util-mdx-expression": "^2.0.0",
        "mdast-util-mdx-jsx": "^3.0.0",
        "mdast-util-mdxjs-esm": "^2.0.0",
        "property-information": "^7.0.0",
        "space-separated-tokens": "^2.0.0",
        "style-to-js": "^1.0.0",
        "unist-util-position": "^5.0.0",
        "vfile-message": "^4.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/hast-util-whitespace": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/hast-util-whitespace/-/hast-util-whitespace-3.0.0.tgz",
      "integrity": "sha512-88JUN06ipLwsnv+dVn+OIYOvAuvBMy/Qoi6O7mQHxdPXpjy+Cd6xRkWwux7DKO+4sYILtLBRIKgsdpS2gQc7qw==",
      "license": "MIT",
      "dependencies": {
        "@types/hast": "^3.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/html-url-attributes": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/html-url-attributes/-/html-url-attributes-3.0.1.tgz",
      "integrity": "sha512-ol6UPyBWqsrO6EJySPz2O7ZSr856WDrEzM5zMqp+FJJLGMW35cLYmmZnl0vztAZxRUoNZJFTCohfjuIJ8I4QBQ==",
      "license": "MIT",
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/ignore": {
      "version": "5.3.2",
      "resolved": "https://registry.npmjs.org/ignore/-/ignore-5.3.2.tgz",
      "integrity": "sha512-hsBTNUqQTDwkWtcdYI2i06Y/nUBEsNEDJKjWdigLvegy8kDuJAS8uRlpkkcQpyEXL0Z/pjDy5HBmMjRCJ2gq+g==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 4"
      }
    },
    "node_modules/import-fresh": {
      "version": "3.3.1",
      "resolved": "https://registry.npmjs.org/import-fresh/-/import-fresh-3.3.1.tgz",
      "integrity": "sha512-TR3KfrTZTYLPB6jUjfx6MF9WcWrHL9su5TObK4ZkYgBdWKPOFoSoQIdEuTuR82pmtxH2spWG9h6etwfr1pLBqQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "parent-module": "^1.0.0",
        "resolve-from": "^4.0.0"
      },
      "engines": {
        "node": ">=6"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/imurmurhash": {
      "version": "0.1.4",
      "resolved": "https://registry.npmjs.org/imurmurhash/-/imurmurhash-0.1.4.tgz",
      "integrity": "sha512-JmXMZ6wuvDmLiHEml9ykzqO6lwFbof0GG4IkcGaENdCRDDmMVnny7s5HsIgHCbaq0w2MyPhDqkhTUgS2LU2PHA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.8.19"
      }
    },
    "node_modules/inline-style-parser": {
      "version": "0.2.7",
      "resolved": "https://registry.npmjs.org/inline-style-parser/-/inline-style-parser-0.2.7.tgz",
      "integrity": "sha512-Nb2ctOyNR8DqQoR0OwRG95uNWIC0C1lCgf5Naz5H6Ji72KZ8OcFZLz2P5sNgwlyoJ8Yif11oMuYs5pBQa86csA==",
      "license": "MIT"
    },
    "node_modules/input-otp": {
      "version": "1.4.2",
      "resolved": "https://registry.npmjs.org/input-otp/-/input-otp-1.4.2.tgz",
      "integrity": "sha512-l3jWwYNvrEa6NTCt7BECfCm48GvwuZzkoeG3gBL2w4CHeOXW3eKFmf9UNYkNfYc3mxMrthMnxjIE07MT0zLBQA==",
      "license": "MIT",
      "peerDependencies": {
        "react": "^16.8 || ^17.0 || ^18.0 || ^19.0.0 || ^19.0.0-rc",
        "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0.0 || ^19.0.0-rc"
      }
    },
    "node_modules/internmap": {
      "version": "2.0.3",
      "resolved": "https://registry.npmjs.org/internmap/-/internmap-2.0.3.tgz",
      "integrity": "sha512-5Hh7Y1wQbvY5ooGgPbDaL5iYLAPzMTUrjMulskHLH6wnv/A+1q5rgEaiuqEjB+oxGXIVZs1FF+R/KPN3ZSQYYg==",
      "license": "ISC",
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/is-alphabetical": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/is-alphabetical/-/is-alphabetical-2.0.1.tgz",
      "integrity": "sha512-FWyyY60MeTNyeSRpkM2Iry0G9hpr7/9kD40mD/cGQEuilcZYS4okz8SN2Q6rLCJ8gbCt6fN+rC+6tMGS99LaxQ==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/is-alphanumerical": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/is-alphanumerical/-/is-alphanumerical-2.0.1.tgz",
      "integrity": "sha512-hmbYhX/9MUMF5uh7tOXyK/n0ZvWpad5caBA17GsC6vyuCqaWliRG5K1qS9inmUhEMaOBIW7/whAnSwveW/LtZw==",
      "license": "MIT",
      "dependencies": {
        "is-alphabetical": "^2.0.0",
        "is-decimal": "^2.0.0"
      },
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/is-binary-path": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/is-binary-path/-/is-binary-path-2.1.0.tgz",
      "integrity": "sha512-ZMERYes6pDydyuGidse7OsHxtbI7WVeUEozgR/g7rd0xUimYNlvZRE/K2MgZTjWy725IfelLeVcEM97mmtRGXw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "binary-extensions": "^2.0.0"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/is-core-module": {
      "version": "2.15.1",
      "resolved": "https://registry.npmjs.org/is-core-module/-/is-core-module-2.15.1.tgz",
      "integrity": "sha512-z0vtXSwucUJtANQWldhbtbt7BnL0vxiFjIdDLAatwhDYty2bad6s+rijD6Ri4YuYJubLzIJLUidCh09e1djEVQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "hasown": "^2.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-decimal": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/is-decimal/-/is-decimal-2.0.1.tgz",
      "integrity": "sha512-AAB9hiomQs5DXWcRB1rqsxGUstbRroFOPPVAomNk/3XHR5JyEZChOyTWe2oayKnsSsr/kcGqF+z6yuH6HHpN0A==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/is-extglob": {
      "version": "2.1.1",
      "resolved": "https://registry.npmjs.org/is-extglob/-/is-extglob-2.1.1.tgz",
      "integrity": "sha512-SbKbANkN603Vi4jEZv49LeVJMn4yGwsbzZworEoyEiutsN3nJYdbO36zfhGJ6QEDpOZIFkDtnq5JRxmvl3jsoQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/is-fullwidth-code-point": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/is-fullwidth-code-point/-/is-fullwidth-code-point-3.0.0.tgz",
      "integrity": "sha512-zymm5+u+sCsSWyD9qNaejV3DFvhCKclKdizYaJUuHA83RLjb7nSuGnddCHGv0hk+KY7BMAlsWeK4Ueg6EV6XQg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/is-glob": {
      "version": "4.0.3",
      "resolved": "https://registry.npmjs.org/is-glob/-/is-glob-4.0.3.tgz",
      "integrity": "sha512-xelSayHH36ZgE7ZWhli7pW34hNbNl8Ojv5KVmkJD4hBdD3th8Tfk9vYasLM+mXWOZhFkgZfxhLSnrwRr4elSSg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "is-extglob": "^2.1.1"
      },
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/is-hexadecimal": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/is-hexadecimal/-/is-hexadecimal-2.0.1.tgz",
      "integrity": "sha512-DgZQp241c8oO6cA1SbTEWiXeoxV42vlcJxgH+B3hi1AiqqKruZR3ZGF8In3fj4+/y/7rHvlOZLZtgJ/4ttYGZg==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/is-number": {
      "version": "7.0.0",
      "resolved": "https://registry.npmjs.org/is-number/-/is-number-7.0.0.tgz",
      "integrity": "sha512-41Cifkg6e8TylSpdtTpeLVMqvSBEVzTttHvERD741+pnZ8ANv0004MRL43QKPDlK9cGvNp6NZWZUBlbGXYxxng==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.12.0"
      }
    },
    "node_modules/is-plain-obj": {
      "version": "4.1.0",
      "resolved": "https://registry.npmjs.org/is-plain-obj/-/is-plain-obj-4.1.0.tgz",
      "integrity": "sha512-+Pgi+vMuUNkJyExiMBt5IlFoMyKnr5zhJ4Uspz58WOhBF5QoIZkFyNHIbBAtHwzVAgk5RtndVNsDRN61/mmDqg==",
      "license": "MIT",
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/isexe": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/isexe/-/isexe-2.0.0.tgz",
      "integrity": "sha512-RHxMLp9lnKHGHRng9QFhRCMbYAcVpn69smSGcq3f36xjgVVWThj4qqLbTLlq7Ssj8B+fIQ1EuCEGI2lKsyQeIw==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/jackspeak": {
      "version": "3.4.3",
      "resolved": "https://registry.npmjs.org/jackspeak/-/jackspeak-3.4.3.tgz",
      "integrity": "sha512-OGlZQpz2yfahA/Rd1Y8Cd9SIEsqvXkLVoSw/cgwhnhFMDbsQFeZYoJJ7bIZBS9BcamUW96asq/npPWugM+RQBw==",
      "dev": true,
      "license": "BlueOak-1.0.0",
      "dependencies": {
        "@isaacs/cliui": "^8.0.2"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      },
      "optionalDependencies": {
        "@pkgjs/parseargs": "^0.11.0"
      }
    },
    "node_modules/jiti": {
      "version": "1.21.6",
      "resolved": "https://registry.npmjs.org/jiti/-/jiti-1.21.6.tgz",
      "integrity": "sha512-2yTgeWTWzMWkHu6Jp9NKgePDaYHbntiwvYuuJLbbN9vl7DC9DvXKOB2BC3ZZ92D3cvV/aflH0osDfwpHepQ53w==",
      "dev": true,
      "license": "MIT",
      "bin": {
        "jiti": "bin/jiti.js"
      }
    },
    "node_modules/js-tokens": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/js-tokens/-/js-tokens-4.0.0.tgz",
      "integrity": "sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ==",
      "license": "MIT"
    },
    "node_modules/js-yaml": {
      "version": "4.1.0",
      "resolved": "https://registry.npmjs.org/js-yaml/-/js-yaml-4.1.0.tgz",
      "integrity": "sha512-wpxZs9NoxZaJESJGIZTyDEaYpl0FKSA+FB9aJiyemKhMwkxQg63h4T1KJgUGHpTqPDNRcmmYLugrRjJlBtWvRA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "argparse": "^2.0.1"
      },
      "bin": {
        "js-yaml": "bin/js-yaml.js"
      }
    },
    "node_modules/json-buffer": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/json-buffer/-/json-buffer-3.0.1.tgz",
      "integrity": "sha512-4bV5BfR2mqfQTJm+V5tPPdf+ZpuhiIvTuAB5g8kcrXOZpTT/QwwVRWBywX1ozr6lEuPdbHxwaJlm9G6mI2sfSQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/json-schema-traverse": {
      "version": "0.4.1",
      "resolved": "https://registry.npmjs.org/json-schema-traverse/-/json-schema-traverse-0.4.1.tgz",
      "integrity": "sha512-xbbCH5dCYU5T8LcEhhuh7HJ88HXuW3qsI3Y0zOZFKfZEHcpWiHU/Jxzk629Brsab/mMiHQti9wMP+845RPe3Vg==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/json-stable-stringify-without-jsonify": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/json-stable-stringify-without-jsonify/-/json-stable-stringify-without-jsonify-1.0.1.tgz",
      "integrity": "sha512-Bdboy+l7tA3OGW6FjyFHWkP5LuByj1Tk33Ljyq0axyzdk9//JSi2u3fP1QSmd1KNwq6VOKYGlAu87CisVir6Pw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/keyv": {
      "version": "4.5.4",
      "resolved": "https://registry.npmjs.org/keyv/-/keyv-4.5.4.tgz",
      "integrity": "sha512-oxVHkHR/EJf2CNXnWxRLW6mg7JyCCUcG0DtEGmL2ctUo1PNTin1PUil+r/+4r5MpVgC/fn1kjsx7mjSujKqIpw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "json-buffer": "3.0.1"
      }
    },
    "node_modules/levn": {
      "version": "0.4.1",
      "resolved": "https://registry.npmjs.org/levn/-/levn-0.4.1.tgz",
      "integrity": "sha512-+bT2uH4E5LGE7h/n3evcS/sQlJXCpIp6ym8OWJ5eV6+67Dsql/LaaT7qJBAt2rzfoa/5QBGBhxDix1dMt2kQKQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "prelude-ls": "^1.2.1",
        "type-check": "~0.4.0"
      },
      "engines": {
        "node": ">= 0.8.0"
      }
    },
    "node_modules/lilconfig": {
      "version": "3.1.3",
      "resolved": "https://registry.npmjs.org/lilconfig/-/lilconfig-3.1.3.tgz",
      "integrity": "sha512-/vlFKAoH5Cgt3Ie+JLhRbwOsCQePABiU3tJ1egGvyQ+33R/vcwM2Zl2QR/LzjsBeItPt3oSVXapn+m4nQDvpzw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=14"
      },
      "funding": {
        "url": "https://github.com/sponsors/antonk52"
      }
    },
    "node_modules/lines-and-columns": {
      "version": "1.2.4",
      "resolved": "https://registry.npmjs.org/lines-and-columns/-/lines-and-columns-1.2.4.tgz",
      "integrity": "sha512-7ylylesZQ/PV29jhEDl3Ufjo6ZX7gCqJr5F7PKrqc93v7fzSymt1BpwEU8nAUXs8qzzvqhbjhK5QZg6Mt/HkBg==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/locate-path": {
      "version": "6.0.0",
      "resolved": "https://registry.npmjs.org/locate-path/-/locate-path-6.0.0.tgz",
      "integrity": "sha512-iPZK6eYjbxRu3uB4/WZ3EsEIMJFMqAoopl3R+zuq0UjcAm/MO6KCweDgPfP3elTztoKP3KtnVHxTn2NHBSDVUw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "p-locate": "^5.0.0"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/lodash": {
      "version": "4.17.21",
      "resolved": "https://registry.npmjs.org/lodash/-/lodash-4.17.21.tgz",
      "integrity": "sha512-v2kDEe57lecTulaDIuNTPy3Ry4gLGJ6Z1O3vE1krgXZNrsQ+LFTGHVxVjcXPs17LhbZVGedAJv8XZ1tvj5FvSg==",
      "license": "MIT"
    },
    "node_modules/lodash.castarray": {
      "version": "4.4.0",
      "resolved": "https://registry.npmjs.org/lodash.castarray/-/lodash.castarray-4.4.0.tgz",
      "integrity": "sha512-aVx8ztPv7/2ULbArGJ2Y42bG1mEQ5mGjpdvrbJcJFU3TbYybe+QlLS4pst9zV52ymy2in1KpFPiZnAOATxD4+Q==",
      "dev": true
    },
    "node_modules/lodash.clonedeep": {
      "version": "4.5.0",
      "resolved": "https://registry.npmjs.org/lodash.clonedeep/-/lodash.clonedeep-4.5.0.tgz",
      "integrity": "sha512-H5ZhCF25riFd9uB5UCkVKo61m3S/xZk1x4wA6yp/L3RFP6Z/eHH1ymQcGLo7J3GMPfm0V/7m1tryHuGVxpqEBQ==",
      "license": "MIT"
    },
    "node_modules/lodash.debounce": {
      "version": "4.0.8",
      "resolved": "https://registry.npmjs.org/lodash.debounce/-/lodash.debounce-4.0.8.tgz",
      "integrity": "sha512-FT1yDzDYEoYWhnSGnpE/4Kj1fLZkDFyqRb7fNt6FdYOSxlUWAtp42Eh6Wb0rGIv/m9Bgo7x4GhQbm5Ys4SG5ow==",
      "license": "MIT"
    },
    "node_modules/lodash.isplainobject": {
      "version": "4.0.6",
      "resolved": "https://registry.npmjs.org/lodash.isplainobject/-/lodash.isplainobject-4.0.6.tgz",
      "integrity": "sha512-oSXzaWypCMHkPC3NvBEaPHf0KsA5mvPrOPgQWDsbg8n7orZ290M0BmC/jgRZ4vcJ6DTAhjrsSYgdsW/F+MFOBA==",
      "dev": true
    },
    "node_modules/lodash.merge": {
      "version": "4.6.2",
      "resolved": "https://registry.npmjs.org/lodash.merge/-/lodash.merge-4.6.2.tgz",
      "integrity": "sha512-0KpjqXRVvrYyCsX1swR/XTK0va6VQkQM6MNo7PqW77ByjAhoARA8EfrP1N4+KlKj8YS0ZUCtRT/YUuhyYDujIQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/longest-streak": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/longest-streak/-/longest-streak-3.1.0.tgz",
      "integrity": "sha512-9Ri+o0JYgehTaVBBDoMqIl8GXtbWg711O3srftcHhZ0dqnETqLaoIK0x17fUw9rFSlK/0NlsKe0Ahhyl5pXE2g==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/loose-envify": {
      "version": "1.4.0",
      "resolved": "https://registry.npmjs.org/loose-envify/-/loose-envify-1.4.0.tgz",
      "integrity": "sha512-lyuxPGr/Wfhrlem2CL/UcnUc1zcqKAImBDzukY7Y5F/yQiNdko6+fRLevlw1HgMySw7f611UIY408EtxRSoK3Q==",
      "license": "MIT",
      "dependencies": {
        "js-tokens": "^3.0.0 || ^4.0.0"
      },
      "bin": {
        "loose-envify": "cli.js"
      }
    },
    "node_modules/lru-cache": {
      "version": "10.4.3",
      "resolved": "https://registry.npmjs.org/lru-cache/-/lru-cache-10.4.3.tgz",
      "integrity": "sha512-JNAzZcXrCt42VGLuYz0zfAzDfAvJWW6AfYlDBQyDV5DClI2m5sAmK+OIO7s59XfsRsWHp02jAJrRadPRGTt6SQ==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/lucide-react": {
      "version": "0.462.0",
      "resolved": "https://registry.npmjs.org/lucide-react/-/lucide-react-0.462.0.tgz",
      "integrity": "sha512-NTL7EbAao9IFtuSivSZgrAh4fZd09Lr+6MTkqIxuHaH2nnYiYIzXPo06cOxHg9wKLdj6LL8TByG4qpePqwgx/g==",
      "peerDependencies": {
        "react": "^16.5.1 || ^17.0.0 || ^18.0.0 || ^19.0.0-rc"
      }
    },
    "node_modules/markdown-table": {
      "version": "3.0.4",
      "resolved": "https://registry.npmjs.org/markdown-table/-/markdown-table-3.0.4.tgz",
      "integrity": "sha512-wiYz4+JrLyb/DqW2hkFJxP7Vd7JuTDm77fvbM8VfEQdmSMqcImWeeRbHwZjBjIFki/VaMK2BhFi7oUUZeM5bqw==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/math-intrinsics": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/math-intrinsics/-/math-intrinsics-1.1.0.tgz",
      "integrity": "sha512-/IXtbwEk5HTPyEwyKX6hGkYXxM9nbj64B+ilVJnC/R6B0pH5G4V3b0pVbL7DBj4tkhBAppbQUlf6F6Xl9LHu1g==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/mdast-util-find-and-replace": {
      "version": "3.0.2",
      "resolved": "https://registry.npmjs.org/mdast-util-find-and-replace/-/mdast-util-find-and-replace-3.0.2.tgz",
      "integrity": "sha512-Tmd1Vg/m3Xz43afeNxDIhWRtFZgM2VLyaf4vSTYwudTyeuTneoL3qtWMA5jeLyz/O1vDJmmV4QuScFCA2tBPwg==",
      "license": "MIT",
      "dependencies": {
        "@types/mdast": "^4.0.0",
        "escape-string-regexp": "^5.0.0",
        "unist-util-is": "^6.0.0",
        "unist-util-visit-parents": "^6.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/mdast-util-find-and-replace/node_modules/escape-string-regexp": {
      "version": "5.0.0",
      "resolved": "https://registry.npmjs.org/escape-string-regexp/-/escape-string-regexp-5.0.0.tgz",
      "integrity": "sha512-/veY75JbMK4j1yjvuUxuVsiS/hr/4iHs9FTT6cgTexxdE0Ly/glccBAkloH/DofkjRbZU3bnoj38mOmhkZ0lHw==",
      "license": "MIT",
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/mdast-util-from-markdown": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/mdast-util-from-markdown/-/mdast-util-from-markdown-2.0.2.tgz",
      "integrity": "sha512-uZhTV/8NBuw0WHkPTrCqDOl0zVe1BIng5ZtHoDk49ME1qqcjYmmLmOf0gELgcRMxN4w2iuIeVso5/6QymSrgmA==",
      "license": "MIT",
      "dependencies": {
        "@types/mdast": "^4.0.0",
        "@types/unist": "^3.0.0",
        "decode-named-character-reference": "^1.0.0",
        "devlop": "^1.0.0",
        "mdast-util-to-string": "^4.0.0",
        "micromark": "^4.0.0",
        "micromark-util-decode-numeric-character-reference": "^2.0.0",
        "micromark-util-decode-string": "^2.0.0",
        "micromark-util-normalize-identifier": "^2.0.0",
        "micromark-util-symbol": "^2.0.0",
        "micromark-util-types": "^2.0.0",
        "unist-util-stringify-position": "^4.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/mdast-util-gfm": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/mdast-util-gfm/-/mdast-util-gfm-3.1.0.tgz",
      "integrity": "sha512-0ulfdQOM3ysHhCJ1p06l0b0VKlhU0wuQs3thxZQagjcjPrlFRqY215uZGHHJan9GEAXd9MbfPjFJz+qMkVR6zQ==",
      "license": "MIT",
      "dependencies": {
        "mdast-util-from-markdown": "^2.0.0",
        "mdast-util-gfm-autolink-literal": "^2.0.0",
        "mdast-util-gfm-footnote": "^2.0.0",
        "mdast-util-gfm-strikethrough": "^2.0.0",
        "mdast-util-gfm-table": "^2.0.0",
        "mdast-util-gfm-task-list-item": "^2.0.0",
        "mdast-util-to-markdown": "^2.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/mdast-util-gfm-autolink-literal": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/mdast-util-gfm-autolink-literal/-/mdast-util-gfm-autolink-literal-2.0.1.tgz",
      "integrity": "sha512-5HVP2MKaP6L+G6YaxPNjuL0BPrq9orG3TsrZ9YXbA3vDw/ACI4MEsnoDpn6ZNm7GnZgtAcONJyPhOP8tNJQavQ==",
      "license": "MIT",
      "dependencies": {
        "@types/mdast": "^4.0.0",
        "ccount": "^2.0.0",
        "devlop": "^1.0.0",
        "mdast-util-find-and-replace": "^3.0.0",
        "micromark-util-character": "^2.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/mdast-util-gfm-footnote": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/mdast-util-gfm-footnote/-/mdast-util-gfm-footnote-2.1.0.tgz",
      "integrity": "sha512-sqpDWlsHn7Ac9GNZQMeUzPQSMzR6Wv0WKRNvQRg0KqHh02fpTz69Qc1QSseNX29bhz1ROIyNyxExfawVKTm1GQ==",
      "license": "MIT",
      "dependencies": {
        "@types/mdast": "^4.0.0",
        "devlop": "^1.1.0",
        "mdast-util-from-markdown": "^2.0.0",
        "mdast-util-to-markdown": "^2.0.0",
        "micromark-util-normalize-identifier": "^2.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/mdast-util-gfm-strikethrough": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/mdast-util-gfm-strikethrough/-/mdast-util-gfm-strikethrough-2.0.0.tgz",
      "integrity": "sha512-mKKb915TF+OC5ptj5bJ7WFRPdYtuHv0yTRxK2tJvi+BDqbkiG7h7u/9SI89nRAYcmap2xHQL9D+QG/6wSrTtXg==",
      "license": "MIT",
      "dependencies": {
        "@types/mdast": "^4.0.0",
        "mdast-util-from-markdown": "^2.0.0",
        "mdast-util-to-markdown": "^2.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/mdast-util-gfm-table": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/mdast-util-gfm-table/-/mdast-util-gfm-table-2.0.0.tgz",
      "integrity": "sha512-78UEvebzz/rJIxLvE7ZtDd/vIQ0RHv+3Mh5DR96p7cS7HsBhYIICDBCu8csTNWNO6tBWfqXPWekRuj2FNOGOZg==",
      "license": "MIT",
      "dependencies": {
        "@types/mdast": "^4.0.0",
        "devlop": "^1.0.0",
        "markdown-table": "^3.0.0",
        "mdast-util-from-markdown": "^2.0.0",
        "mdast-util-to-markdown": "^2.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/mdast-util-gfm-task-list-item": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/mdast-util-gfm-task-list-item/-/mdast-util-gfm-task-list-item-2.0.0.tgz",
      "integrity": "sha512-IrtvNvjxC1o06taBAVJznEnkiHxLFTzgonUdy8hzFVeDun0uTjxxrRGVaNFqkU1wJR3RBPEfsxmU6jDWPofrTQ==",
      "license": "MIT",
      "dependencies": {
        "@types/mdast": "^4.0.0",
        "devlop": "^1.0.0",
        "mdast-util-from-markdown": "^2.0.0",
        "mdast-util-to-markdown": "^2.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/mdast-util-mdx-expression": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/mdast-util-mdx-expression/-/mdast-util-mdx-expression-2.0.1.tgz",
      "integrity": "sha512-J6f+9hUp+ldTZqKRSg7Vw5V6MqjATc+3E4gf3CFNcuZNWD8XdyI6zQ8GqH7f8169MM6P7hMBRDVGnn7oHB9kXQ==",
      "license": "MIT",
      "dependencies": {
        "@types/estree-jsx": "^1.0.0",
        "@types/hast": "^3.0.0",
        "@types/mdast": "^4.0.0",
        "devlop": "^1.0.0",
        "mdast-util-from-markdown": "^2.0.0",
        "mdast-util-to-markdown": "^2.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/mdast-util-mdx-jsx": {
      "version": "3.2.0",
      "resolved": "https://registry.npmjs.org/mdast-util-mdx-jsx/-/mdast-util-mdx-jsx-3.2.0.tgz",
      "integrity": "sha512-lj/z8v0r6ZtsN/cGNNtemmmfoLAFZnjMbNyLzBafjzikOM+glrjNHPlf6lQDOTccj9n5b0PPihEBbhneMyGs1Q==",
      "license": "MIT",
      "dependencies": {
        "@types/estree-jsx": "^1.0.0",
        "@types/hast": "^3.0.0",
        "@types/mdast": "^4.0.0",
        "@types/unist": "^3.0.0",
        "ccount": "^2.0.0",
        "devlop": "^1.1.0",
        "mdast-util-from-markdown": "^2.0.0",
        "mdast-util-to-markdown": "^2.0.0",
        "parse-entities": "^4.0.0",
        "stringify-entities": "^4.0.0",
        "unist-util-stringify-position": "^4.0.0",
        "vfile-message": "^4.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/mdast-util-mdxjs-esm": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/mdast-util-mdxjs-esm/-/mdast-util-mdxjs-esm-2.0.1.tgz",
      "integrity": "sha512-EcmOpxsZ96CvlP03NghtH1EsLtr0n9Tm4lPUJUBccV9RwUOneqSycg19n5HGzCf+10LozMRSObtVr3ee1WoHtg==",
      "license": "MIT",
      "dependencies": {
        "@types/estree-jsx": "^1.0.0",
        "@types/hast": "^3.0.0",
        "@types/mdast": "^4.0.0",
        "devlop": "^1.0.0",
        "mdast-util-from-markdown": "^2.0.0",
        "mdast-util-to-markdown": "^2.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/mdast-util-phrasing": {
      "version": "4.1.0",
      "resolved": "https://registry.npmjs.org/mdast-util-phrasing/-/mdast-util-phrasing-4.1.0.tgz",
      "integrity": "sha512-TqICwyvJJpBwvGAMZjj4J2n0X8QWp21b9l0o7eXyVJ25YNWYbJDVIyD1bZXE6WtV6RmKJVYmQAKWa0zWOABz2w==",
      "license": "MIT",
      "dependencies": {
        "@types/mdast": "^4.0.0",
        "unist-util-is": "^6.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/mdast-util-to-hast": {
      "version": "13.2.1",
      "resolved": "https://registry.npmjs.org/mdast-util-to-hast/-/mdast-util-to-hast-13.2.1.tgz",
      "integrity": "sha512-cctsq2wp5vTsLIcaymblUriiTcZd0CwWtCbLvrOzYCDZoWyMNV8sZ7krj09FSnsiJi3WVsHLM4k6Dq/yaPyCXA==",
      "license": "MIT",
      "dependencies": {
        "@types/hast": "^3.0.0",
        "@types/mdast": "^4.0.0",
        "@ungap/structured-clone": "^1.0.0",
        "devlop": "^1.0.0",
        "micromark-util-sanitize-uri": "^2.0.0",
        "trim-lines": "^3.0.0",
        "unist-util-position": "^5.0.0",
        "unist-util-visit": "^5.0.0",
        "vfile": "^6.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/mdast-util-to-markdown": {
      "version": "2.1.2",
      "resolved": "https://registry.npmjs.org/mdast-util-to-markdown/-/mdast-util-to-markdown-2.1.2.tgz",
      "integrity": "sha512-xj68wMTvGXVOKonmog6LwyJKrYXZPvlwabaryTjLh9LuvovB/KAH+kvi8Gjj+7rJjsFi23nkUxRQv1KqSroMqA==",
      "license": "MIT",
      "dependencies": {
        "@types/mdast": "^4.0.0",
        "@types/unist": "^3.0.0",
        "longest-streak": "^3.0.0",
        "mdast-util-phrasing": "^4.0.0",
        "mdast-util-to-string": "^4.0.0",
        "micromark-util-classify-character": "^2.0.0",
        "micromark-util-decode-string": "^2.0.0",
        "unist-util-visit": "^5.0.0",
        "zwitch": "^2.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/mdast-util-to-string": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/mdast-util-to-string/-/mdast-util-to-string-4.0.0.tgz",
      "integrity": "sha512-0H44vDimn51F0YwvxSJSm0eCDOJTRlmN0R1yBh4HLj9wiV1Dn0QoXGbvFAWj2hSItVTlCmBF1hqKlIyUBVFLPg==",
      "license": "MIT",
      "dependencies": {
        "@types/mdast": "^4.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/merge2": {
      "version": "1.4.1",
      "resolved": "https://registry.npmjs.org/merge2/-/merge2-1.4.1.tgz",
      "integrity": "sha512-8q7VEgMJW4J8tcfVPy8g09NcQwZdbwFEqhe/WZkoIzjn/3TGDwtOCYtXGxA3O8tPzpczCCDgv+P2P5y00ZJOOg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/micromark": {
      "version": "4.0.2",
      "resolved": "https://registry.npmjs.org/micromark/-/micromark-4.0.2.tgz",
      "integrity": "sha512-zpe98Q6kvavpCr1NPVSCMebCKfD7CA2NqZ+rykeNhONIJBpc1tFKt9hucLGwha3jNTNI8lHpctWJWoimVF4PfA==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "@types/debug": "^4.0.0",
        "debug": "^4.0.0",
        "decode-named-character-reference": "^1.0.0",
        "devlop": "^1.0.0",
        "micromark-core-commonmark": "^2.0.0",
        "micromark-factory-space": "^2.0.0",
        "micromark-util-character": "^2.0.0",
        "micromark-util-chunked": "^2.0.0",
        "micromark-util-combine-extensions": "^2.0.0",
        "micromark-util-decode-numeric-character-reference": "^2.0.0",
        "micromark-util-encode": "^2.0.0",
        "micromark-util-normalize-identifier": "^2.0.0",
        "micromark-util-resolve-all": "^2.0.0",
        "micromark-util-sanitize-uri": "^2.0.0",
        "micromark-util-subtokenize": "^2.0.0",
        "micromark-util-symbol": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      }
    },
    "node_modules/micromark-core-commonmark": {
      "version": "2.0.3",
      "resolved": "https://registry.npmjs.org/micromark-core-commonmark/-/micromark-core-commonmark-2.0.3.tgz",
      "integrity": "sha512-RDBrHEMSxVFLg6xvnXmb1Ayr2WzLAWjeSATAoxwKYJV94TeNavgoIdA0a9ytzDSVzBy2YKFK+emCPOEibLeCrg==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "decode-named-character-reference": "^1.0.0",
        "devlop": "^1.0.0",
        "micromark-factory-destination": "^2.0.0",
        "micromark-factory-label": "^2.0.0",
        "micromark-factory-space": "^2.0.0",
        "micromark-factory-title": "^2.0.0",
        "micromark-factory-whitespace": "^2.0.0",
        "micromark-util-character": "^2.0.0",
        "micromark-util-chunked": "^2.0.0",
        "micromark-util-classify-character": "^2.0.0",
        "micromark-util-html-tag-name": "^2.0.0",
        "micromark-util-normalize-identifier": "^2.0.0",
        "micromark-util-resolve-all": "^2.0.0",
        "micromark-util-subtokenize": "^2.0.0",
        "micromark-util-symbol": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      }
    },
    "node_modules/micromark-extension-gfm": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/micromark-extension-gfm/-/micromark-extension-gfm-3.0.0.tgz",
      "integrity": "sha512-vsKArQsicm7t0z2GugkCKtZehqUm31oeGBV/KVSorWSy8ZlNAv7ytjFhvaryUiCUJYqs+NoE6AFhpQvBTM6Q4w==",
      "license": "MIT",
      "dependencies": {
        "micromark-extension-gfm-autolink-literal": "^2.0.0",
        "micromark-extension-gfm-footnote": "^2.0.0",
        "micromark-extension-gfm-strikethrough": "^2.0.0",
        "micromark-extension-gfm-table": "^2.0.0",
        "micromark-extension-gfm-tagfilter": "^2.0.0",
        "micromark-extension-gfm-task-list-item": "^2.0.0",
        "micromark-util-combine-extensions": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/micromark-extension-gfm-autolink-literal": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/micromark-extension-gfm-autolink-literal/-/micromark-extension-gfm-autolink-literal-2.1.0.tgz",
      "integrity": "sha512-oOg7knzhicgQ3t4QCjCWgTmfNhvQbDDnJeVu9v81r7NltNCVmhPy1fJRX27pISafdjL+SVc4d3l48Gb6pbRypw==",
      "license": "MIT",
      "dependencies": {
        "micromark-util-character": "^2.0.0",
        "micromark-util-sanitize-uri": "^2.0.0",
        "micromark-util-symbol": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/micromark-extension-gfm-footnote": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/micromark-extension-gfm-footnote/-/micromark-extension-gfm-footnote-2.1.0.tgz",
      "integrity": "sha512-/yPhxI1ntnDNsiHtzLKYnE3vf9JZ6cAisqVDauhp4CEHxlb4uoOTxOCJ+9s51bIB8U1N1FJ1RXOKTIlD5B/gqw==",
      "license": "MIT",
      "dependencies": {
        "devlop": "^1.0.0",
        "micromark-core-commonmark": "^2.0.0",
        "micromark-factory-space": "^2.0.0",
        "micromark-util-character": "^2.0.0",
        "micromark-util-normalize-identifier": "^2.0.0",
        "micromark-util-sanitize-uri": "^2.0.0",
        "micromark-util-symbol": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/micromark-extension-gfm-strikethrough": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/micromark-extension-gfm-strikethrough/-/micromark-extension-gfm-strikethrough-2.1.0.tgz",
      "integrity": "sha512-ADVjpOOkjz1hhkZLlBiYA9cR2Anf8F4HqZUO6e5eDcPQd0Txw5fxLzzxnEkSkfnD0wziSGiv7sYhk/ktvbf1uw==",
      "license": "MIT",
      "dependencies": {
        "devlop": "^1.0.0",
        "micromark-util-chunked": "^2.0.0",
        "micromark-util-classify-character": "^2.0.0",
        "micromark-util-resolve-all": "^2.0.0",
        "micromark-util-symbol": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/micromark-extension-gfm-table": {
      "version": "2.1.1",
      "resolved": "https://registry.npmjs.org/micromark-extension-gfm-table/-/micromark-extension-gfm-table-2.1.1.tgz",
      "integrity": "sha512-t2OU/dXXioARrC6yWfJ4hqB7rct14e8f7m0cbI5hUmDyyIlwv5vEtooptH8INkbLzOatzKuVbQmAYcbWoyz6Dg==",
      "license": "MIT",
      "dependencies": {
        "devlop": "^1.0.0",
        "micromark-factory-space": "^2.0.0",
        "micromark-util-character": "^2.0.0",
        "micromark-util-symbol": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/micromark-extension-gfm-tagfilter": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/micromark-extension-gfm-tagfilter/-/micromark-extension-gfm-tagfilter-2.0.0.tgz",
      "integrity": "sha512-xHlTOmuCSotIA8TW1mDIM6X2O1SiX5P9IuDtqGonFhEK0qgRI4yeC6vMxEV2dgyr2TiD+2PQ10o+cOhdVAcwfg==",
      "license": "MIT",
      "dependencies": {
        "micromark-util-types": "^2.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/micromark-extension-gfm-task-list-item": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/micromark-extension-gfm-task-list-item/-/micromark-extension-gfm-task-list-item-2.1.0.tgz",
      "integrity": "sha512-qIBZhqxqI6fjLDYFTBIa4eivDMnP+OZqsNwmQ3xNLE4Cxwc+zfQEfbs6tzAo2Hjq+bh6q5F+Z8/cksrLFYWQQw==",
      "license": "MIT",
      "dependencies": {
        "devlop": "^1.0.0",
        "micromark-factory-space": "^2.0.0",
        "micromark-util-character": "^2.0.0",
        "micromark-util-symbol": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/micromark-factory-destination": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/micromark-factory-destination/-/micromark-factory-destination-2.0.1.tgz",
      "integrity": "sha512-Xe6rDdJlkmbFRExpTOmRj9N3MaWmbAgdpSrBQvCFqhezUn4AHqJHbaEnfbVYYiexVSs//tqOdY/DxhjdCiJnIA==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-util-character": "^2.0.0",
        "micromark-util-symbol": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      }
    },
    "node_modules/micromark-factory-label": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/micromark-factory-label/-/micromark-factory-label-2.0.1.tgz",
      "integrity": "sha512-VFMekyQExqIW7xIChcXn4ok29YE3rnuyveW3wZQWWqF4Nv9Wk5rgJ99KzPvHjkmPXF93FXIbBp6YdW3t71/7Vg==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "devlop": "^1.0.0",
        "micromark-util-character": "^2.0.0",
        "micromark-util-symbol": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      }
    },
    "node_modules/micromark-factory-space": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/micromark-factory-space/-/micromark-factory-space-2.0.1.tgz",
      "integrity": "sha512-zRkxjtBxxLd2Sc0d+fbnEunsTj46SWXgXciZmHq0kDYGnck/ZSGj9/wULTV95uoeYiK5hRXP2mJ98Uo4cq/LQg==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-util-character": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      }
    },
    "node_modules/micromark-factory-title": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/micromark-factory-title/-/micromark-factory-title-2.0.1.tgz",
      "integrity": "sha512-5bZ+3CjhAd9eChYTHsjy6TGxpOFSKgKKJPJxr293jTbfry2KDoWkhBb6TcPVB4NmzaPhMs1Frm9AZH7OD4Cjzw==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-factory-space": "^2.0.0",
        "micromark-util-character": "^2.0.0",
        "micromark-util-symbol": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      }
    },
    "node_modules/micromark-factory-whitespace": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/micromark-factory-whitespace/-/micromark-factory-whitespace-2.0.1.tgz",
      "integrity": "sha512-Ob0nuZ3PKt/n0hORHyvoD9uZhr+Za8sFoP+OnMcnWK5lngSzALgQYKMr9RJVOWLqQYuyn6ulqGWSXdwf6F80lQ==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-factory-space": "^2.0.0",
        "micromark-util-character": "^2.0.0",
        "micromark-util-symbol": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      }
    },
    "node_modules/micromark-util-character": {
      "version": "2.1.1",
      "resolved": "https://registry.npmjs.org/micromark-util-character/-/micromark-util-character-2.1.1.tgz",
      "integrity": "sha512-wv8tdUTJ3thSFFFJKtpYKOYiGP2+v96Hvk4Tu8KpCAsTMs6yi+nVmGh1syvSCsaxz45J6Jbw+9DD6g97+NV67Q==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-util-symbol": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      }
    },
    "node_modules/micromark-util-chunked": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/micromark-util-chunked/-/micromark-util-chunked-2.0.1.tgz",
      "integrity": "sha512-QUNFEOPELfmvv+4xiNg2sRYeS/P84pTW0TCgP5zc9FpXetHY0ab7SxKyAQCNCc1eK0459uoLI1y5oO5Vc1dbhA==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-util-symbol": "^2.0.0"
      }
    },
    "node_modules/micromark-util-classify-character": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/micromark-util-classify-character/-/micromark-util-classify-character-2.0.1.tgz",
      "integrity": "sha512-K0kHzM6afW/MbeWYWLjoHQv1sgg2Q9EccHEDzSkxiP/EaagNzCm7T/WMKZ3rjMbvIpvBiZgwR3dKMygtA4mG1Q==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-util-character": "^2.0.0",
        "micromark-util-symbol": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      }
    },
    "node_modules/micromark-util-combine-extensions": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/micromark-util-combine-extensions/-/micromark-util-combine-extensions-2.0.1.tgz",
      "integrity": "sha512-OnAnH8Ujmy59JcyZw8JSbK9cGpdVY44NKgSM7E9Eh7DiLS2E9RNQf0dONaGDzEG9yjEl5hcqeIsj4hfRkLH/Bg==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-util-chunked": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      }
    },
    "node_modules/micromark-util-decode-numeric-character-reference": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/micromark-util-decode-numeric-character-reference/-/micromark-util-decode-numeric-character-reference-2.0.2.tgz",
      "integrity": "sha512-ccUbYk6CwVdkmCQMyr64dXz42EfHGkPQlBj5p7YVGzq8I7CtjXZJrubAYezf7Rp+bjPseiROqe7G6foFd+lEuw==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-util-symbol": "^2.0.0"
      }
    },
    "node_modules/micromark-util-decode-string": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/micromark-util-decode-string/-/micromark-util-decode-string-2.0.1.tgz",
      "integrity": "sha512-nDV/77Fj6eH1ynwscYTOsbK7rR//Uj0bZXBwJZRfaLEJ1iGBR6kIfNmlNqaqJf649EP0F3NWNdeJi03elllNUQ==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "decode-named-character-reference": "^1.0.0",
        "micromark-util-character": "^2.0.0",
        "micromark-util-decode-numeric-character-reference": "^2.0.0",
        "micromark-util-symbol": "^2.0.0"
      }
    },
    "node_modules/micromark-util-encode": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/micromark-util-encode/-/micromark-util-encode-2.0.1.tgz",
      "integrity": "sha512-c3cVx2y4KqUnwopcO9b/SCdo2O67LwJJ/UyqGfbigahfegL9myoEFoDYZgkT7f36T0bLrM9hZTAaAyH+PCAXjw==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT"
    },
    "node_modules/micromark-util-html-tag-name": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/micromark-util-html-tag-name/-/micromark-util-html-tag-name-2.0.1.tgz",
      "integrity": "sha512-2cNEiYDhCWKI+Gs9T0Tiysk136SnR13hhO8yW6BGNyhOC4qYFnwF1nKfD3HFAIXA5c45RrIG1ub11GiXeYd1xA==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT"
    },
    "node_modules/micromark-util-normalize-identifier": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/micromark-util-normalize-identifier/-/micromark-util-normalize-identifier-2.0.1.tgz",
      "integrity": "sha512-sxPqmo70LyARJs0w2UclACPUUEqltCkJ6PhKdMIDuJ3gSf/Q+/GIe3WKl0Ijb/GyH9lOpUkRAO2wp0GVkLvS9Q==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-util-symbol": "^2.0.0"
      }
    },
    "node_modules/micromark-util-resolve-all": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/micromark-util-resolve-all/-/micromark-util-resolve-all-2.0.1.tgz",
      "integrity": "sha512-VdQyxFWFT2/FGJgwQnJYbe1jjQoNTS4RjglmSjTUlpUMa95Htx9NHeYW4rGDJzbjvCsl9eLjMQwGeElsqmzcHg==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-util-types": "^2.0.0"
      }
    },
    "node_modules/micromark-util-sanitize-uri": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/micromark-util-sanitize-uri/-/micromark-util-sanitize-uri-2.0.1.tgz",
      "integrity": "sha512-9N9IomZ/YuGGZZmQec1MbgxtlgougxTodVwDzzEouPKo3qFWvymFHWcnDi2vzV1ff6kas9ucW+o3yzJK9YB1AQ==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "micromark-util-character": "^2.0.0",
        "micromark-util-encode": "^2.0.0",
        "micromark-util-symbol": "^2.0.0"
      }
    },
    "node_modules/micromark-util-subtokenize": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/micromark-util-subtokenize/-/micromark-util-subtokenize-2.1.0.tgz",
      "integrity": "sha512-XQLu552iSctvnEcgXw6+Sx75GflAPNED1qx7eBJ+wydBb2KCbRZe+NwvIEEMM83uml1+2WSXpBAcp9IUCgCYWA==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "devlop": "^1.0.0",
        "micromark-util-chunked": "^2.0.0",
        "micromark-util-symbol": "^2.0.0",
        "micromark-util-types": "^2.0.0"
      }
    },
    "node_modules/micromark-util-symbol": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/micromark-util-symbol/-/micromark-util-symbol-2.0.1.tgz",
      "integrity": "sha512-vs5t8Apaud9N28kgCrRUdEed4UJ+wWNvicHLPxCa9ENlYuAY31M0ETy5y1vA33YoNPDFTghEbnh6efaE8h4x0Q==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT"
    },
    "node_modules/micromark-util-types": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/micromark-util-types/-/micromark-util-types-2.0.2.tgz",
      "integrity": "sha512-Yw0ECSpJoViF1qTU4DC6NwtC4aWGt1EkzaQB8KPPyCRR8z9TWeV0HbEFGTO+ZY1wB22zmxnJqhPyTpOVCpeHTA==",
      "funding": [
        {
          "type": "GitHub Sponsors",
          "url": "https://github.com/sponsors/unifiedjs"
        },
        {
          "type": "OpenCollective",
          "url": "https://opencollective.com/unified"
        }
      ],
      "license": "MIT"
    },
    "node_modules/micromatch": {
      "version": "4.0.8",
      "resolved": "https://registry.npmjs.org/micromatch/-/micromatch-4.0.8.tgz",
      "integrity": "sha512-PXwfBhYu0hBCPw8Dn0E+WDYb7af3dSLVWKi3HGv84IdF4TyFoC0ysxFd0Goxw7nSv4T/PzEJQxsYsEiFCKo2BA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "braces": "^3.0.3",
        "picomatch": "^2.3.1"
      },
      "engines": {
        "node": ">=8.6"
      }
    },
    "node_modules/mime-db": {
      "version": "1.52.0",
      "resolved": "https://registry.npmjs.org/mime-db/-/mime-db-1.52.0.tgz",
      "integrity": "sha512-sPU4uV7dYlvtWJxwwxHD0PuihVNiE7TyAbQ5SWxDCB9mUYvOgroQOwYQQOKPJ8CIbE+1ETVlOoK1UC2nU3gYvg==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.6"
      }
    },
    "node_modules/mime-types": {
      "version": "2.1.35",
      "resolved": "https://registry.npmjs.org/mime-types/-/mime-types-2.1.35.tgz",
      "integrity": "sha512-ZDY+bPm5zTTF+YpCrAU9nK0UgICYPT0QtT1NZWFv4s++TNkcgVaT0g6+4R2uI4MjQjzysHB1zxuWL50hzaeXiw==",
      "license": "MIT",
      "dependencies": {
        "mime-db": "1.52.0"
      },
      "engines": {
        "node": ">= 0.6"
      }
    },
    "node_modules/minimatch": {
      "version": "3.1.2",
      "resolved": "https://registry.npmjs.org/minimatch/-/minimatch-3.1.2.tgz",
      "integrity": "sha512-J7p63hRiAjw1NDEww1W7i37+ByIrOWO5XQQAzZ3VOcL0PNybwpfmV/N05zFAzwQ9USyEcX6t3UO+K5aqBQOIHw==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "brace-expansion": "^1.1.7"
      },
      "engines": {
        "node": "*"
      }
    },
    "node_modules/minipass": {
      "version": "7.1.2",
      "resolved": "https://registry.npmjs.org/minipass/-/minipass-7.1.2.tgz",
      "integrity": "sha512-qOOzS1cBTWYF4BH8fVePDBOO9iptMnGUEZwNc/cMWnTV2nVLZ7VoNWEPHkYczZA0pdoA7dl6e7FL659nX9S2aw==",
      "dev": true,
      "license": "ISC",
      "engines": {
        "node": ">=16 || 14 >=14.17"
      }
    },
    "node_modules/ms": {
      "version": "2.1.3",
      "resolved": "https://registry.npmjs.org/ms/-/ms-2.1.3.tgz",
      "integrity": "sha512-6FlzubTLZG3J2a/NVCAleEhjzq5oxgHyaCU9yYXvcLsvoVaHJq/s5xXI6/XXP6tz7R9xAOtHnSO/tXtF3WRTlA==",
      "license": "MIT"
    },
    "node_modules/mz": {
      "version": "2.7.0",
      "resolved": "https://registry.npmjs.org/mz/-/mz-2.7.0.tgz",
      "integrity": "sha512-z81GNO7nnYMEhrGh9LeymoE4+Yr0Wn5McHIZMK5cfQCl+NDX08sCZgUc9/6MHni9IWuFLm1Z3HTCXu2z9fN62Q==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "any-promise": "^1.0.0",
        "object-assign": "^4.0.1",
        "thenify-all": "^1.0.0"
      }
    },
    "node_modules/nanoid": {
      "version": "3.3.11",
      "resolved": "https://registry.npmjs.org/nanoid/-/nanoid-3.3.11.tgz",
      "integrity": "sha512-N8SpfPUnUp1bK+PMYW8qSWdl9U+wwNWI4QKxOYDy9JAro3WMX7p2OeVRF9v+347pnakNevPmiHhNmZ2HbFA76w==",
      "dev": true,
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "bin": {
        "nanoid": "bin/nanoid.cjs"
      },
      "engines": {
        "node": "^10 || ^12 || ^13.7 || ^14 || >=15.0.1"
      }
    },
    "node_modules/natural-compare": {
      "version": "1.4.0",
      "resolved": "https://registry.npmjs.org/natural-compare/-/natural-compare-1.4.0.tgz",
      "integrity": "sha512-OWND8ei3VtNC9h7V60qff3SVobHr996CTwgxubgyQYEpg290h9J0buyECNNJexkFm5sOajh5G116RYA1c8ZMSw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/next-themes": {
      "version": "0.3.0",
      "resolved": "https://registry.npmjs.org/next-themes/-/next-themes-0.3.0.tgz",
      "integrity": "sha512-/QHIrsYpd6Kfk7xakK4svpDI5mmXP0gfvCoJdGpZQ2TOrQZmsW0QxjaiLn8wbIKjtm4BTSqLoix4lxYYOnLJ/w==",
      "license": "MIT",
      "peerDependencies": {
        "react": "^16.8 || ^17 || ^18",
        "react-dom": "^16.8 || ^17 || ^18"
      }
    },
    "node_modules/node-releases": {
      "version": "2.0.19",
      "resolved": "https://registry.npmjs.org/node-releases/-/node-releases-2.0.19.tgz",
      "integrity": "sha512-xxOWJsBKtzAq7DY0J+DTzuz58K8e7sJbdgwkbMWQe8UYB6ekmsQ45q0M/tJDsGaZmbC+l7n57UV8Hl5tHxO9uw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/normalize-path": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/normalize-path/-/normalize-path-3.0.0.tgz",
      "integrity": "sha512-6eZs5Ls3WtCisHWp9S2GUy8dqkpGi4BVSz3GaqiE6ezub0512ESztXUwUB6C6IKbQkY2Pnb/mD4WYojCRwcwLA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/normalize-range": {
      "version": "0.1.2",
      "resolved": "https://registry.npmjs.org/normalize-range/-/normalize-range-0.1.2.tgz",
      "integrity": "sha512-bdok/XvKII3nUpklnV6P2hxtMNrCboOjAcyBuQnWEhO665FwrSNRxU+AqpsyvO6LgGYPspN+lu5CLtw4jPRKNA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/object-assign": {
      "version": "4.1.1",
      "resolved": "https://registry.npmjs.org/object-assign/-/object-assign-4.1.1.tgz",
      "integrity": "sha512-rJgTQnkUnH1sFw8yT6VSU3zD3sWmu6sZhIseY8VX+GRu3P6F7Fu+JNDoXfklElbLJSnc3FUQHVe4cU5hj+BcUg==",
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/object-hash": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/object-hash/-/object-hash-3.0.0.tgz",
      "integrity": "sha512-RSn9F68PjH9HqtltsSnqYC1XXoWe9Bju5+213R98cNGttag9q9yAOTzdbsqvIa7aNm5WffBZFpWYr2aWrklWAw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 6"
      }
    },
    "node_modules/optionator": {
      "version": "0.9.4",
      "resolved": "https://registry.npmjs.org/optionator/-/optionator-0.9.4.tgz",
      "integrity": "sha512-6IpQ7mKUxRcZNLIObR0hz7lxsapSSIYNZJwXPGeF0mTVqGKFIXj1DQcMoT22S3ROcLyY/rz0PWaWZ9ayWmad9g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "deep-is": "^0.1.3",
        "fast-levenshtein": "^2.0.6",
        "levn": "^0.4.1",
        "prelude-ls": "^1.2.1",
        "type-check": "^0.4.0",
        "word-wrap": "^1.2.5"
      },
      "engines": {
        "node": ">= 0.8.0"
      }
    },
    "node_modules/p-limit": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/p-limit/-/p-limit-3.1.0.tgz",
      "integrity": "sha512-TYOanM3wGwNGsZN2cVTYPArw454xnXj5qmWF1bEoAc4+cU/ol7GVh7odevjp1FNHduHc3KZMcFduxU5Xc6uJRQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "yocto-queue": "^0.1.0"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/p-locate": {
      "version": "5.0.0",
      "resolved": "https://registry.npmjs.org/p-locate/-/p-locate-5.0.0.tgz",
      "integrity": "sha512-LaNjtRWUBY++zB5nE/NwcaoMylSPk+S+ZHNB1TzdbMJMny6dynpAGt7X/tl/QYq3TIeE6nxHppbo2LGymrG5Pw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "p-limit": "^3.0.2"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/package-json-from-dist": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/package-json-from-dist/-/package-json-from-dist-1.0.1.tgz",
      "integrity": "sha512-UEZIS3/by4OC8vL3P2dTXRETpebLI2NiI5vIrjaD/5UtrkFX/tNbwjTSRAGC/+7CAo2pIcBaRgWmcBBHcsaCIw==",
      "dev": true,
      "license": "BlueOak-1.0.0"
    },
    "node_modules/parent-module": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/parent-module/-/parent-module-1.0.1.tgz",
      "integrity": "sha512-GQ2EWRpQV8/o+Aw8YqtfZZPfNRWZYkbidE9k5rpl/hC3vtHHBfGm2Ifi6qWV+coDGkrUKZAxE3Lot5kcsRlh+g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "callsites": "^3.0.0"
      },
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/parse-entities": {
      "version": "4.0.2",
      "resolved": "https://registry.npmjs.org/parse-entities/-/parse-entities-4.0.2.tgz",
      "integrity": "sha512-GG2AQYWoLgL877gQIKeRPGO1xF9+eG1ujIb5soS5gPvLQ1y2o8FL90w2QWNdf9I361Mpp7726c+lj3U0qK1uGw==",
      "license": "MIT",
      "dependencies": {
        "@types/unist": "^2.0.0",
        "character-entities-legacy": "^3.0.0",
        "character-reference-invalid": "^2.0.0",
        "decode-named-character-reference": "^1.0.0",
        "is-alphanumerical": "^2.0.0",
        "is-decimal": "^2.0.0",
        "is-hexadecimal": "^2.0.0"
      },
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/parse-entities/node_modules/@types/unist": {
      "version": "2.0.11",
      "resolved": "https://registry.npmjs.org/@types/unist/-/unist-2.0.11.tgz",
      "integrity": "sha512-CmBKiL6NNo/OqgmMn95Fk9Whlp2mtvIv+KNpQKN2F4SjvrEesubTRWGYSg+BnWZOnlCaSTU1sMpsBOzgbYhnsA==",
      "license": "MIT"
    },
    "node_modules/path-exists": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/path-exists/-/path-exists-4.0.0.tgz",
      "integrity": "sha512-ak9Qy5Q7jYb2Wwcey5Fpvg2KoAc/ZIhLSLOSBmRmygPsGwkVVt0fZa0qrtMz+m6tJTAHfZQ8FnmB4MG4LWy7/w==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/path-key": {
      "version": "3.1.1",
      "resolved": "https://registry.npmjs.org/path-key/-/path-key-3.1.1.tgz",
      "integrity": "sha512-ojmeN0qd+y0jszEtoY48r0Peq5dwMEkIlCOu6Q5f41lfkswXuKtYrhgoTpLnyIcHm24Uhqx+5Tqm2InSwLhE6Q==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/path-parse": {
      "version": "1.0.7",
      "resolved": "https://registry.npmjs.org/path-parse/-/path-parse-1.0.7.tgz",
      "integrity": "sha512-LDJzPVEEEPR+y48z93A0Ed0yXb8pAByGWo/k5YYdYgpY2/2EsOsksJrq7lOHxryrVOn1ejG6oAp8ahvOIQD8sw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/path-scurry": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/path-scurry/-/path-scurry-1.11.1.tgz",
      "integrity": "sha512-Xa4Nw17FS9ApQFJ9umLiJS4orGjm7ZzwUrwamcGQuHSzDyth9boKDaycYdDcZDuqYATXw4HFXgaqWTctW/v1HA==",
      "dev": true,
      "license": "BlueOak-1.0.0",
      "dependencies": {
        "lru-cache": "^10.2.0",
        "minipass": "^5.0.0 || ^6.0.2 || ^7.0.0"
      },
      "engines": {
        "node": ">=16 || 14 >=14.18"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/picocolors": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/picocolors/-/picocolors-1.1.1.tgz",
      "integrity": "sha512-xceH2snhtb5M9liqDsmEw56le376mTZkEX/jEb/RxNFyegNul7eNslCXP9FDj/Lcu0X8KEyMceP2ntpaHrDEVA==",
      "dev": true,
      "license": "ISC"
    },
    "node_modules/picomatch": {
      "version": "2.3.1",
      "resolved": "https://registry.npmjs.org/picomatch/-/picomatch-2.3.1.tgz",
      "integrity": "sha512-JU3teHTNjmE2VCGFzuY8EXzCDVwEqB2a8fsIvwaStHhAWJEeVd1o1QD80CU6+ZdEXXSLbSsuLwJjkCBWqRQUVA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8.6"
      },
      "funding": {
        "url": "https://github.com/sponsors/jonschlinkert"
      }
    },
    "node_modules/pify": {
      "version": "2.3.0",
      "resolved": "https://registry.npmjs.org/pify/-/pify-2.3.0.tgz",
      "integrity": "sha512-udgsAY+fTnvv7kI7aaxbqwWNb0AHiB0qBO89PZKPkoTmGOgdbrHDKD+0B2X4uTfJ/FT1R09r9gTsjUjNJotuog==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/pirates": {
      "version": "4.0.6",
      "resolved": "https://registry.npmjs.org/pirates/-/pirates-4.0.6.tgz",
      "integrity": "sha512-saLsH7WeYYPiD25LDuLRRY/i+6HaPYr6G1OUlN39otzkSTxKnubR9RTxS3/Kk50s1g2JTgFwWQDQyplC5/SHZg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 6"
      }
    },
    "node_modules/playwright": {
      "version": "1.57.0",
      "resolved": "https://registry.npmjs.org/playwright/-/playwright-1.57.0.tgz",
      "integrity": "sha512-ilYQj1s8sr2ppEJ2YVadYBN0Mb3mdo9J0wQ+UuDhzYqURwSoW4n1Xs5vs7ORwgDGmyEh33tRMeS8KhdkMoLXQw==",
      "dev": true,
      "license": "Apache-2.0",
      "dependencies": {
        "playwright-core": "1.57.0"
      },
      "bin": {
        "playwright": "cli.js"
      },
      "engines": {
        "node": ">=18"
      },
      "optionalDependencies": {
        "fsevents": "2.3.2"
      }
    },
    "node_modules/playwright-core": {
      "version": "1.57.0",
      "resolved": "https://registry.npmjs.org/playwright-core/-/playwright-core-1.57.0.tgz",
      "integrity": "sha512-agTcKlMw/mjBWOnD6kFZttAAGHgi/Nw0CZ2o6JqWSbMlI219lAFLZZCyqByTsvVAJq5XA5H8cA6PrvBRpBWEuQ==",
      "dev": true,
      "license": "Apache-2.0",
      "bin": {
        "playwright-core": "cli.js"
      },
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/playwright/node_modules/fsevents": {
      "version": "2.3.2",
      "resolved": "https://registry.npmjs.org/fsevents/-/fsevents-2.3.2.tgz",
      "integrity": "sha512-xiqMQR4xAeHTuB9uWm+fFRcIOgKBMiOBP+eXiyT7jsgVCq1bkVygt00oASowB7EdtpOHaaPgKt812P9ab+DDKA==",
      "dev": true,
      "hasInstallScript": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": "^8.16.0 || ^10.6.0 || >=11.0.0"
      }
    },
    "node_modules/postcss": {
      "version": "8.5.6",
      "resolved": "https://registry.npmjs.org/postcss/-/postcss-8.5.6.tgz",
      "integrity": "sha512-3Ybi1tAuwAP9s0r1UQ2J4n5Y0G05bJkpUIO0/bI9MhwmD70S5aTWbXGBwxHrelT+XM1k6dM0pk+SwNkpTRN7Pg==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/postcss/"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/postcss"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "nanoid": "^3.3.11",
        "picocolors": "^1.1.1",
        "source-map-js": "^1.2.1"
      },
      "engines": {
        "node": "^10 || ^12 || >=14"
      }
    },
    "node_modules/postcss-import": {
      "version": "15.1.0",
      "resolved": "https://registry.npmjs.org/postcss-import/-/postcss-import-15.1.0.tgz",
      "integrity": "sha512-hpr+J05B2FVYUAXHeK1YyI267J/dDDhMU6B6civm8hSY1jYJnBXxzKDKDswzJmtLHryrjhnDjqqp/49t8FALew==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "postcss-value-parser": "^4.0.0",
        "read-cache": "^1.0.0",
        "resolve": "^1.1.7"
      },
      "engines": {
        "node": ">=14.0.0"
      },
      "peerDependencies": {
        "postcss": "^8.0.0"
      }
    },
    "node_modules/postcss-js": {
      "version": "4.0.1",
      "resolved": "https://registry.npmjs.org/postcss-js/-/postcss-js-4.0.1.tgz",
      "integrity": "sha512-dDLF8pEO191hJMtlHFPRa8xsizHaM82MLfNkUHdUtVEV3tgTp5oj+8qbEqYM57SLfc74KSbw//4SeJma2LRVIw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "camelcase-css": "^2.0.1"
      },
      "engines": {
        "node": "^12 || ^14 || >= 16"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/postcss/"
      },
      "peerDependencies": {
        "postcss": "^8.4.21"
      }
    },
    "node_modules/postcss-load-config": {
      "version": "4.0.2",
      "resolved": "https://registry.npmjs.org/postcss-load-config/-/postcss-load-config-4.0.2.tgz",
      "integrity": "sha512-bSVhyJGL00wMVoPUzAVAnbEoWyqRxkjv64tUl427SKnPrENtq6hJwUojroMz2VB+Q1edmi4IfrAPpami5VVgMQ==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/postcss/"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "lilconfig": "^3.0.0",
        "yaml": "^2.3.4"
      },
      "engines": {
        "node": ">= 14"
      },
      "peerDependencies": {
        "postcss": ">=8.0.9",
        "ts-node": ">=9.0.0"
      },
      "peerDependenciesMeta": {
        "postcss": {
          "optional": true
        },
        "ts-node": {
          "optional": true
        }
      }
    },
    "node_modules/postcss-nested": {
      "version": "6.2.0",
      "resolved": "https://registry.npmjs.org/postcss-nested/-/postcss-nested-6.2.0.tgz",
      "integrity": "sha512-HQbt28KulC5AJzG+cZtj9kvKB93CFCdLvog1WFLf1D+xmMvPGlBstkpTEZfK5+AN9hfJocyBFCNiqyS48bpgzQ==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/postcss/"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "postcss-selector-parser": "^6.1.1"
      },
      "engines": {
        "node": ">=12.0"
      },
      "peerDependencies": {
        "postcss": "^8.2.14"
      }
    },
    "node_modules/postcss-selector-parser": {
      "version": "6.1.2",
      "resolved": "https://registry.npmjs.org/postcss-selector-parser/-/postcss-selector-parser-6.1.2.tgz",
      "integrity": "sha512-Q8qQfPiZ+THO/3ZrOrO0cJJKfpYCagtMUkXbnEfmgUjwXg6z/WBeOyS9APBBPCTSiDV+s4SwQGu8yFsiMRIudg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "cssesc": "^3.0.0",
        "util-deprecate": "^1.0.2"
      },
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/postcss-value-parser": {
      "version": "4.2.0",
      "resolved": "https://registry.npmjs.org/postcss-value-parser/-/postcss-value-parser-4.2.0.tgz",
      "integrity": "sha512-1NNCs6uurfkVbeXG4S8JFT9t19m45ICnif8zWLd5oPSZ50QnwMfK+H3jv408d4jw/7Bttv5axS5IiHoLaVNHeQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/prelude-ls": {
      "version": "1.2.1",
      "resolved": "https://registry.npmjs.org/prelude-ls/-/prelude-ls-1.2.1.tgz",
      "integrity": "sha512-vkcDPrRZo1QZLbn5RLGPpg/WmIQ65qoWWhcGKf/b5eplkkarX0m9z8ppCat4mlOqUsWpyNuYgO3VRyrYHSzX5g==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 0.8.0"
      }
    },
    "node_modules/prop-types": {
      "version": "15.8.1",
      "resolved": "https://registry.npmjs.org/prop-types/-/prop-types-15.8.1.tgz",
      "integrity": "sha512-oj87CgZICdulUohogVAR7AjlC0327U4el4L6eAvOqCeudMDVU0NThNaV+b9Df4dXgSP1gXMTnPdhfe/2qDH5cg==",
      "license": "MIT",
      "dependencies": {
        "loose-envify": "^1.4.0",
        "object-assign": "^4.1.1",
        "react-is": "^16.13.1"
      }
    },
    "node_modules/prop-types/node_modules/react-is": {
      "version": "16.13.1",
      "resolved": "https://registry.npmjs.org/react-is/-/react-is-16.13.1.tgz",
      "integrity": "sha512-24e6ynE2H+OKt4kqsOvNd8kBpV65zoxbA4BVsEOB3ARVWQki/DHzaUoC5KuON/BiccDaCCTZBuOcfZs70kR8bQ==",
      "license": "MIT"
    },
    "node_modules/property-information": {
      "version": "7.1.0",
      "resolved": "https://registry.npmjs.org/property-information/-/property-information-7.1.0.tgz",
      "integrity": "sha512-TwEZ+X+yCJmYfL7TPUOcvBZ4QfoT5YenQiJuX//0th53DE6w0xxLEtfK3iyryQFddXuvkIk51EEgrJQ0WJkOmQ==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/proxy-from-env": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/proxy-from-env/-/proxy-from-env-1.1.0.tgz",
      "integrity": "sha512-D+zkORCbA9f1tdWRK0RaCR3GPv50cMxcrz4X8k5LTSUD1Dkw47mKJEZQNunItRTkWwgtaUSo1RVFRIG9ZXiFYg==",
      "license": "MIT"
    },
    "node_modules/punycode": {
      "version": "2.3.1",
      "resolved": "https://registry.npmjs.org/punycode/-/punycode-2.3.1.tgz",
      "integrity": "sha512-vYt7UD1U9Wg6138shLtLOvdAu+8DsC/ilFtEVHcH+wydcSpNE20AfSOduf6MkRFahL5FY7X1oU7nKVZFtfq8Fg==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/queue-microtask": {
      "version": "1.2.3",
      "resolved": "https://registry.npmjs.org/queue-microtask/-/queue-microtask-1.2.3.tgz",
      "integrity": "sha512-NuaNSa6flKT5JaSYQzJok04JzTL1CA6aGhv5rfLW3PgqA+M2ChpZQnAC8h8i4ZFkBS8X5RqkDBHA7r4hej3K9A==",
      "dev": true,
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/feross"
        },
        {
          "type": "patreon",
          "url": "https://www.patreon.com/feross"
        },
        {
          "type": "consulting",
          "url": "https://feross.org/support"
        }
      ],
      "license": "MIT"
    },
    "node_modules/react": {
      "version": "18.3.1",
      "resolved": "https://registry.npmjs.org/react/-/react-18.3.1.tgz",
      "integrity": "sha512-wS+hAgJShR0KhEvPJArfuPVN1+Hz1t0Y6n5jLrGQbkb4urgPE/0Rve+1kMB1v/oWgHgm4WIcV+i7F2pTVj+2iQ==",
      "license": "MIT",
      "dependencies": {
        "loose-envify": "^1.1.0"
      },
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/react-chartjs-2": {
      "version": "5.3.1",
      "resolved": "https://registry.npmjs.org/react-chartjs-2/-/react-chartjs-2-5.3.1.tgz",
      "integrity": "sha512-h5IPXKg9EXpjoBzUfyWJvllMjG2mQ4EiuHQFhms/AjUm0XSZHhyRy2xVmLXHKrtcdrPO4mnGqRtYoD0vp95A0A==",
      "license": "MIT",
      "peerDependencies": {
        "chart.js": "^4.1.1",
        "react": "^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0"
      }
    },
    "node_modules/react-day-picker": {
      "version": "8.10.1",
      "resolved": "https://registry.npmjs.org/react-day-picker/-/react-day-picker-8.10.1.tgz",
      "integrity": "sha512-TMx7fNbhLk15eqcMt+7Z7S2KF7mfTId/XJDjKE8f+IUcFn0l08/kI4FiYTL/0yuOLmEcbR4Fwe3GJf/NiiMnPA==",
      "license": "MIT",
      "funding": {
        "type": "individual",
        "url": "https://github.com/sponsors/gpbl"
      },
      "peerDependencies": {
        "date-fns": "^2.28.0 || ^3.0.0",
        "react": "^16.8.0 || ^17.0.0 || ^18.0.0"
      }
    },
    "node_modules/react-dom": {
      "version": "18.3.1",
      "resolved": "https://registry.npmjs.org/react-dom/-/react-dom-18.3.1.tgz",
      "integrity": "sha512-5m4nQKp+rZRb09LNH59GM4BxTh9251/ylbKIbpe7TpGxfJ+9kv6BLkLBXIjjspbgbnIBNqlI23tRnTWT0snUIw==",
      "license": "MIT",
      "dependencies": {
        "loose-envify": "^1.1.0",
        "scheduler": "^0.23.2"
      },
      "peerDependencies": {
        "react": "^18.3.1"
      }
    },
    "node_modules/react-hook-form": {
      "version": "7.61.1",
      "resolved": "https://registry.npmjs.org/react-hook-form/-/react-hook-form-7.61.1.tgz",
      "integrity": "sha512-2vbXUFDYgqEgM2RcXcAT2PwDW/80QARi+PKmHy5q2KhuKvOlG8iIYgf7eIlIANR5trW9fJbP4r5aub3a4egsew==",
      "license": "MIT",
      "engines": {
        "node": ">=18.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/react-hook-form"
      },
      "peerDependencies": {
        "react": "^16.8.0 || ^17 || ^18 || ^19"
      }
    },
    "node_modules/react-is": {
      "version": "18.3.1",
      "resolved": "https://registry.npmjs.org/react-is/-/react-is-18.3.1.tgz",
      "integrity": "sha512-/LLMVyas0ljjAtoYiPqYiL8VWXzUUdThrmU5+n20DZv+a+ClRoevUzw5JxU+Ieh5/c87ytoTBV9G1FiKfNJdmg==",
      "license": "MIT"
    },
    "node_modules/react-markdown": {
      "version": "9.1.0",
      "resolved": "https://registry.npmjs.org/react-markdown/-/react-markdown-9.1.0.tgz",
      "integrity": "sha512-xaijuJB0kzGiUdG7nc2MOMDUDBWPyGAjZtUrow9XxUeua8IqeP+VlIfAZ3bphpcLTnSZXz6z9jcVC/TCwbfgdw==",
      "license": "MIT",
      "dependencies": {
        "@types/hast": "^3.0.0",
        "@types/mdast": "^4.0.0",
        "devlop": "^1.0.0",
        "hast-util-to-jsx-runtime": "^2.0.0",
        "html-url-attributes": "^3.0.0",
        "mdast-util-to-hast": "^13.0.0",
        "remark-parse": "^11.0.0",
        "remark-rehype": "^11.0.0",
        "unified": "^11.0.0",
        "unist-util-visit": "^5.0.0",
        "vfile": "^6.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      },
      "peerDependencies": {
        "@types/react": ">=18",
        "react": ">=18"
      }
    },
    "node_modules/react-remove-scroll": {
      "version": "2.7.1",
      "resolved": "https://registry.npmjs.org/react-remove-scroll/-/react-remove-scroll-2.7.1.tgz",
      "integrity": "sha512-HpMh8+oahmIdOuS5aFKKY6Pyog+FNaZV/XyJOq7b4YFwsFHe5yYfdbIalI4k3vU2nSDql7YskmUseHsRrJqIPA==",
      "license": "MIT",
      "dependencies": {
        "react-remove-scroll-bar": "^2.3.7",
        "react-style-singleton": "^2.2.3",
        "tslib": "^2.1.0",
        "use-callback-ref": "^1.3.3",
        "use-sidecar": "^1.1.3"
      },
      "engines": {
        "node": ">=10"
      },
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/react-remove-scroll-bar": {
      "version": "2.3.8",
      "resolved": "https://registry.npmjs.org/react-remove-scroll-bar/-/react-remove-scroll-bar-2.3.8.tgz",
      "integrity": "sha512-9r+yi9+mgU33AKcj6IbT9oRCO78WriSj6t/cF8DWBZJ9aOGPOTEDvdUDz1FwKim7QXWwmHqtdHnRJfhAxEG46Q==",
      "license": "MIT",
      "dependencies": {
        "react-style-singleton": "^2.2.2",
        "tslib": "^2.0.0"
      },
      "engines": {
        "node": ">=10"
      },
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/react-resizable-panels": {
      "version": "2.1.9",
      "resolved": "https://registry.npmjs.org/react-resizable-panels/-/react-resizable-panels-2.1.9.tgz",
      "integrity": "sha512-z77+X08YDIrgAes4jl8xhnUu1LNIRp4+E7cv4xHmLOxxUPO/ML7PSrE813b90vj7xvQ1lcf7g2uA9GeMZonjhQ==",
      "license": "MIT",
      "peerDependencies": {
        "react": "^16.14.0 || ^17.0.0 || ^18.0.0 || ^19.0.0 || ^19.0.0-rc",
        "react-dom": "^16.14.0 || ^17.0.0 || ^18.0.0 || ^19.0.0 || ^19.0.0-rc"
      }
    },
    "node_modules/react-router": {
      "version": "6.30.1",
      "resolved": "https://registry.npmjs.org/react-router/-/react-router-6.30.1.tgz",
      "integrity": "sha512-X1m21aEmxGXqENEPG3T6u0Th7g0aS4ZmoNynhbs+Cn+q+QGTLt+d5IQ2bHAXKzKcxGJjxACpVbnYQSCRcfxHlQ==",
      "license": "MIT",
      "dependencies": {
        "@remix-run/router": "1.23.0"
      },
      "engines": {
        "node": ">=14.0.0"
      },
      "peerDependencies": {
        "react": ">=16.8"
      }
    },
    "node_modules/react-router-dom": {
      "version": "6.30.1",
      "resolved": "https://registry.npmjs.org/react-router-dom/-/react-router-dom-6.30.1.tgz",
      "integrity": "sha512-llKsgOkZdbPU1Eg3zK8lCn+sjD9wMRZZPuzmdWWX5SUs8OFkN5HnFVC0u5KMeMaC9aoancFI/KoLuKPqN+hxHw==",
      "license": "MIT",
      "dependencies": {
        "@remix-run/router": "1.23.0",
        "react-router": "6.30.1"
      },
      "engines": {
        "node": ">=14.0.0"
      },
      "peerDependencies": {
        "react": ">=16.8",
        "react-dom": ">=16.8"
      }
    },
    "node_modules/react-smooth": {
      "version": "4.0.4",
      "resolved": "https://registry.npmjs.org/react-smooth/-/react-smooth-4.0.4.tgz",
      "integrity": "sha512-gnGKTpYwqL0Iii09gHobNolvX4Kiq4PKx6eWBCYYix+8cdw+cGo3do906l1NBPKkSWx1DghC1dlWG9L2uGd61Q==",
      "license": "MIT",
      "dependencies": {
        "fast-equals": "^5.0.1",
        "prop-types": "^15.8.1",
        "react-transition-group": "^4.4.5"
      },
      "peerDependencies": {
        "react": "^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0",
        "react-dom": "^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0"
      }
    },
    "node_modules/react-style-singleton": {
      "version": "2.2.3",
      "resolved": "https://registry.npmjs.org/react-style-singleton/-/react-style-singleton-2.2.3.tgz",
      "integrity": "sha512-b6jSvxvVnyptAiLjbkWLE/lOnR4lfTtDAl+eUC7RZy+QQWc6wRzIV2CE6xBuMmDxc2qIihtDCZD5NPOFl7fRBQ==",
      "license": "MIT",
      "dependencies": {
        "get-nonce": "^1.0.0",
        "tslib": "^2.0.0"
      },
      "engines": {
        "node": ">=10"
      },
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/react-transition-group": {
      "version": "4.4.5",
      "resolved": "https://registry.npmjs.org/react-transition-group/-/react-transition-group-4.4.5.tgz",
      "integrity": "sha512-pZcd1MCJoiKiBR2NRxeCRg13uCXbydPnmB4EOeRrY7480qNWO8IIgQG6zlDkm6uRMsURXPuKq0GWtiM59a5Q6g==",
      "license": "BSD-3-Clause",
      "dependencies": {
        "@babel/runtime": "^7.5.5",
        "dom-helpers": "^5.0.1",
        "loose-envify": "^1.4.0",
        "prop-types": "^15.6.2"
      },
      "peerDependencies": {
        "react": ">=16.6.0",
        "react-dom": ">=16.6.0"
      }
    },
    "node_modules/react-wordcloud": {
      "version": "1.2.7",
      "resolved": "https://registry.npmjs.org/react-wordcloud/-/react-wordcloud-1.2.7.tgz",
      "integrity": "sha512-pyXvL8Iu2J258Qk2/kAwY23dIVhNpMC3dnvbXRkw5+Ert5EkJWwnwVjs9q8CmX38NWbfCKhGmpjuumBoQEtniw==",
      "license": "MIT",
      "dependencies": {
        "d3-array": "^2.5.0",
        "d3-cloud": "^1.2.5",
        "d3-dispatch": "^1.0.6",
        "d3-scale": "^3.2.1",
        "d3-scale-chromatic": "^1.5.0",
        "d3-selection": "1.4.2",
        "d3-transition": "^1.3.2",
        "lodash.clonedeep": "^4.5.0",
        "lodash.debounce": "^4.0.8",
        "resize-observer-polyfill": "^1.5.1",
        "seedrandom": "^3.0.5",
        "tippy.js": "^6.2.6"
      },
      "peerDependencies": {
        "react": "^16.13.0"
      }
    },
    "node_modules/react-wordcloud/node_modules/d3-array": {
      "version": "2.12.1",
      "resolved": "https://registry.npmjs.org/d3-array/-/d3-array-2.12.1.tgz",
      "integrity": "sha512-B0ErZK/66mHtEsR1TkPEEkwdy+WDesimkM5gpZr5Dsg54BiTA5RXtYW5qTLIAcekaS9xfZrzBLF/OAkB3Qn1YQ==",
      "license": "BSD-3-Clause",
      "dependencies": {
        "internmap": "^1.0.0"
      }
    },
    "node_modules/react-wordcloud/node_modules/d3-color": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/d3-color/-/d3-color-2.0.0.tgz",
      "integrity": "sha512-SPXi0TSKPD4g9tw0NMZFnR95XVgUZiBH+uUTqQuDu1OsE2zomHU7ho0FISciaPvosimixwHFl3WHLGabv6dDgQ==",
      "license": "BSD-3-Clause"
    },
    "node_modules/react-wordcloud/node_modules/d3-format": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/d3-format/-/d3-format-2.0.0.tgz",
      "integrity": "sha512-Ab3S6XuE/Q+flY96HXT0jOXcM4EAClYFnRGY5zsjRGNy6qCYrQsMffs7cV5Q9xejb35zxW5hf/guKw34kvIKsA==",
      "license": "BSD-3-Clause"
    },
    "node_modules/react-wordcloud/node_modules/d3-interpolate": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/d3-interpolate/-/d3-interpolate-2.0.1.tgz",
      "integrity": "sha512-c5UhwwTs/yybcmTpAVqwSFl6vrQ8JZJoT5F7xNFK9pymv5C0Ymcc9/LIJHtYIggg/yS9YHw8i8O8tgb9pupjeQ==",
      "license": "BSD-3-Clause",
      "dependencies": {
        "d3-color": "1 - 2"
      }
    },
    "node_modules/react-wordcloud/node_modules/d3-scale": {
      "version": "3.3.0",
      "resolved": "https://registry.npmjs.org/d3-scale/-/d3-scale-3.3.0.tgz",
      "integrity": "sha512-1JGp44NQCt5d1g+Yy+GeOnZP7xHo0ii8zsQp6PGzd+C1/dl0KGsp9A7Mxwp+1D1o4unbTTxVdU/ZOIEBoeZPbQ==",
      "license": "BSD-3-Clause",
      "dependencies": {
        "d3-array": "^2.3.0",
        "d3-format": "1 - 2",
        "d3-interpolate": "1.2.0 - 2",
        "d3-time": "^2.1.1",
        "d3-time-format": "2 - 3"
      }
    },
    "node_modules/react-wordcloud/node_modules/d3-time": {
      "version": "2.1.1",
      "resolved": "https://registry.npmjs.org/d3-time/-/d3-time-2.1.1.tgz",
      "integrity": "sha512-/eIQe/eR4kCQwq7yxi7z4c6qEXf2IYGcjoWB5OOQy4Tq9Uv39/947qlDcN2TLkiTzQWzvnsuYPB9TrWaNfipKQ==",
      "license": "BSD-3-Clause",
      "dependencies": {
        "d3-array": "2"
      }
    },
    "node_modules/react-wordcloud/node_modules/d3-time-format": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/d3-time-format/-/d3-time-format-3.0.0.tgz",
      "integrity": "sha512-UXJh6EKsHBTjopVqZBhFysQcoXSv/5yLONZvkQ5Kk3qbwiUYkdX17Xa1PT6U1ZWXGGfB1ey5L8dKMlFq2DO0Ag==",
      "license": "BSD-3-Clause",
      "dependencies": {
        "d3-time": "1 - 2"
      }
    },
    "node_modules/react-wordcloud/node_modules/internmap": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/internmap/-/internmap-1.0.1.tgz",
      "integrity": "sha512-lDB5YccMydFBtasVtxnZ3MRBHuaoE8GKsppq+EchKL2U4nK/DmEpPHNH8MZe5HkMtpSiTSOZwfN0tzYjO/lJEw==",
      "license": "ISC"
    },
    "node_modules/read-cache": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/read-cache/-/read-cache-1.0.0.tgz",
      "integrity": "sha512-Owdv/Ft7IjOgm/i0xvNDZ1LrRANRfew4b2prF3OWMQLxLfu3bS8FVhCsrSCMK4lR56Y9ya+AThoTpDCTxCmpRA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "pify": "^2.3.0"
      }
    },
    "node_modules/readdirp": {
      "version": "3.6.0",
      "resolved": "https://registry.npmjs.org/readdirp/-/readdirp-3.6.0.tgz",
      "integrity": "sha512-hOS089on8RduqdbhvQ5Z37A0ESjsqz6qnRcffsMU3495FuTdqSm+7bhJ29JvIOsBDEEnan5DPu9t3To9VRlMzA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "picomatch": "^2.2.1"
      },
      "engines": {
        "node": ">=8.10.0"
      }
    },
    "node_modules/recharts": {
      "version": "2.15.4",
      "resolved": "https://registry.npmjs.org/recharts/-/recharts-2.15.4.tgz",
      "integrity": "sha512-UT/q6fwS3c1dHbXv2uFgYJ9BMFHu3fwnd7AYZaEQhXuYQ4hgsxLvsUXzGdKeZrW5xopzDCvuA2N41WJ88I7zIw==",
      "license": "MIT",
      "dependencies": {
        "clsx": "^2.0.0",
        "eventemitter3": "^4.0.1",
        "lodash": "^4.17.21",
        "react-is": "^18.3.1",
        "react-smooth": "^4.0.4",
        "recharts-scale": "^0.4.4",
        "tiny-invariant": "^1.3.1",
        "victory-vendor": "^36.6.8"
      },
      "engines": {
        "node": ">=14"
      },
      "peerDependencies": {
        "react": "^16.0.0 || ^17.0.0 || ^18.0.0 || ^19.0.0",
        "react-dom": "^16.0.0 || ^17.0.0 || ^18.0.0 || ^19.0.0"
      }
    },
    "node_modules/recharts-scale": {
      "version": "0.4.5",
      "resolved": "https://registry.npmjs.org/recharts-scale/-/recharts-scale-0.4.5.tgz",
      "integrity": "sha512-kivNFO+0OcUNu7jQquLXAxz1FIwZj8nrj+YkOKc5694NbjCvcT6aSZiIzNzd2Kul4o4rTto8QVR9lMNtxD4G1w==",
      "license": "MIT",
      "dependencies": {
        "decimal.js-light": "^2.4.1"
      }
    },
    "node_modules/remark-gfm": {
      "version": "4.0.1",
      "resolved": "https://registry.npmjs.org/remark-gfm/-/remark-gfm-4.0.1.tgz",
      "integrity": "sha512-1quofZ2RQ9EWdeN34S79+KExV1764+wCUGop5CPL1WGdD0ocPpu91lzPGbwWMECpEpd42kJGQwzRfyov9j4yNg==",
      "license": "MIT",
      "dependencies": {
        "@types/mdast": "^4.0.0",
        "mdast-util-gfm": "^3.0.0",
        "micromark-extension-gfm": "^3.0.0",
        "remark-parse": "^11.0.0",
        "remark-stringify": "^11.0.0",
        "unified": "^11.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/remark-parse": {
      "version": "11.0.0",
      "resolved": "https://registry.npmjs.org/remark-parse/-/remark-parse-11.0.0.tgz",
      "integrity": "sha512-FCxlKLNGknS5ba/1lmpYijMUzX2esxW5xQqjWxw2eHFfS2MSdaHVINFmhjo+qN1WhZhNimq0dZATN9pH0IDrpA==",
      "license": "MIT",
      "dependencies": {
        "@types/mdast": "^4.0.0",
        "mdast-util-from-markdown": "^2.0.0",
        "micromark-util-types": "^2.0.0",
        "unified": "^11.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/remark-rehype": {
      "version": "11.1.2",
      "resolved": "https://registry.npmjs.org/remark-rehype/-/remark-rehype-11.1.2.tgz",
      "integrity": "sha512-Dh7l57ianaEoIpzbp0PC9UKAdCSVklD8E5Rpw7ETfbTl3FqcOOgq5q2LVDhgGCkaBv7p24JXikPdvhhmHvKMsw==",
      "license": "MIT",
      "dependencies": {
        "@types/hast": "^3.0.0",
        "@types/mdast": "^4.0.0",
        "mdast-util-to-hast": "^13.0.0",
        "unified": "^11.0.0",
        "vfile": "^6.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/remark-stringify": {
      "version": "11.0.0",
      "resolved": "https://registry.npmjs.org/remark-stringify/-/remark-stringify-11.0.0.tgz",
      "integrity": "sha512-1OSmLd3awB/t8qdoEOMazZkNsfVTeY4fTsgzcQFdXNq8ToTN4ZGwrMnlda4K6smTFKD+GRV6O48i6Z4iKgPPpw==",
      "license": "MIT",
      "dependencies": {
        "@types/mdast": "^4.0.0",
        "mdast-util-to-markdown": "^2.0.0",
        "unified": "^11.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/resize-observer-polyfill": {
      "version": "1.5.1",
      "resolved": "https://registry.npmjs.org/resize-observer-polyfill/-/resize-observer-polyfill-1.5.1.tgz",
      "integrity": "sha512-LwZrotdHOo12nQuZlHEmtuXdqGoOD0OhaxopaNFxWzInpEgaLWoVuAMbTzixuosCx2nEG58ngzW3vxdWoxIgdg==",
      "license": "MIT"
    },
    "node_modules/resolve": {
      "version": "1.22.8",
      "resolved": "https://registry.npmjs.org/resolve/-/resolve-1.22.8.tgz",
      "integrity": "sha512-oKWePCxqpd6FlLvGV1VU0x7bkPmmCNolxzjMf4NczoDnQcIWrAF+cPtZn5i6n+RfD2d9i0tzpKnG6Yk168yIyw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "is-core-module": "^2.13.0",
        "path-parse": "^1.0.7",
        "supports-preserve-symlinks-flag": "^1.0.0"
      },
      "bin": {
        "resolve": "bin/resolve"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/resolve-from": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/resolve-from/-/resolve-from-4.0.0.tgz",
      "integrity": "sha512-pb/MYmXstAkysRFx8piNI1tGFNQIFA3vkE3Gq4EuA1dF6gHp/+vgZqsCGJapvy8N3Q+4o7FwvquPJcnZ7RYy4g==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/reusify": {
      "version": "1.0.4",
      "resolved": "https://registry.npmjs.org/reusify/-/reusify-1.0.4.tgz",
      "integrity": "sha512-U9nH88a3fc/ekCF1l0/UP1IosiuIjyTh7hBvXVMHYgVcfGvt897Xguj2UOLDeI5BG2m7/uwyaLVT6fbtCwTyzw==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "iojs": ">=1.0.0",
        "node": ">=0.10.0"
      }
    },
    "node_modules/rollup": {
      "version": "4.24.0",
      "resolved": "https://registry.npmjs.org/rollup/-/rollup-4.24.0.tgz",
      "integrity": "sha512-DOmrlGSXNk1DM0ljiQA+i+o0rSLhtii1je5wgk60j49d1jHT5YYttBv1iWOnYSTG+fZZESUOSNiAl89SIet+Cg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@types/estree": "1.0.6"
      },
      "bin": {
        "rollup": "dist/bin/rollup"
      },
      "engines": {
        "node": ">=18.0.0",
        "npm": ">=8.0.0"
      },
      "optionalDependencies": {
        "@rollup/rollup-android-arm-eabi": "4.24.0",
        "@rollup/rollup-android-arm64": "4.24.0",
        "@rollup/rollup-darwin-arm64": "4.24.0",
        "@rollup/rollup-darwin-x64": "4.24.0",
        "@rollup/rollup-linux-arm-gnueabihf": "4.24.0",
        "@rollup/rollup-linux-arm-musleabihf": "4.24.0",
        "@rollup/rollup-linux-arm64-gnu": "4.24.0",
        "@rollup/rollup-linux-arm64-musl": "4.24.0",
        "@rollup/rollup-linux-powerpc64le-gnu": "4.24.0",
        "@rollup/rollup-linux-riscv64-gnu": "4.24.0",
        "@rollup/rollup-linux-s390x-gnu": "4.24.0",
        "@rollup/rollup-linux-x64-gnu": "4.24.0",
        "@rollup/rollup-linux-x64-musl": "4.24.0",
        "@rollup/rollup-win32-arm64-msvc": "4.24.0",
        "@rollup/rollup-win32-ia32-msvc": "4.24.0",
        "@rollup/rollup-win32-x64-msvc": "4.24.0",
        "fsevents": "~2.3.2"
      }
    },
    "node_modules/run-parallel": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/run-parallel/-/run-parallel-1.2.0.tgz",
      "integrity": "sha512-5l4VyZR86LZ/lDxZTR6jqL8AFE2S0IFLMP26AbjsLVADxHdhB/c0GUsH+y39UfCi3dzz8OlQuPmnaJOMoDHQBA==",
      "dev": true,
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/feross"
        },
        {
          "type": "patreon",
          "url": "https://www.patreon.com/feross"
        },
        {
          "type": "consulting",
          "url": "https://feross.org/support"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "queue-microtask": "^1.2.2"
      }
    },
    "node_modules/scheduler": {
      "version": "0.23.2",
      "resolved": "https://registry.npmjs.org/scheduler/-/scheduler-0.23.2.tgz",
      "integrity": "sha512-UOShsPwz7NrMUqhR6t0hWjFduvOzbtv7toDH1/hIrfRNIDBnnBWd0CwJTGvTpngVlmwGCdP9/Zl/tVrDqcuYzQ==",
      "license": "MIT",
      "dependencies": {
        "loose-envify": "^1.1.0"
      }
    },
    "node_modules/seedrandom": {
      "version": "3.0.5",
      "resolved": "https://registry.npmjs.org/seedrandom/-/seedrandom-3.0.5.tgz",
      "integrity": "sha512-8OwmbklUNzwezjGInmZ+2clQmExQPvomqjL7LFqOYqtmuxRgQYqOD3mHaU+MvZn5FLUeVxVfQjwLZW/n/JFuqg==",
      "license": "MIT"
    },
    "node_modules/semver": {
      "version": "7.7.2",
      "resolved": "https://registry.npmjs.org/semver/-/semver-7.7.2.tgz",
      "integrity": "sha512-RF0Fw+rO5AMf9MAyaRXI4AV0Ulj5lMHqVxxdSgiVbixSCXoEmmX/jk0CuJw4+3SqroYO9VoUh+HcuJivvtJemA==",
      "dev": true,
      "license": "ISC",
      "bin": {
        "semver": "bin/semver.js"
      },
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/shebang-command": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/shebang-command/-/shebang-command-2.0.0.tgz",
      "integrity": "sha512-kHxr2zZpYtdmrN1qDjrrX/Z1rR1kG8Dx+gkpK1G4eXmvXswmcE1hTWBWYUzlraYw1/yZp6YuDY77YtvbN0dmDA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "shebang-regex": "^3.0.0"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/shebang-regex": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/shebang-regex/-/shebang-regex-3.0.0.tgz",
      "integrity": "sha512-7++dFhtcx3353uBaq8DDR4NuxBetBzC7ZQOhmTQInHEd6bSrXdiEyzCvG07Z44UYdLShWUyXt5M/yhz8ekcb1A==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/signal-exit": {
      "version": "4.1.0",
      "resolved": "https://registry.npmjs.org/signal-exit/-/signal-exit-4.1.0.tgz",
      "integrity": "sha512-bzyZ1e88w9O1iNJbKnOlvYTrWPDl46O1bG0D3XInv+9tkPrxrN8jUUTiFlDkkmKWgn1M6CfIA13SuGqOa9Korw==",
      "dev": true,
      "license": "ISC",
      "engines": {
        "node": ">=14"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/sonner": {
      "version": "1.7.4",
      "resolved": "https://registry.npmjs.org/sonner/-/sonner-1.7.4.tgz",
      "integrity": "sha512-DIS8z4PfJRbIyfVFDVnK9rO3eYDtse4Omcm6bt0oEr5/jtLgysmjuBl1frJ9E/EQZrFmKx2A8m/s5s9CRXIzhw==",
      "license": "MIT",
      "peerDependencies": {
        "react": "^18.0.0 || ^19.0.0 || ^19.0.0-rc",
        "react-dom": "^18.0.0 || ^19.0.0 || ^19.0.0-rc"
      }
    },
    "node_modules/source-map-js": {
      "version": "1.2.1",
      "resolved": "https://registry.npmjs.org/source-map-js/-/source-map-js-1.2.1.tgz",
      "integrity": "sha512-UXWMKhLOwVKb728IUtQPXxfYU+usdybtUrK/8uGE8CQMvrhOpwvzDBwj0QhSL7MQc7vIsISBG8VQ8+IDQxpfQA==",
      "dev": true,
      "license": "BSD-3-Clause",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/space-separated-tokens": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/space-separated-tokens/-/space-separated-tokens-2.0.2.tgz",
      "integrity": "sha512-PEGlAwrG8yXGXRjW32fGbg66JAlOAwbObuqVoJpv/mRgoWDQfgH1wDPvtzWyUSNAXBGSk8h755YDbbcEy3SH2Q==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/string-width": {
      "version": "5.1.2",
      "resolved": "https://registry.npmjs.org/string-width/-/string-width-5.1.2.tgz",
      "integrity": "sha512-HnLOCR3vjcY8beoNLtcjZ5/nxn2afmME6lhrDrebokqMap+XbeW8n9TXpPDOqdGK5qcI3oT0GKTW6wC7EMiVqA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "eastasianwidth": "^0.2.0",
        "emoji-regex": "^9.2.2",
        "strip-ansi": "^7.0.1"
      },
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/string-width-cjs": {
      "name": "string-width",
      "version": "4.2.3",
      "resolved": "https://registry.npmjs.org/string-width/-/string-width-4.2.3.tgz",
      "integrity": "sha512-wKyQRQpjJ0sIp62ErSZdGsjMJWsap5oRNihHhu6G7JVO/9jIB6UyevL+tXuOqrng8j/cxKTWyWUwvSTriiZz/g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "emoji-regex": "^8.0.0",
        "is-fullwidth-code-point": "^3.0.0",
        "strip-ansi": "^6.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/string-width-cjs/node_modules/ansi-regex": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz",
      "integrity": "sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/string-width-cjs/node_modules/emoji-regex": {
      "version": "8.0.0",
      "resolved": "https://registry.npmjs.org/emoji-regex/-/emoji-regex-8.0.0.tgz",
      "integrity": "sha512-MSjYzcWNOA0ewAHpz0MxpYFvwg6yjy1NG3xteoqz644VCo/RPgnr1/GGt+ic3iJTzQ8Eu3TdM14SawnVUmGE6A==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/string-width-cjs/node_modules/strip-ansi": {
      "version": "6.0.1",
      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz",
      "integrity": "sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ansi-regex": "^5.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/stringify-entities": {
      "version": "4.0.4",
      "resolved": "https://registry.npmjs.org/stringify-entities/-/stringify-entities-4.0.4.tgz",
      "integrity": "sha512-IwfBptatlO+QCJUo19AqvrPNqlVMpW9YEL2LIVY+Rpv2qsjCGxaDLNRgeGsQWJhfItebuJhsGSLjaBbNSQ+ieg==",
      "license": "MIT",
      "dependencies": {
        "character-entities-html4": "^2.0.0",
        "character-entities-legacy": "^3.0.0"
      },
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/strip-ansi": {
      "version": "7.1.0",
      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-7.1.0.tgz",
      "integrity": "sha512-iq6eVVI64nQQTRYq2KtEg2d2uU7LElhTJwsH4YzIHZshxlgZms/wIc4VoDQTlG/IvVIrBKG06CrZnp0qv7hkcQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ansi-regex": "^6.0.1"
      },
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/chalk/strip-ansi?sponsor=1"
      }
    },
    "node_modules/strip-ansi-cjs": {
      "name": "strip-ansi",
      "version": "6.0.1",
      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz",
      "integrity": "sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ansi-regex": "^5.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/strip-ansi-cjs/node_modules/ansi-regex": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz",
      "integrity": "sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/strip-json-comments": {
      "version": "3.1.1",
      "resolved": "https://registry.npmjs.org/strip-json-comments/-/strip-json-comments-3.1.1.tgz",
      "integrity": "sha512-6fPc+R4ihwqP6N/aIv2f1gMH8lOVtWQHoqC4yK6oSDVVocumAsfCqjkXnqiYMhmMwS/mEHLp7Vehlt3ql6lEig==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/style-to-js": {
      "version": "1.1.21",
      "resolved": "https://registry.npmjs.org/style-to-js/-/style-to-js-1.1.21.tgz",
      "integrity": "sha512-RjQetxJrrUJLQPHbLku6U/ocGtzyjbJMP9lCNK7Ag0CNh690nSH8woqWH9u16nMjYBAok+i7JO1NP2pOy8IsPQ==",
      "license": "MIT",
      "dependencies": {
        "style-to-object": "1.0.14"
      }
    },
    "node_modules/style-to-object": {
      "version": "1.0.14",
      "resolved": "https://registry.npmjs.org/style-to-object/-/style-to-object-1.0.14.tgz",
      "integrity": "sha512-LIN7rULI0jBscWQYaSswptyderlarFkjQ+t79nzty8tcIAceVomEVlLzH5VP4Cmsv6MtKhs7qaAiwlcp+Mgaxw==",
      "license": "MIT",
      "dependencies": {
        "inline-style-parser": "0.2.7"
      }
    },
    "node_modules/sucrase": {
      "version": "3.35.0",
      "resolved": "https://registry.npmjs.org/sucrase/-/sucrase-3.35.0.tgz",
      "integrity": "sha512-8EbVDiu9iN/nESwxeSxDKe0dunta1GOlHufmSSXxMD2z2/tMZpDMpvXQGsc+ajGo8y2uYUmixaSRUc/QPoQ0GA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@jridgewell/gen-mapping": "^0.3.2",
        "commander": "^4.0.0",
        "glob": "^10.3.10",
        "lines-and-columns": "^1.1.6",
        "mz": "^2.7.0",
        "pirates": "^4.0.1",
        "ts-interface-checker": "^0.1.9"
      },
      "bin": {
        "sucrase": "bin/sucrase",
        "sucrase-node": "bin/sucrase-node"
      },
      "engines": {
        "node": ">=16 || 14 >=14.17"
      }
    },
    "node_modules/supports-color": {
      "version": "7.2.0",
      "resolved": "https://registry.npmjs.org/supports-color/-/supports-color-7.2.0.tgz",
      "integrity": "sha512-qpCAvRl9stuOHveKsn7HncJRvv501qIacKzQlO/+Lwxc9+0q2wLyv4Dfvt80/DPn2pqOBsJdDiogXGR9+OvwRw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "has-flag": "^4.0.0"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/supports-preserve-symlinks-flag": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/supports-preserve-symlinks-flag/-/supports-preserve-symlinks-flag-1.0.0.tgz",
      "integrity": "sha512-ot0WnXS9fgdkgIcePe6RHNk1WA8+muPa6cSjeR3V8K27q9BB1rTE3R1p7Hv0z1ZyAc8s6Vvv8DIyWf681MAt0w==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/tailwind-merge": {
      "version": "2.6.0",
      "resolved": "https://registry.npmjs.org/tailwind-merge/-/tailwind-merge-2.6.0.tgz",
      "integrity": "sha512-P+Vu1qXfzediirmHOC3xKGAYeZtPcV9g76X+xg2FD4tYgR71ewMA35Y3sCz3zhiN/dwefRpJX0yBcgwi1fXNQA==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/dcastil"
      }
    },
    "node_modules/tailwindcss": {
      "version": "3.4.17",
      "resolved": "https://registry.npmjs.org/tailwindcss/-/tailwindcss-3.4.17.tgz",
      "integrity": "sha512-w33E2aCvSDP0tW9RZuNXadXlkHXqFzSkQew/aIa2i/Sj8fThxwovwlXHSPXTbAHwEIhBFXAedUhP2tueAKP8Og==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@alloc/quick-lru": "^5.2.0",
        "arg": "^5.0.2",
        "chokidar": "^3.6.0",
        "didyoumean": "^1.2.2",
        "dlv": "^1.1.3",
        "fast-glob": "^3.3.2",
        "glob-parent": "^6.0.2",
        "is-glob": "^4.0.3",
        "jiti": "^1.21.6",
        "lilconfig": "^3.1.3",
        "micromatch": "^4.0.8",
        "normalize-path": "^3.0.0",
        "object-hash": "^3.0.0",
        "picocolors": "^1.1.1",
        "postcss": "^8.4.47",
        "postcss-import": "^15.1.0",
        "postcss-js": "^4.0.1",
        "postcss-load-config": "^4.0.2",
        "postcss-nested": "^6.2.0",
        "postcss-selector-parser": "^6.1.2",
        "resolve": "^1.22.8",
        "sucrase": "^3.35.0"
      },
      "bin": {
        "tailwind": "lib/cli.js",
        "tailwindcss": "lib/cli.js"
      },
      "engines": {
        "node": ">=14.0.0"
      }
    },
    "node_modules/tailwindcss-animate": {
      "version": "1.0.7",
      "resolved": "https://registry.npmjs.org/tailwindcss-animate/-/tailwindcss-animate-1.0.7.tgz",
      "integrity": "sha512-bl6mpH3T7I3UFxuvDEXLxy/VuFxBk5bbzplh7tXI68mwMokNYd1t9qPBHlnyTwfa4JGC4zP516I1hYYtQ/vspA==",
      "license": "MIT",
      "peerDependencies": {
        "tailwindcss": ">=3.0.0 || insiders"
      }
    },
    "node_modules/thenify": {
      "version": "3.3.1",
      "resolved": "https://registry.npmjs.org/thenify/-/thenify-3.3.1.tgz",
      "integrity": "sha512-RVZSIV5IG10Hk3enotrhvz0T9em6cyHBLkH/YAZuKqd8hRkKhSfCGIcP2KUY0EPxndzANBmNllzWPwak+bheSw==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "any-promise": "^1.0.0"
      }
    },
    "node_modules/thenify-all": {
      "version": "1.6.0",
      "resolved": "https://registry.npmjs.org/thenify-all/-/thenify-all-1.6.0.tgz",
      "integrity": "sha512-RNxQH/qI8/t3thXJDwcstUO4zeqo64+Uy/+sNVRBx4Xn2OX+OZ9oP+iJnNFqplFra2ZUVeKCSa2oVWi3T4uVmA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "thenify": ">= 3.1.0 < 4"
      },
      "engines": {
        "node": ">=0.8"
      }
    },
    "node_modules/tiny-invariant": {
      "version": "1.3.3",
      "resolved": "https://registry.npmjs.org/tiny-invariant/-/tiny-invariant-1.3.3.tgz",
      "integrity": "sha512-+FbBPE1o9QAYvviau/qC5SE3caw21q3xkvWKBtja5vgqOWIHHJ3ioaq1VPfn/Szqctz2bU/oYeKd9/z5BL+PVg==",
      "license": "MIT"
    },
    "node_modules/tippy.js": {
      "version": "6.3.7",
      "resolved": "https://registry.npmjs.org/tippy.js/-/tippy.js-6.3.7.tgz",
      "integrity": "sha512-E1d3oP2emgJ9dRQZdf3Kkn0qJgI6ZLpyS5z6ZkY1DF3kaQaBsGZsndEpHwx+eC+tYM41HaSNvNtLx8tU57FzTQ==",
      "license": "MIT",
      "dependencies": {
        "@popperjs/core": "^2.9.0"
      }
    },
    "node_modules/to-regex-range": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/to-regex-range/-/to-regex-range-5.0.1.tgz",
      "integrity": "sha512-65P7iz6X5yEr1cwcgvQxbbIw7Uk3gOy5dIdtZ4rDveLqhrdJP+Li/Hx6tyK0NEb+2GCyneCMJiGqrADCSNk8sQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "is-number": "^7.0.0"
      },
      "engines": {
        "node": ">=8.0"
      }
    },
    "node_modules/trim-lines": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/trim-lines/-/trim-lines-3.0.1.tgz",
      "integrity": "sha512-kRj8B+YHZCc9kQYdWfJB2/oUl9rA99qbowYYBtr4ui4mZyAQ2JpvVBd/6U2YloATfqBhBTSMhTpgBHtU0Mf3Rg==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/trough": {
      "version": "2.2.0",
      "resolved": "https://registry.npmjs.org/trough/-/trough-2.2.0.tgz",
      "integrity": "sha512-tmMpK00BjZiUyVyvrBK7knerNgmgvcV/KLVyuma/SC+TQN167GrMRciANTz09+k3zW8L8t60jWO1GpfkZdjTaw==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    },
    "node_modules/ts-api-utils": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/ts-api-utils/-/ts-api-utils-2.1.0.tgz",
      "integrity": "sha512-CUgTZL1irw8u29bzrOD/nH85jqyc74D6SshFgujOIA7osm2Rz7dYH77agkx7H4FBNxDq7Cjf+IjaX/8zwFW+ZQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=18.12"
      },
      "peerDependencies": {
        "typescript": ">=4.8.4"
      }
    },
    "node_modules/ts-interface-checker": {
      "version": "0.1.13",
      "resolved": "https://registry.npmjs.org/ts-interface-checker/-/ts-interface-checker-0.1.13.tgz",
      "integrity": "sha512-Y/arvbn+rrz3JCKl9C4kVNfTfSm2/mEp5FSz5EsZSANGPSlQrpRI5M4PKF+mJnE52jOO90PnPSc3Ur3bTQw0gA==",
      "dev": true,
      "license": "Apache-2.0"
    },
    "node_modules/tslib": {
      "version": "2.8.0",
      "resolved": "https://registry.npmjs.org/tslib/-/tslib-2.8.0.tgz",
      "integrity": "sha512-jWVzBLplnCmoaTr13V9dYbiQ99wvZRd0vNWaDRg+aVYRcjDF3nDksxFDE/+fkXnKhpnUUkmx5pK/v8mCtLVqZA==",
      "license": "0BSD"
    },
    "node_modules/type-check": {
      "version": "0.4.0",
      "resolved": "https://registry.npmjs.org/type-check/-/type-check-0.4.0.tgz",
      "integrity": "sha512-XleUoc9uwGXqjWwXaUTZAmzMcFZ5858QA2vvx1Ur5xIcixXIP+8LnFDgRplU30us6teqdlskFfu+ae4K79Ooew==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "prelude-ls": "^1.2.1"
      },
      "engines": {
        "node": ">= 0.8.0"
      }
    },
    "node_modules/typescript": {
      "version": "5.8.3",
      "resolved": "https://registry.npmjs.org/typescript/-/typescript-5.8.3.tgz",
      "integrity": "sha512-p1diW6TqL9L07nNxvRMM7hMMw4c5XOo/1ibL4aAIGmSAt9slTE1Xgw5KWuof2uTOvCg9BY7ZRi+GaF+7sfgPeQ==",
      "dev": true,
      "license": "Apache-2.0",
      "bin": {
        "tsc": "bin/tsc",
        "tsserver": "bin/tsserver"
      },
      "engines": {
        "node": ">=14.17"
      }
    },
    "node_modules/typescript-eslint": {
      "version": "8.38.0",
      "resolved": "https://registry.npmjs.org/typescript-eslint/-/typescript-eslint-8.38.0.tgz",
      "integrity": "sha512-FsZlrYK6bPDGoLeZRuvx2v6qrM03I0U0SnfCLPs/XCCPCFD80xU9Pg09H/K+XFa68uJuZo7l/Xhs+eDRg2l3hg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "@typescript-eslint/eslint-plugin": "8.38.0",
        "@typescript-eslint/parser": "8.38.0",
        "@typescript-eslint/typescript-estree": "8.38.0",
        "@typescript-eslint/utils": "8.38.0"
      },
      "engines": {
        "node": "^18.18.0 || ^20.9.0 || >=21.1.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/typescript-eslint"
      },
      "peerDependencies": {
        "eslint": "^8.57.0 || ^9.0.0",
        "typescript": ">=4.8.4 <5.9.0"
      }
    },
    "node_modules/undici-types": {
      "version": "6.21.0",
      "resolved": "https://registry.npmjs.org/undici-types/-/undici-types-6.21.0.tgz",
      "integrity": "sha512-iwDZqg0QAGrg9Rav5H4n0M64c3mkR59cJ6wQp+7C4nI0gsmExaedaYLNO44eT4AtBBwjbTiGPMlt2Md0T9H9JQ==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/unified": {
      "version": "11.0.5",
      "resolved": "https://registry.npmjs.org/unified/-/unified-11.0.5.tgz",
      "integrity": "sha512-xKvGhPWw3k84Qjh8bI3ZeJjqnyadK+GEFtazSfZv/rKeTkTjOJho6mFqh2SM96iIcZokxiOpg78GazTSg8+KHA==",
      "license": "MIT",
      "dependencies": {
        "@types/unist": "^3.0.0",
        "bail": "^2.0.0",
        "devlop": "^1.0.0",
        "extend": "^3.0.0",
        "is-plain-obj": "^4.0.0",
        "trough": "^2.0.0",
        "vfile": "^6.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/unist-util-is": {
      "version": "6.0.1",
      "resolved": "https://registry.npmjs.org/unist-util-is/-/unist-util-is-6.0.1.tgz",
      "integrity": "sha512-LsiILbtBETkDz8I9p1dQ0uyRUWuaQzd/cuEeS1hoRSyW5E5XGmTzlwY1OrNzzakGowI9Dr/I8HVaw4hTtnxy8g==",
      "license": "MIT",
      "dependencies": {
        "@types/unist": "^3.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/unist-util-position": {
      "version": "5.0.0",
      "resolved": "https://registry.npmjs.org/unist-util-position/-/unist-util-position-5.0.0.tgz",
      "integrity": "sha512-fucsC7HjXvkB5R3kTCO7kUjRdrS0BJt3M/FPxmHMBOm8JQi2BsHAHFsy27E0EolP8rp0NzXsJ+jNPyDWvOJZPA==",
      "license": "MIT",
      "dependencies": {
        "@types/unist": "^3.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/unist-util-stringify-position": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/unist-util-stringify-position/-/unist-util-stringify-position-4.0.0.tgz",
      "integrity": "sha512-0ASV06AAoKCDkS2+xw5RXJywruurpbC4JZSm7nr7MOt1ojAzvyyaO+UxZf18j8FCF6kmzCZKcAgN/yu2gm2XgQ==",
      "license": "MIT",
      "dependencies": {
        "@types/unist": "^3.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/unist-util-visit": {
      "version": "5.0.0",
      "resolved": "https://registry.npmjs.org/unist-util-visit/-/unist-util-visit-5.0.0.tgz",
      "integrity": "sha512-MR04uvD+07cwl/yhVuVWAtw+3GOR/knlL55Nd/wAdblk27GCVt3lqpTivy/tkJcZoNPzTwS1Y+KMojlLDhoTzg==",
      "license": "MIT",
      "dependencies": {
        "@types/unist": "^3.0.0",
        "unist-util-is": "^6.0.0",
        "unist-util-visit-parents": "^6.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/unist-util-visit-parents": {
      "version": "6.0.2",
      "resolved": "https://registry.npmjs.org/unist-util-visit-parents/-/unist-util-visit-parents-6.0.2.tgz",
      "integrity": "sha512-goh1s1TBrqSqukSc8wrjwWhL0hiJxgA8m4kFxGlQ+8FYQ3C/m11FcTs4YYem7V664AhHVvgoQLk890Ssdsr2IQ==",
      "license": "MIT",
      "dependencies": {
        "@types/unist": "^3.0.0",
        "unist-util-is": "^6.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/update-browserslist-db": {
      "version": "1.1.3",
      "resolved": "https://registry.npmjs.org/update-browserslist-db/-/update-browserslist-db-1.1.3.tgz",
      "integrity": "sha512-UxhIZQ+QInVdunkDAaiazvvT/+fXL5Osr0JZlJulepYu6Jd7qJtDZjlur0emRlT71EN3ScPoE7gvsuIKKNavKw==",
      "dev": true,
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/browserslist"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/browserslist"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "escalade": "^3.2.0",
        "picocolors": "^1.1.1"
      },
      "bin": {
        "update-browserslist-db": "cli.js"
      },
      "peerDependencies": {
        "browserslist": ">= 4.21.0"
      }
    },
    "node_modules/uri-js": {
      "version": "4.4.1",
      "resolved": "https://registry.npmjs.org/uri-js/-/uri-js-4.4.1.tgz",
      "integrity": "sha512-7rKUyy33Q1yc98pQ1DAmLtwX109F7TIfWlW1Ydo8Wl1ii1SeHieeh0HHfPeL2fMXK6z0s8ecKs9frCuLJvndBg==",
      "dev": true,
      "license": "BSD-2-Clause",
      "dependencies": {
        "punycode": "^2.1.0"
      }
    },
    "node_modules/use-callback-ref": {
      "version": "1.3.3",
      "resolved": "https://registry.npmjs.org/use-callback-ref/-/use-callback-ref-1.3.3.tgz",
      "integrity": "sha512-jQL3lRnocaFtu3V00JToYz/4QkNWswxijDaCVNZRiRTO3HQDLsdu1ZtmIUvV4yPp+rvWm5j0y0TG/S61cuijTg==",
      "license": "MIT",
      "dependencies": {
        "tslib": "^2.0.0"
      },
      "engines": {
        "node": ">=10"
      },
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/use-sidecar": {
      "version": "1.1.3",
      "resolved": "https://registry.npmjs.org/use-sidecar/-/use-sidecar-1.1.3.tgz",
      "integrity": "sha512-Fedw0aZvkhynoPYlA5WXrMCAMm+nSWdZt6lzJQ7Ok8S6Q+VsHmHpRWndVRJ8Be0ZbkfPc5LRYH+5XrzXcEeLRQ==",
      "license": "MIT",
      "dependencies": {
        "detect-node-es": "^1.1.0",
        "tslib": "^2.0.0"
      },
      "engines": {
        "node": ">=10"
      },
      "peerDependencies": {
        "@types/react": "*",
        "react": "^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0 || ^19.0.0-rc"
      },
      "peerDependenciesMeta": {
        "@types/react": {
          "optional": true
        }
      }
    },
    "node_modules/use-sync-external-store": {
      "version": "1.5.0",
      "resolved": "https://registry.npmjs.org/use-sync-external-store/-/use-sync-external-store-1.5.0.tgz",
      "integrity": "sha512-Rb46I4cGGVBmjamjphe8L/UnvJD+uPPtTkNvX5mZgqdbavhI4EbgIWJiIHXJ8bc/i9EQGPRh4DwEURJ552Do0A==",
      "license": "MIT",
      "peerDependencies": {
        "react": "^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0"
      }
    },
    "node_modules/util-deprecate": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/util-deprecate/-/util-deprecate-1.0.2.tgz",
      "integrity": "sha512-EPD5q1uXyFxJpCrLnCc1nHnq3gOa6DZBocAIiI2TaSCA7VCJ1UJDMagCzIkXNsUYfD1daK//LTEQ8xiIbrHtcw==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/vaul": {
      "version": "0.9.9",
      "resolved": "https://registry.npmjs.org/vaul/-/vaul-0.9.9.tgz",
      "integrity": "sha512-7afKg48srluhZwIkaU+lgGtFCUsYBSGOl8vcc8N/M3YQlZFlynHD15AE+pwrYdc826o7nrIND4lL9Y6b9WWZZQ==",
      "license": "MIT",
      "dependencies": {
        "@radix-ui/react-dialog": "^1.1.1"
      },
      "peerDependencies": {
        "react": "^16.8 || ^17.0 || ^18.0",
        "react-dom": "^16.8 || ^17.0 || ^18.0"
      }
    },
    "node_modules/vfile": {
      "version": "6.0.3",
      "resolved": "https://registry.npmjs.org/vfile/-/vfile-6.0.3.tgz",
      "integrity": "sha512-KzIbH/9tXat2u30jf+smMwFCsno4wHVdNmzFyL+T/L3UGqqk6JKfVqOFOZEpZSHADH1k40ab6NUIXZq422ov3Q==",
      "license": "MIT",
      "dependencies": {
        "@types/unist": "^3.0.0",
        "vfile-message": "^4.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/vfile-message": {
      "version": "4.0.3",
      "resolved": "https://registry.npmjs.org/vfile-message/-/vfile-message-4.0.3.tgz",
      "integrity": "sha512-QTHzsGd1EhbZs4AsQ20JX1rC3cOlt/IWJruk893DfLRr57lcnOeMaWG4K0JrRta4mIJZKth2Au3mM3u03/JWKw==",
      "license": "MIT",
      "dependencies": {
        "@types/unist": "^3.0.0",
        "unist-util-stringify-position": "^4.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/unified"
      }
    },
    "node_modules/victory-vendor": {
      "version": "36.9.2",
      "resolved": "https://registry.npmjs.org/victory-vendor/-/victory-vendor-36.9.2.tgz",
      "integrity": "sha512-PnpQQMuxlwYdocC8fIJqVXvkeViHYzotI+NJrCuav0ZYFoq912ZHBk3mCeuj+5/VpodOjPe1z0Fk2ihgzlXqjQ==",
      "license": "MIT AND ISC",
      "dependencies": {
        "@types/d3-array": "^3.0.3",
        "@types/d3-ease": "^3.0.0",
        "@types/d3-interpolate": "^3.0.1",
        "@types/d3-scale": "^4.0.2",
        "@types/d3-shape": "^3.1.0",
        "@types/d3-time": "^3.0.0",
        "@types/d3-timer": "^3.0.0",
        "d3-array": "^3.1.6",
        "d3-ease": "^3.0.1",
        "d3-interpolate": "^3.0.1",
        "d3-scale": "^4.0.2",
        "d3-shape": "^3.1.0",
        "d3-time": "^3.0.0",
        "d3-timer": "^3.0.1"
      }
    },
    "node_modules/vite": {
      "version": "5.4.19",
      "resolved": "https://registry.npmjs.org/vite/-/vite-5.4.19.tgz",
      "integrity": "sha512-qO3aKv3HoQC8QKiNSTuUM1l9o/XX3+c+VTgLHbJWHZGeTPVAg2XwazI9UWzoxjIJCGCV2zU60uqMzjeLZuULqA==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "esbuild": "^0.21.3",
        "postcss": "^8.4.43",
        "rollup": "^4.20.0"
      },
      "bin": {
        "vite": "bin/vite.js"
      },
      "engines": {
        "node": "^18.0.0 || >=20.0.0"
      },
      "funding": {
        "url": "https://github.com/vitejs/vite?sponsor=1"
      },
      "optionalDependencies": {
        "fsevents": "~2.3.3"
      },
      "peerDependencies": {
        "@types/node": "^18.0.0 || >=20.0.0",
        "less": "*",
        "lightningcss": "^1.21.0",
        "sass": "*",
        "sass-embedded": "*",
        "stylus": "*",
        "sugarss": "*",
        "terser": "^5.4.0"
      },
      "peerDependenciesMeta": {
        "@types/node": {
          "optional": true
        },
        "less": {
          "optional": true
        },
        "lightningcss": {
          "optional": true
        },
        "sass": {
          "optional": true
        },
        "sass-embedded": {
          "optional": true
        },
        "stylus": {
          "optional": true
        },
        "sugarss": {
          "optional": true
        },
        "terser": {
          "optional": true
        }
      }
    },
    "node_modules/which": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/which/-/which-2.0.2.tgz",
      "integrity": "sha512-BLI3Tl1TW3Pvl70l3yq3Y64i+awpwXqsGBYWkkqMtnbXgrMD+yj7rhW0kuEDxzJaYXGjEW5ogapKNMEKNMjibA==",
      "dev": true,
      "license": "ISC",
      "dependencies": {
        "isexe": "^2.0.0"
      },
      "bin": {
        "node-which": "bin/node-which"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/word-wrap": {
      "version": "1.2.5",
      "resolved": "https://registry.npmjs.org/word-wrap/-/word-wrap-1.2.5.tgz",
      "integrity": "sha512-BN22B5eaMMI9UMtjrGd5g5eCYPpCPDUy0FJXbYsaT5zYxjFOckS53SQDE3pWkVoWpHXVb3BrYcEN4Twa55B5cA==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/wrap-ansi": {
      "version": "8.1.0",
      "resolved": "https://registry.npmjs.org/wrap-ansi/-/wrap-ansi-8.1.0.tgz",
      "integrity": "sha512-si7QWI6zUMq56bESFvagtmzMdGOtoxfR+Sez11Mobfc7tm+VkUckk9bW2UeffTGVUbOksxmSw0AA2gs8g71NCQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ansi-styles": "^6.1.0",
        "string-width": "^5.0.1",
        "strip-ansi": "^7.0.1"
      },
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/chalk/wrap-ansi?sponsor=1"
      }
    },
    "node_modules/wrap-ansi-cjs": {
      "name": "wrap-ansi",
      "version": "7.0.0",
      "resolved": "https://registry.npmjs.org/wrap-ansi/-/wrap-ansi-7.0.0.tgz",
      "integrity": "sha512-YVGIj2kamLSTxw6NsZjoBxfSwsn0ycdesmc4p+Q21c5zPuZ1pl+NfxVdxPtdHvmNVOQ6XSYG4AUtyt/Fi7D16Q==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ansi-styles": "^4.0.0",
        "string-width": "^4.1.0",
        "strip-ansi": "^6.0.0"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/chalk/wrap-ansi?sponsor=1"
      }
    },
    "node_modules/wrap-ansi-cjs/node_modules/ansi-regex": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz",
      "integrity": "sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/wrap-ansi-cjs/node_modules/emoji-regex": {
      "version": "8.0.0",
      "resolved": "https://registry.npmjs.org/emoji-regex/-/emoji-regex-8.0.0.tgz",
      "integrity": "sha512-MSjYzcWNOA0ewAHpz0MxpYFvwg6yjy1NG3xteoqz644VCo/RPgnr1/GGt+ic3iJTzQ8Eu3TdM14SawnVUmGE6A==",
      "dev": true,
      "license": "MIT"
    },
    "node_modules/wrap-ansi-cjs/node_modules/string-width": {
      "version": "4.2.3",
      "resolved": "https://registry.npmjs.org/string-width/-/string-width-4.2.3.tgz",
      "integrity": "sha512-wKyQRQpjJ0sIp62ErSZdGsjMJWsap5oRNihHhu6G7JVO/9jIB6UyevL+tXuOqrng8j/cxKTWyWUwvSTriiZz/g==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "emoji-regex": "^8.0.0",
        "is-fullwidth-code-point": "^3.0.0",
        "strip-ansi": "^6.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/wrap-ansi-cjs/node_modules/strip-ansi": {
      "version": "6.0.1",
      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz",
      "integrity": "sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "ansi-regex": "^5.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/wrap-ansi/node_modules/ansi-styles": {
      "version": "6.2.1",
      "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-6.2.1.tgz",
      "integrity": "sha512-bN798gFfQX+viw3R7yrGWRqnrN2oRkEkUjjl4JNn4E8GxxbjtG3FbrEIIY3l8/hrwUwIeCZvi4QuOTP4MErVug==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/chalk/ansi-styles?sponsor=1"
      }
    },
    "node_modules/yaml": {
      "version": "2.6.0",
      "resolved": "https://registry.npmjs.org/yaml/-/yaml-2.6.0.tgz",
      "integrity": "sha512-a6ae//JvKDEra2kdi1qzCyrJW/WZCgFi8ydDV+eXExl95t+5R+ijnqHJbz9tmMh8FUjx3iv2fCQ4dclAQlO2UQ==",
      "dev": true,
      "license": "ISC",
      "bin": {
        "yaml": "bin.mjs"
      },
      "engines": {
        "node": ">= 14"
      }
    },
    "node_modules/yocto-queue": {
      "version": "0.1.0",
      "resolved": "https://registry.npmjs.org/yocto-queue/-/yocto-queue-0.1.0.tgz",
      "integrity": "sha512-rVksvsnNCdJ/ohGc6xgPwyN8eheCxsiLM8mxuE/t/mOVqJewPuO1miLpTHQiRgTKCLexL4MeAFVagts7HmNZ2Q==",
      "dev": true,
      "license": "MIT",
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/zod": {
      "version": "3.25.76",
      "resolved": "https://registry.npmjs.org/zod/-/zod-3.25.76.tgz",
      "integrity": "sha512-gzUt/qt81nXsFGKIFcC3YnfEAx5NkunCfnDlvuBSSFS02bcXu4Lmea0AFIUwbLWxWPx3d9p8S5QoaujKcNQxcQ==",
      "license": "MIT",
      "funding": {
        "url": "https://github.com/sponsors/colinhacks"
      }
    },
    "node_modules/zwitch": {
      "version": "2.0.4",
      "resolved": "https://registry.npmjs.org/zwitch/-/zwitch-2.0.4.tgz",
      "integrity": "sha512-bXE4cR/kVZhKZX/RjPEflHaKVhUVl85noU3v6b8apfQEc1x4A+zBxjZ4lN8LqGd6WZ3dl98pY4o717VFmoPp+A==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/wooorm"
      }
    }
  }
}

```

---

## frontend/package.json

```json
{
  "name": "vite_react_shadcn_ts",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "build:dev": "vite build --mode development",
    "lint": "eslint .",
    "preview": "vite preview",
    "test:e2e": "playwright test",
    "test:e2e:ui": "playwright test --ui",
    "test:e2e:headed": "playwright test --headed",
    "test:e2e:debug": "playwright test --debug",
    "test:e2e:chromium": "playwright test --project=chromium",
    "test:e2e:report": "playwright show-report"
  },
  "dependencies": {
    "@hookform/resolvers": "^3.10.0",
    "@radix-ui/react-accordion": "^1.2.11",
    "@radix-ui/react-alert-dialog": "^1.1.14",
    "@radix-ui/react-aspect-ratio": "^1.1.7",
    "@radix-ui/react-avatar": "^1.1.10",
    "@radix-ui/react-checkbox": "^1.3.2",
    "@radix-ui/react-collapsible": "^1.1.11",
    "@radix-ui/react-context-menu": "^2.2.15",
    "@radix-ui/react-dialog": "^1.1.14",
    "@radix-ui/react-dropdown-menu": "^2.1.15",
    "@radix-ui/react-hover-card": "^1.1.14",
    "@radix-ui/react-label": "^2.1.7",
    "@radix-ui/react-menubar": "^1.1.15",
    "@radix-ui/react-navigation-menu": "^1.2.13",
    "@radix-ui/react-popover": "^1.1.14",
    "@radix-ui/react-progress": "^1.1.7",
    "@radix-ui/react-radio-group": "^1.3.7",
    "@radix-ui/react-scroll-area": "^1.2.9",
    "@radix-ui/react-select": "^2.2.5",
    "@radix-ui/react-separator": "^1.1.7",
    "@radix-ui/react-slider": "^1.3.5",
    "@radix-ui/react-slot": "^1.2.3",
    "@radix-ui/react-switch": "^1.2.5",
    "@radix-ui/react-tabs": "^1.1.12",
    "@radix-ui/react-toast": "^1.2.14",
    "@radix-ui/react-toggle": "^1.1.9",
    "@radix-ui/react-toggle-group": "^1.1.10",
    "@radix-ui/react-tooltip": "^1.2.7",
    "@tanstack/react-query": "^5.83.0",
    "axios": "^1.13.2",
    "chart.js": "^4.5.1",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "cmdk": "^1.1.1",
    "d3-cloud": "^1.2.7",
    "date-fns": "^3.6.0",
    "embla-carousel-react": "^8.6.0",
    "input-otp": "^1.4.2",
    "lucide-react": "^0.462.0",
    "next-themes": "^0.3.0",
    "react": "^18.3.1",
    "react-chartjs-2": "^5.3.1",
    "react-day-picker": "^8.10.1",
    "react-dom": "^18.3.1",
    "react-hook-form": "^7.61.1",
    "react-resizable-panels": "^2.1.9",
    "react-router-dom": "^6.30.1",
    "react-wordcloud": "^1.2.7",
    "react-markdown": "^9.0.1",
    "recharts": "^2.15.4",
    "remark-gfm": "^4.0.0",
    "sonner": "^1.7.4",
    "tailwind-merge": "^2.6.0",
    "tailwindcss-animate": "^1.0.7",
    "vaul": "^0.9.9",
    "zod": "^3.25.76"
  },
  "devDependencies": {
    "@eslint/js": "^9.32.0",
    "@playwright/test": "^1.40.0",
    "@tailwindcss/typography": "^0.5.16",
    "@types/node": "^22.16.5",
    "@types/react": "^18.3.23",
    "@types/react-dom": "^18.3.7",
    "@vitejs/plugin-react-swc": "^3.11.0",
    "autoprefixer": "^10.4.21",
    "eslint": "^9.32.0",
    "eslint-plugin-react-hooks": "^5.2.0",
    "eslint-plugin-react-refresh": "^0.4.20",
    "globals": "^15.15.0",
    "postcss": "^8.5.6",
    "tailwindcss": "^3.4.17",
    "typescript": "^5.8.3",
    "typescript-eslint": "^8.38.0",
    "vite": "^5.4.19"
  }
}

```

---

## frontend/playwright.config.ts

```ts
import { defineConfig, devices } from '@playwright/test';

/**
 * NewsInsight Frontend E2E 테스트 설정
 * @see https://playwright.dev/docs/test-configuration
 */
export default defineConfig({
  testDir: './tests/e2e',
  
  /* 테스트 병렬 실행 */
  fullyParallel: true,
  
  /* CI에서 재시도 비활성화 */
  forbidOnly: !!process.env.CI,
  
  /* CI에서 실패 시 2번 재시도 */
  retries: process.env.CI ? 2 : 0,
  
  /* CI에서 병렬 워커 수 제한 */
  workers: process.env.CI ? 1 : undefined,
  
  /* 리포터 설정 */
  reporter: [
    ['html', { open: 'never' }],
    ['list'],
  ],
  
  /* 모든 테스트에 적용되는 설정 */
  use: {
    /* 테스트 실패 시 스크린샷 저장 */
    screenshot: 'only-on-failure',
    
    /* 테스트 실패 시 트레이스 저장 */
    trace: 'on-first-retry',
    
    /* 기본 URL */
    baseURL: process.env.PLAYWRIGHT_BASE_URL || 'http://localhost:8080',
    
    /* 요청 타임아웃 */
    actionTimeout: 15000,
    
    /* 네비게이션 타임아웃 */
    navigationTimeout: 30000,
  },

  /* 프로젝트 설정 - 다양한 브라우저 테스트 */
  projects: [
    {
      name: 'chromium',
      use: { ...devices['Desktop Chrome'] },
    },
    {
      name: 'firefox',
      use: { ...devices['Desktop Firefox'] },
    },
    {
      name: 'webkit',
      use: { ...devices['Desktop Safari'] },
    },
    /* 모바일 뷰포트 테스트 */
    {
      name: 'Mobile Chrome',
      use: { ...devices['Pixel 5'] },
    },
    {
      name: 'Mobile Safari',
      use: { ...devices['iPhone 12'] },
    },
  ],

  /* 로컬 개발 서버 자동 시작 (CI에서는 별도 실행 필요) */
  webServer: process.env.CI ? undefined : {
    command: 'npm run dev',
    url: 'http://localhost:5173',
    reuseExistingServer: !process.env.CI,
    timeout: 120 * 1000,
  },
  
  /* 테스트 출력 디렉토리 */
  outputDir: 'test-results/',
});

```

---

## frontend/postcss.config.js

```js
export default {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
};

```

---

## frontend/src/App.tsx

```tsx
import { Toaster } from "@/components/ui/toaster";
import { Toaster as Sonner } from "@/components/ui/sonner";
import { TooltipProvider } from "@/components/ui/tooltip";
import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
import { BrowserRouter, Routes, Route, Navigate, useLocation } from "react-router-dom";
import { BackgroundTaskProvider } from "@/contexts/BackgroundTaskContext";
import { SearchJobProvider } from "@/contexts/SearchJobContext";
import { ThemeProvider } from "@/contexts/ThemeContext";
import { NotificationProvider } from "@/contexts/NotificationContext";
import { AuthProvider, useAuth } from "@/contexts/AuthContext";
import { QuickAccessProvider } from "@/contexts/QuickAccessContext";
import { useMemo } from "react";
import { AppLayout } from "@/components/layout/AppLayout";
import { ActiveJobsIndicator } from "@/components/ActiveJobsIndicator";
import { CommandPalette } from "@/components/CommandPalette";
import { QuickAccessPanel } from "@/components/QuickAccessPanel";
import { useQuickAccess } from "@/contexts/QuickAccessContext";
import NotFound from "./pages/NotFound";
import AdminSources from "./pages/AdminSources";
import BrowserAgent from "./pages/BrowserAgent";
import UrlCollections from "./pages/UrlCollections";
import SearchHistory from "./pages/SearchHistory";
import SmartSearch from "./pages/SmartSearch";
import Settings from "./pages/Settings";
import MLAddons from "./pages/MLAddons";
import MLResults from "./pages/MLResults";
import MLTraining from "./pages/MLTraining";
import Projects from "./pages/Projects";
import ProjectDashboard from "./pages/ProjectDashboard";
import ProjectSettings from "./pages/ProjectSettings";
import LiveDashboard from "./pages/LiveDashboard";
import Operations from "./pages/Operations";
import AiJobs from "./pages/AiJobs";
import CollectedDataPage from "./pages/CollectedDataPage";
import ParallelSearch from "./pages/ParallelSearch";
import FactCheck from "./pages/FactCheck";

// New Pages
import NewHome from "./pages/NewHome";
import ToolsHub from "./pages/ToolsHub";
import WorkspaceHub from "./pages/WorkspaceHub";

// Auth Pages (Public)
import Login from "./pages/Login";
import Register from "./pages/Register";

// Admin Pages
import AdminDashboard from "./pages/admin/AdminDashboard";
import AdminEnvironments from "./pages/admin/AdminEnvironments";
import AdminScripts from "./pages/admin/AdminScripts";
import AdminAuditLogs from "./pages/admin/AdminAuditLogs";
import AdminUsers from "./pages/admin/AdminUsers";
import AdminLogin from "./pages/admin/AdminLogin";
import AdminSetup from "./pages/admin/AdminSetup";
import AdminLlmProviders from "./pages/admin/AdminLlmProviders";
import AdminConfigExport from "./pages/admin/AdminConfigExport";
import { ProtectedRoute } from "@/components/ProtectedRoute";

const queryClient = new QueryClient();

const RedirectWithState = ({ to }: { to: string }) => {
  const location = useLocation();
  return <Navigate to={to} replace state={location.state} />;
};

// Wrapper to pass authenticated userId to SearchJobProvider
const AuthenticatedSearchJobProvider = ({ children }: { children: React.ReactNode }) => {
  const { user, isAuthenticated } = useAuth();
  
  // Generate a stable anonymous session ID for unauthenticated users
  const anonymousSessionId = useMemo(() => {
    const stored = sessionStorage.getItem('anonymous_session_id');
    if (stored) return stored;
    const newId = `anon-${crypto.randomUUID().slice(0, 8)}`;
    sessionStorage.setItem('anonymous_session_id', newId);
    return newId;
  }, []);
  
  // Use authenticated user ID or anonymous session ID
  const userId = isAuthenticated && user?.id ? user.id : anonymousSessionId;
  
  return (
    <SearchJobProvider userId={userId}>
      {children}
    </SearchJobProvider>
  );
};

const AppContent = () => {
  const { isOpen, close } = useQuickAccess();
  return (
    <>
      <CommandPalette />
      <QuickAccessPanel isOpen={isOpen} onClose={close} />
      <AppLayout>
                  <Routes>
                {/* NEW: Home - 새 대시보드 스타일 홈 */}
                <Route path="/" element={<NewHome />} />
                
                {/* Search - SmartSearch (기존 홈이 여기로 이동) */}
                <Route path="/search" element={<SmartSearch />} />
                
                {/* Dashboard Section */}
                <Route path="/dashboard" element={<LiveDashboard />} />
                <Route path="/operations" element={<Operations />} />
                <Route path="/collected-data" element={<CollectedDataPage />} />
                
                {/* Tools Section */}
                <Route path="/tools" element={<ToolsHub />} />
                <Route path="/ml-addons" element={<MLAddons />} />
                <Route path="/ml-results" element={<MLResults />} />
                <Route path="/ml-training" element={<MLTraining />} />
                <Route path="/ai-agent" element={<BrowserAgent />} />
                <Route path="/ai-jobs" element={<AiJobs />} />
                <Route path="/parallel-search" element={<ParallelSearch />} />
                <Route path="/factcheck" element={<FactCheck />} />
                
                {/* Workspace Section */}
                <Route path="/workspace" element={<WorkspaceHub />} />
                <Route path="/projects" element={<Projects />} />
                <Route path="/projects/:id" element={<ProjectDashboard />} />
                <Route path="/projects/:id/settings" element={<ProjectSettings />} />
                <Route path="/history" element={<SearchHistory />} />
                <Route path="/url-collections" element={<UrlCollections />} />

                {/* Backward compatibility redirects */}
                <Route path="/smart-search" element={<RedirectWithState to="/search" />} />
                <Route path="/deep-search" element={<RedirectWithState to="/search?mode=deep" />} />
                <Route path="/fact-check" element={<RedirectWithState to="/factcheck" />} />
                
                {/* Public Auth Routes */}
                <Route path="/login" element={<Login />} />
                <Route path="/register" element={<Register />} />
                
                {/* Admin Routes */}
                <Route path="/admin" element={<ProtectedRoute><AdminDashboard /></ProtectedRoute>} />
                <Route path="/admin/login" element={<AdminLogin />} />
                <Route path="/admin/setup" element={<ProtectedRoute allowSetup><AdminSetup /></ProtectedRoute>} />
                <Route path="/admin/sources" element={<ProtectedRoute><AdminSources /></ProtectedRoute>} />
                <Route path="/admin/operations" element={<ProtectedRoute><Operations /></ProtectedRoute>} />
                <Route path="/admin/environments" element={<ProtectedRoute requiredRole="operator"><AdminEnvironments /></ProtectedRoute>} />
                <Route path="/admin/scripts" element={<ProtectedRoute requiredRole="operator"><AdminScripts /></ProtectedRoute>} />
                <Route path="/admin/audit-logs" element={<ProtectedRoute requiredRole="admin"><AdminAuditLogs /></ProtectedRoute>} />
                <Route path="/admin/users" element={<ProtectedRoute requiredRole="admin"><AdminUsers /></ProtectedRoute>} />
                <Route path="/admin/llm-providers" element={<ProtectedRoute requiredRole="admin"><AdminLlmProviders /></ProtectedRoute>} />
                <Route path="/admin/config-export" element={<ProtectedRoute requiredRole="admin"><AdminConfigExport /></ProtectedRoute>} />
                
                {/* Settings */}
                <Route path="/settings" element={<Settings />} />
                
                {/* ADD ALL CUSTOM ROUTES ABOVE THE CATCH-ALL "*" ROUTE */}
                <Route path="*" element={<NotFound />} />
              </Routes>
      </AppLayout>
      {/* Active Jobs Indicator - floating UI */}
      <ActiveJobsIndicator position="bottom-right" />
    </>
  );
};

const App = () => (
  <QueryClientProvider client={queryClient}>
    <ThemeProvider>
      <AuthProvider>
        <NotificationProvider>
          <BackgroundTaskProvider>
            <AuthenticatedSearchJobProvider>
              <QuickAccessProvider>
                <TooltipProvider>
                  <Toaster />
                  <Sonner />
                  <BrowserRouter>
                    <AppContent />
                  </BrowserRouter>
                </TooltipProvider>
              </QuickAccessProvider>
            </AuthenticatedSearchJobProvider>
          </BackgroundTaskProvider>
        </NotificationProvider>
      </AuthProvider>
    </ThemeProvider>
  </QueryClientProvider>
);

export default App;

```

---

## frontend/src/components/APIKeyWizard.tsx

```tsx
/**
 * API Key Auto-Provisioning Wizard Component
 * 
 * This component provides a wizard interface for automatically generating
 * API keys from various providers (OpenAI, Anthropic, Google, etc.) via
 * browser automation.
 * 
 * Features:
 * - Provider selection
 * - Real-time browser view during provisioning
 * - Human intervention support for login/2FA
 * - Automatic key saving to system settings
 */

import React, { useState, useEffect, useCallback, useRef } from 'react';
import { 
  Key, 
  Loader2, 
  CheckCircle2, 
  XCircle, 
  AlertTriangle,
  ExternalLink,
  Copy,
  Eye,
  EyeOff,
  RefreshCw,
  LogIn,
  Shield,
  Sparkles,
  Brain,
  Globe,
  Zap,
  Search,
  Bot,
} from 'lucide-react';
import { Button } from '@/components/ui/button';
import { Card, CardContent, CardDescription, CardHeader, CardTitle, CardFooter } from '@/components/ui/card';
import { Input } from '@/components/ui/input';
import { Label } from '@/components/ui/label';
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';
import { Alert, AlertDescription, AlertTitle } from '@/components/ui/alert';
import { Badge } from '@/components/ui/badge';
import { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogFooter } from '@/components/ui/dialog';
import { Progress } from '@/components/ui/progress';
import { useToast } from '@/components/ui/use-toast';
import { 
  getAPIKeyProviders, 
  startAPIKeyProvisioning, 
  notifyLoginComplete, 
  submitProvision2FA,
  getBrowserWSUrl,
  type APIProvider,
  type ProviderInfo,
  type APIKeyProvisionResponse,
} from '@/lib/api';

// Provider icon components for better visual appeal
const ProviderIcon = ({ provider, className = "h-5 w-5" }: { provider: string; className?: string }) => {
  switch (provider.toLowerCase()) {
    case 'openai':
      return (
        <svg className={className} viewBox="0 0 24 24" fill="currentColor">
          <path d="M22.2819 9.8211a5.9847 5.9847 0 0 0-.5157-4.9108 6.0462 6.0462 0 0 0-6.5098-2.9A6.0651 6.0651 0 0 0 4.9807 4.1818a5.9847 5.9847 0 0 0-3.9977 2.9 6.0462 6.0462 0 0 0 .7427 7.0966 5.98 5.98 0 0 0 .511 4.9107 6.051 6.051 0 0 0 6.5146 2.9001A5.9847 5.9847 0 0 0 13.2599 24a6.0557 6.0557 0 0 0 5.7718-4.2058 5.9894 5.9894 0 0 0 3.9977-2.9001 6.0557 6.0557 0 0 0-.7475-7.0729zm-9.022 12.6081a4.4755 4.4755 0 0 1-2.8764-1.0408l.1419-.0804 4.7783-2.7582a.7948.7948 0 0 0 .3927-.6813v-6.7369l2.02 1.1686a.071.071 0 0 1 .038.052v5.5826a4.504 4.504 0 0 1-4.4945 4.4944zm-9.6607-4.1254a4.4708 4.4708 0 0 1-.5346-3.0137l.142.0852 4.783 2.7582a.7712.7712 0 0 0 .7806 0l5.8428-3.3685v2.3324a.0804.0804 0 0 1-.0332.0615L9.74 19.9502a4.4992 4.4992 0 0 1-6.1408-1.6464zM2.3408 7.8956a4.485 4.485 0 0 1 2.3655-1.9728V11.6a.7664.7664 0 0 0 .3879.6765l5.8144 3.3543-2.0201 1.1685a.0757.0757 0 0 1-.071 0l-4.8303-2.7865A4.504 4.504 0 0 1 2.3408 7.8956zm16.0993 3.8558L12.6 8.3829l2.02-1.1638a.0757.0757 0 0 1 .071 0l4.8303 2.7913a4.4944 4.4944 0 0 1-.6765 8.1042v-5.6772a.79.79 0 0 0-.407-.667zm2.0107-3.0231l-.142-.0852-4.7735-2.7818a.7759.7759 0 0 0-.7854 0L9.409 9.2297V6.8974a.0662.0662 0 0 1 .0284-.0615l4.8303-2.7866a4.4992 4.4992 0 0 1 6.6802 4.66zM8.3065 12.863l-2.02-1.1638a.0804.0804 0 0 1-.038-.0567V6.0742a4.4992 4.4992 0 0 1 7.3757-3.4537l-.142.0805L8.704 5.459a.7948.7948 0 0 0-.3927.6813zm1.0976-2.3654l2.602-1.4998 2.6069 1.4998v2.9994l-2.5974 1.4997-2.6067-1.4997Z"/>
        </svg>
      );
    case 'anthropic':
      return <Brain className={className} />;
    case 'google':
      return (
        <svg className={className} viewBox="0 0 24 24" fill="currentColor">
          <path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/>
          <path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/>
          <path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/>
          <path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/>
        </svg>
      );
    case 'openrouter':
      return <Globe className={className} />;
    case 'together_ai':
      return <Sparkles className={className} />;
    case 'perplexity':
      return <Zap className={className} />;
    case 'brave_search':
      return (
        <svg className={className} viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 0L2.953 4.5v7.5c0 6.627 4.03 11.249 9.047 12 5.017-.751 9.047-5.373 9.047-12V4.5L12 0zm0 2.25l7.5 3.75v6c0 5.385-3.267 9.166-7.5 9.75-4.233-.584-7.5-4.365-7.5-9.75V6l7.5-3.75z" fill="#FB542B"/>
        </svg>
      );
    case 'tavily':
      return <Search className={className} />;
    default:
      return <Bot className={className} />;
  }
};

// Provider color schemes
const PROVIDER_COLORS: Record<string, string> = {
  openai: 'text-emerald-600',
  anthropic: 'text-orange-500',
  google: 'text-blue-500',
  openrouter: 'text-purple-500',
  together_ai: 'text-pink-500',
  perplexity: 'text-cyan-500',
  brave_search: 'text-orange-600',
  tavily: 'text-indigo-500',
};

// Provider descriptions (updated for 2025)
const PROVIDER_DESCRIPTIONS: Record<string, string> = {
  openai: 'GPT-5, GPT-4.1, o3, DALL-E 3, Whisper',
  anthropic: 'Claude 4 Opus, Sonnet, Haiku',
  google: 'Gemini 3 Pro, Gemini 2.5, PaLM',
  openrouter: '100+ models, unified API',
  together_ai: 'DeepSeek, Llama 3.1, Mixtral',
  perplexity: 'AI-powered real-time search',
  brave_search: 'Privacy-focused web search API',
  tavily: 'AI-optimized research API',
};

// Provider URLs for reference
const PROVIDER_URLS: Record<string, string> = {
  openai: 'platform.openai.com',
  anthropic: 'console.anthropic.com',
  google: 'aistudio.google.com',
  openrouter: 'openrouter.ai',
  together_ai: 'api.together.xyz',
  perplexity: 'perplexity.ai',
  brave_search: 'brave.com/search/api',
  tavily: 'tavily.com',
};

interface ProvisioningState {
  status: 'idle' | 'starting' | 'navigating' | 'waiting_login' | 'waiting_2fa' | 'generating' | 'extracting' | 'saving' | 'completed' | 'failed';
  jobId?: string;
  message?: string;
  error?: string;
  progress: number;
  screenshot?: string;
  currentUrl?: string;
  apiKeyMasked?: string;
  savedToSettings?: boolean;
}

interface APIKeyWizardProps {
  open: boolean;
  onOpenChange: (open: boolean) => void;
  onSuccess?: (provider: string, keyMasked: string) => void;
}

export function APIKeyWizard({ open, onOpenChange, onSuccess }: APIKeyWizardProps) {
  const { toast } = useToast();
  const wsRef = useRef<WebSocket | null>(null);
  
  // State
  const [providers, setProviders] = useState<ProviderInfo[]>([]);
  const [selectedProvider, setSelectedProvider] = useState<APIProvider | ''>('');
  const [keyName, setKeyName] = useState('NewsInsight-AutoGenerated');
  const [autoSave, setAutoSave] = useState(true);
  const [loading, setLoading] = useState(false);
  const [twoFactorCode, setTwoFactorCode] = useState('');
  
  const [provisioningState, setProvisioningState] = useState<ProvisioningState>({
    status: 'idle',
    progress: 0,
  });

  // Fetch providers on mount
  useEffect(() => {
    const fetchProviders = async () => {
      try {
        const data = await getAPIKeyProviders();
        setProviders(data.providers);
      } catch (error) {
        console.error('Failed to fetch providers:', error);
        toast({
          title: '오류',
          description: 'API 제공자 목록을 불러오는데 실패했습니다.',
          variant: 'destructive',
        });
      }
    };
    
    if (open) {
      fetchProviders();
    }
  }, [open, toast]);

  // Cleanup WebSocket on unmount
  useEffect(() => {
    return () => {
      if (wsRef.current) {
        wsRef.current.close();
        wsRef.current = null;
      }
    };
  }, []);

  // Connect to WebSocket for real-time updates
  const connectWebSocket = useCallback((jobId: string) => {
    const wsUrl = getBrowserWSUrl(jobId);
    const protocol = window.location.protocol === 'https:' ? 'wss:' : 'ws:';
    const fullWsUrl = `${protocol}//${window.location.host}${wsUrl}`;
    
    const ws = new WebSocket(fullWsUrl);
    wsRef.current = ws;
    
    ws.onopen = () => {
      console.log('WebSocket connected for provisioning job:', jobId);
    };
    
    ws.onmessage = (event) => {
      try {
        const data = JSON.parse(event.data);
        handleWebSocketMessage(data);
      } catch (error) {
        console.error('Failed to parse WebSocket message:', error);
      }
    };
    
    ws.onerror = (error) => {
      console.error('WebSocket error:', error);
    };
    
    ws.onclose = () => {
      console.log('WebSocket closed');
      wsRef.current = null;
    };
  }, []);

  // Handle WebSocket messages
  const handleWebSocketMessage = useCallback((data: Record<string, unknown>) => {
    const type = data.type as string;
    
    switch (type) {
      case 'provisioning_update':
        setProvisioningState(prev => ({
          ...prev,
          status: mapStatus(data.status as string),
          message: data.message as string,
          progress: calculateProgress(data.status as string),
        }));
        break;
        
      case 'step_update':
        setProvisioningState(prev => ({
          ...prev,
          screenshot: data.screenshot as string,
          currentUrl: data.current_url as string,
        }));
        break;
        
      case 'intervention_requested':
        const interventionType = data.intervention_type as string;
        setProvisioningState(prev => ({
          ...prev,
          status: interventionType === '2fa' ? 'waiting_2fa' : 'waiting_login',
          message: data.reason as string,
          screenshot: data.screenshot as string,
          currentUrl: data.current_url as string,
          progress: 40,
        }));
        break;
        
      case 'provisioning_complete':
        setProvisioningState(prev => ({
          ...prev,
          status: 'completed',
          apiKeyMasked: data.api_key_masked as string,
          savedToSettings: data.saved_to_settings as boolean,
          progress: 100,
        }));
        
        if (onSuccess && data.api_key_masked) {
          onSuccess(data.provider as string, data.api_key_masked as string);
        }
        
        toast({
          title: 'API 키 발급 완료!',
          description: `${data.provider} API 키가 성공적으로 발급되었습니다.`,
        });
        break;
        
      case 'provisioning_failed':
        setProvisioningState(prev => ({
          ...prev,
          status: 'failed',
          error: data.error as string,
          progress: 0,
        }));
        
        toast({
          title: 'API 키 발급 실패',
          description: data.error as string,
          variant: 'destructive',
        });
        break;
    }
  }, [onSuccess, toast]);

  // Map status string to state
  const mapStatus = (status: string): ProvisioningState['status'] => {
    const statusMap: Record<string, ProvisioningState['status']> = {
      'pending': 'starting',
      'navigating': 'navigating',
      'waiting_login': 'waiting_login',
      'waiting_2fa': 'waiting_2fa',
      'generating_key': 'generating',
      'extracting_key': 'extracting',
      'saving_key': 'saving',
      'completed': 'completed',
      'failed': 'failed',
    };
    return statusMap[status] || 'starting';
  };

  // Calculate progress percentage
  const calculateProgress = (status: string): number => {
    const progressMap: Record<string, number> = {
      'pending': 5,
      'navigating': 20,
      'waiting_login': 35,
      'waiting_2fa': 45,
      'generating_key': 60,
      'extracting_key': 80,
      'saving_key': 90,
      'completed': 100,
      'failed': 0,
    };
    return progressMap[status] || 0;
  };

  // Start provisioning
  const handleStartProvisioning = async () => {
    if (!selectedProvider) {
      toast({
        title: '제공자를 선택해주세요',
        variant: 'destructive',
      });
      return;
    }
    
    setLoading(true);
    setProvisioningState({
      status: 'starting',
      progress: 5,
      message: '브라우저를 시작하는 중...',
    });
    
    try {
      const response = await startAPIKeyProvisioning({
        provider: selectedProvider,
        key_name: keyName,
        auto_save: autoSave,
        timeout_seconds: 300,
        headless: false,
      });
      
      setProvisioningState(prev => ({
        ...prev,
        jobId: response.job_id,
        status: response.requires_intervention ? 'waiting_login' : 'navigating',
        message: response.message,
        progress: response.requires_intervention ? 35 : 20,
      }));
      
      // Connect WebSocket for real-time updates
      connectWebSocket(response.job_id);
      
    } catch (error) {
      setProvisioningState({
        status: 'failed',
        progress: 0,
        error: error instanceof Error ? error.message : 'Unknown error',
      });
      
      toast({
        title: 'API 키 발급 시작 실패',
        description: error instanceof Error ? error.message : 'Unknown error',
        variant: 'destructive',
      });
    } finally {
      setLoading(false);
    }
  };

  // Handle login completion
  const handleLoginComplete = async () => {
    if (!provisioningState.jobId) return;
    
    try {
      await notifyLoginComplete(provisioningState.jobId);
      setProvisioningState(prev => ({
        ...prev,
        status: 'generating',
        message: 'API 키 생성 중...',
        progress: 60,
      }));
    } catch (error) {
      toast({
        title: '오류',
        description: '로그인 완료 알림에 실패했습니다.',
        variant: 'destructive',
      });
    }
  };

  // Handle 2FA submission
  const handleSubmit2FA = async () => {
    if (!provisioningState.jobId || !twoFactorCode) return;
    
    try {
      await submitProvision2FA(provisioningState.jobId, twoFactorCode);
      setTwoFactorCode('');
      setProvisioningState(prev => ({
        ...prev,
        status: 'generating',
        message: '인증 완료, API 키 생성 중...',
        progress: 60,
      }));
    } catch (error) {
      toast({
        title: '오류',
        description: '2FA 코드 제출에 실패했습니다.',
        variant: 'destructive',
      });
    }
  };

  // Reset wizard
  const handleReset = () => {
    if (wsRef.current) {
      wsRef.current.close();
      wsRef.current = null;
    }
    setProvisioningState({
      status: 'idle',
      progress: 0,
    });
    setSelectedProvider('');
    setTwoFactorCode('');
  };

  // Get status badge
  const getStatusBadge = () => {
    const statusConfig: Record<ProvisioningState['status'], { variant: 'default' | 'secondary' | 'destructive' | 'outline'; label: string }> = {
      idle: { variant: 'secondary', label: '대기중' },
      starting: { variant: 'default', label: '시작중' },
      navigating: { variant: 'default', label: '이동중' },
      waiting_login: { variant: 'outline', label: '로그인 대기' },
      waiting_2fa: { variant: 'outline', label: '2FA 대기' },
      generating: { variant: 'default', label: '생성중' },
      extracting: { variant: 'default', label: '추출중' },
      saving: { variant: 'default', label: '저장중' },
      completed: { variant: 'default', label: '완료' },
      failed: { variant: 'destructive', label: '실패' },
    };
    
    const config = statusConfig[provisioningState.status];
    return <Badge variant={config.variant}>{config.label}</Badge>;
  };

  return (
    <Dialog open={open} onOpenChange={onOpenChange}>
      <DialogContent className="max-w-2xl max-h-[90vh] overflow-y-auto">
        <DialogHeader>
          <DialogTitle className="flex items-center gap-2">
            <Key className="h-5 w-5" />
            API 키 자동 발급
          </DialogTitle>
          <DialogDescription>
            브라우저 자동화를 통해 API 키를 자동으로 발급받습니다.
            로그인이나 2차 인증이 필요한 경우 안내해 드립니다.
          </DialogDescription>
        </DialogHeader>

        {provisioningState.status === 'idle' ? (
          // Provider Selection Form
          <div className="space-y-4">
            <div className="space-y-2">
              <Label>API 제공자 선택</Label>
              <Select value={selectedProvider} onValueChange={(v) => setSelectedProvider(v as APIProvider)}>
                <SelectTrigger>
                  <SelectValue placeholder="제공자를 선택하세요" />
                </SelectTrigger>
                <SelectContent>
                  {providers.map((provider) => (
                    <SelectItem key={provider.name} value={provider.name}>
                      <div className="flex items-center gap-3">
                        <div className={PROVIDER_COLORS[provider.name] || 'text-gray-500'}>
                          <ProviderIcon provider={provider.name} className="h-5 w-5" />
                        </div>
                        <div className="flex flex-col">
                          <span className="font-medium">{provider.display_name}</span>
                          <span className="text-xs text-muted-foreground">
                            {PROVIDER_DESCRIPTIONS[provider.name] || PROVIDER_URLS[provider.name]}
                          </span>
                        </div>
                      </div>
                    </SelectItem>
                  ))}
                </SelectContent>
              </Select>
            </div>

            <div className="space-y-2">
              <Label>키 이름 (선택)</Label>
              <Input
                value={keyName}
                onChange={(e) => setKeyName(e.target.value)}
                placeholder="생성될 API 키의 이름"
              />
            </div>

            <Alert>
              <AlertTriangle className="h-4 w-4" />
              <AlertTitle>주의사항</AlertTitle>
              <AlertDescription>
                <ul className="list-disc list-inside text-sm space-y-1">
                  <li>브라우저가 열리면서 해당 서비스에 자동으로 접속합니다</li>
                  <li>로그인이 필요한 경우 브라우저에서 직접 로그인해주세요</li>
                  <li>2차 인증(2FA)이 필요한 경우 코드를 입력해주세요</li>
                  <li>발급된 키는 자동으로 시스템 설정에 저장됩니다</li>
                </ul>
              </AlertDescription>
            </Alert>
          </div>
        ) : (
          // Provisioning Progress View
          <div className="space-y-4">
            <div className="flex items-center justify-between">
              <div className="flex items-center gap-3">
                <div className={`p-2 rounded-lg bg-muted ${PROVIDER_COLORS[selectedProvider] || 'text-gray-500'}`}>
                  <ProviderIcon provider={selectedProvider} className="h-6 w-6" />
                </div>
                <div>
                  <span className="font-medium">
                    {providers.find(p => p.name === selectedProvider)?.display_name || selectedProvider}
                  </span>
                  <p className="text-xs text-muted-foreground">
                    {PROVIDER_URLS[selectedProvider]}
                  </p>
                </div>
              </div>
              {getStatusBadge()}
            </div>

            <Progress value={provisioningState.progress} className="h-2" />

            <div className="text-sm text-muted-foreground">
              {provisioningState.message}
            </div>

            {/* Screenshot Preview */}
            {provisioningState.screenshot && (
              <Card className="overflow-hidden">
                <CardHeader className="py-2">
                  <div className="flex items-center justify-between">
                    <span className="text-xs text-muted-foreground truncate max-w-[300px]">
                      {provisioningState.currentUrl}
                    </span>
                    {provisioningState.currentUrl && (
                      <Button
                        variant="ghost"
                        size="sm"
                        onClick={() => window.open(provisioningState.currentUrl, '_blank')}
                      >
                        <ExternalLink className="h-3 w-3" />
                      </Button>
                    )}
                  </div>
                </CardHeader>
                <CardContent className="p-0">
                  <img
                    src={`data:image/png;base64,${provisioningState.screenshot}`}
                    alt="Browser screenshot"
                    className="w-full h-auto"
                  />
                </CardContent>
              </Card>
            )}

            {/* Login Required */}
            {provisioningState.status === 'waiting_login' && (
              <Alert>
                <LogIn className="h-4 w-4" />
                <AlertTitle>로그인 필요</AlertTitle>
                <AlertDescription className="space-y-2">
                  <p>브라우저 창에서 로그인을 완료한 후 아래 버튼을 클릭하세요.</p>
                  <Button onClick={handleLoginComplete} className="w-full">
                    <CheckCircle2 className="mr-2 h-4 w-4" />
                    로그인 완료
                  </Button>
                </AlertDescription>
              </Alert>
            )}

            {/* 2FA Required */}
            {provisioningState.status === 'waiting_2fa' && (
              <Alert>
                <Shield className="h-4 w-4" />
                <AlertTitle>2차 인증 필요</AlertTitle>
                <AlertDescription className="space-y-2">
                  <p>SMS 또는 인증 앱에서 받은 코드를 입력하세요.</p>
                  <div className="flex gap-2">
                    <Input
                      value={twoFactorCode}
                      onChange={(e) => setTwoFactorCode(e.target.value)}
                      placeholder="인증 코드 (6자리)"
                      maxLength={6}
                    />
                    <Button onClick={handleSubmit2FA} disabled={twoFactorCode.length < 6}>
                      확인
                    </Button>
                  </div>
                </AlertDescription>
              </Alert>
            )}

            {/* Success */}
            {provisioningState.status === 'completed' && (
              <Alert className="border-green-500">
                <CheckCircle2 className="h-4 w-4 text-green-500" />
                <AlertTitle>발급 완료!</AlertTitle>
                <AlertDescription className="space-y-2">
                  <p>API 키가 성공적으로 발급되었습니다.</p>
                  {provisioningState.apiKeyMasked && (
                    <div className="flex items-center gap-2 p-2 bg-muted rounded">
                      <code className="flex-1">{provisioningState.apiKeyMasked}</code>
                    </div>
                  )}
                  {provisioningState.savedToSettings && (
                    <p className="text-xs text-muted-foreground">
                      ✓ 시스템 설정에 자동 저장되었습니다.
                    </p>
                  )}
                </AlertDescription>
              </Alert>
            )}

            {/* Failed */}
            {provisioningState.status === 'failed' && (
              <Alert variant="destructive">
                <XCircle className="h-4 w-4" />
                <AlertTitle>발급 실패</AlertTitle>
                <AlertDescription>
                  {provisioningState.error || '알 수 없는 오류가 발생했습니다.'}
                </AlertDescription>
              </Alert>
            )}
          </div>
        )}

        <DialogFooter>
          {provisioningState.status === 'idle' ? (
            <>
              <Button variant="outline" onClick={() => onOpenChange(false)}>
                취소
              </Button>
              <Button onClick={handleStartProvisioning} disabled={!selectedProvider || loading}>
                {loading ? (
                  <Loader2 className="mr-2 h-4 w-4 animate-spin" />
                ) : (
                  <Key className="mr-2 h-4 w-4" />
                )}
                키 발급 시작
              </Button>
            </>
          ) : provisioningState.status === 'completed' || provisioningState.status === 'failed' ? (
            <>
              <Button variant="outline" onClick={handleReset}>
                <RefreshCw className="mr-2 h-4 w-4" />
                다시 시작
              </Button>
              <Button onClick={() => onOpenChange(false)}>
                닫기
              </Button>
            </>
          ) : (
            <Button variant="outline" onClick={() => onOpenChange(false)}>
              백그라운드에서 계속
            </Button>
          )}
        </DialogFooter>
      </DialogContent>
    </Dialog>
  );
}

export default APIKeyWizard;

```

---

## frontend/src/components/ActiveJobsIndicator.tsx

```tsx
/**
 * ActiveJobsIndicator - Floating indicator showing active search jobs
 * 
 * Displays a compact badge when jobs are running, expanding to a list
 * when clicked. Shows real-time progress updates via SSE.
 */

import React, { useState } from 'react';
import { useSearchJobs, JOB_TYPE_LABELS, JOB_STATUS_LABELS } from '@/contexts/SearchJobContext';
import { Badge } from '@/components/ui/badge';
import { Button } from '@/components/ui/button';
import { Progress } from '@/components/ui/progress';
import { ScrollArea } from '@/components/ui/scroll-area';
import {
  Popover,
  PopoverContent,
  PopoverTrigger,
} from '@/components/ui/popover';
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger,
} from '@/components/ui/tooltip';
import { cn } from '@/lib/utils';
import type { SearchJob, SearchJobStatus } from '@/lib/api';

// Icons using simple SVG for consistency
const LoaderIcon = ({ className }: { className?: string }) => (
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="16"
    height="16"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    strokeWidth="2"
    strokeLinecap="round"
    strokeLinejoin="round"
    className={cn('animate-spin', className)}
  >
    <path d="M21 12a9 9 0 1 1-6.219-8.56" />
  </svg>
);

const CheckIcon = ({ className }: { className?: string }) => (
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="16"
    height="16"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    strokeWidth="2"
    strokeLinecap="round"
    strokeLinejoin="round"
    className={className}
  >
    <path d="M20 6 9 17l-5-5" />
  </svg>
);

const XIcon = ({ className }: { className?: string }) => (
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="16"
    height="16"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    strokeWidth="2"
    strokeLinecap="round"
    strokeLinejoin="round"
    className={className}
  >
    <path d="M18 6 6 18" />
    <path d="m6 6 12 12" />
  </svg>
);

const ClockIcon = ({ className }: { className?: string }) => (
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="16"
    height="16"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    strokeWidth="2"
    strokeLinecap="round"
    strokeLinejoin="round"
    className={className}
  >
    <circle cx="12" cy="12" r="10" />
    <polyline points="12 6 12 12 16 14" />
  </svg>
);

const TrashIcon = ({ className }: { className?: string }) => (
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="16"
    height="16"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    strokeWidth="2"
    strokeLinecap="round"
    strokeLinejoin="round"
    className={className}
  >
    <path d="M3 6h18" />
    <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" />
    <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" />
  </svg>
);

const WifiOffIcon = ({ className }: { className?: string }) => (
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="16"
    height="16"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    strokeWidth="2"
    strokeLinecap="round"
    strokeLinejoin="round"
    className={className}
  >
    <path d="M12 20h.01" />
    <path d="M8.5 16.429a5 5 0 0 1 7 0" />
    <path d="M5 12.859a10 10 0 0 1 5.17-2.69" />
    <path d="M19 12.859a10 10 0 0 0-2.007-1.523" />
    <path d="M2 8.82a15 15 0 0 1 4.177-2.643" />
    <path d="M22 8.82a15 15 0 0 0-11.288-3.764" />
    <path d="m2 2 20 20" />
  </svg>
);

// Status icon component
function StatusIcon({ status, className }: { status: SearchJobStatus; className?: string }) {
  switch (status) {
    case 'PENDING':
      return <ClockIcon className={cn('text-muted-foreground', className)} />;
    case 'RUNNING':
      return <LoaderIcon className={cn('text-blue-500', className)} />;
    case 'COMPLETED':
      return <CheckIcon className={cn('text-green-500', className)} />;
    case 'FAILED':
      return <XIcon className={cn('text-red-500', className)} />;
    case 'CANCELLED':
      return <XIcon className={cn('text-muted-foreground', className)} />;
    default:
      return <ClockIcon className={cn('text-muted-foreground', className)} />;
  }
}

// Status badge variant
function getStatusVariant(status: SearchJobStatus): 'default' | 'secondary' | 'destructive' | 'outline' {
  switch (status) {
    case 'RUNNING':
      return 'default';
    case 'COMPLETED':
      return 'secondary';
    case 'FAILED':
      return 'destructive';
    default:
      return 'outline';
  }
}

// Single job item component
function JobItem({ 
  job, 
  onCancel,
  onRemove,
}: { 
  job: SearchJob;
  onCancel?: (jobId: string) => void;
  onRemove?: (jobId: string) => void;
}) {
  const isActive = job.status === 'PENDING' || job.status === 'RUNNING';
  const isTerminal = job.status === 'COMPLETED' || job.status === 'FAILED' || job.status === 'CANCELLED';

  return (
    <div className="p-3 border-b border-border last:border-b-0 hover:bg-muted/50 transition-colors">
      <div className="flex items-start gap-2">
        <StatusIcon status={job.status} className="mt-1 flex-shrink-0" />
        
        <div className="flex-1 min-w-0">
          <div className="flex items-center gap-2 mb-1">
            <span className="text-xs text-muted-foreground">
              {JOB_TYPE_LABELS[job.type]}
            </span>
            <Badge variant={getStatusVariant(job.status)} className="text-xs h-5">
              {JOB_STATUS_LABELS[job.status]}
            </Badge>
          </div>
          
          <p className="text-sm font-medium truncate" title={job.query}>
            {job.query}
          </p>
          
          {isActive && (
            <div className="mt-2">
              <Progress value={job.progress} className="h-1.5" />
              <p className="text-xs text-muted-foreground mt-1">
                {job.currentPhase || `${job.progress}%`}
              </p>
            </div>
          )}
          
          {job.status === 'FAILED' && job.errorMessage && (
            <p className="text-xs text-red-500 mt-1 truncate" title={job.errorMessage}>
              {job.errorMessage}
            </p>
          )}
        </div>

        {/* Action buttons */}
        <div className="flex-shrink-0 flex gap-1">
          {isActive && onCancel && (
            <TooltipProvider>
              <Tooltip>
                <TooltipTrigger asChild>
                  <Button
                    variant="ghost"
                    size="icon"
                    className="h-6 w-6"
                    onClick={() => onCancel(job.jobId)}
                  >
                    <XIcon className="h-3 w-3" />
                  </Button>
                </TooltipTrigger>
                <TooltipContent>취소</TooltipContent>
              </Tooltip>
            </TooltipProvider>
          )}
          
          {isTerminal && onRemove && (
            <TooltipProvider>
              <Tooltip>
                <TooltipTrigger asChild>
                  <Button
                    variant="ghost"
                    size="icon"
                    className="h-6 w-6"
                    onClick={() => onRemove(job.jobId)}
                  >
                    <TrashIcon className="h-3 w-3" />
                  </Button>
                </TooltipTrigger>
                <TooltipContent>제거</TooltipContent>
              </Tooltip>
            </TooltipProvider>
          )}
        </div>
      </div>
    </div>
  );
}

interface ActiveJobsIndicatorProps {
  className?: string;
  position?: 'bottom-right' | 'bottom-left' | 'top-right' | 'top-left';
  showWhenEmpty?: boolean;
}

export function ActiveJobsIndicator({
  className,
  position = 'bottom-right',
  showWhenEmpty = false,
}: ActiveJobsIndicatorProps) {
  const [isOpen, setIsOpen] = useState(false);
  const {
    jobs,
    activeJobs,
    completedJobs,
    hasActiveJobs,
    activeJobCount,
    isConnected,
    connectionError,
    cancelJob,
    clearCompletedJobs,
    refreshJobs,
  } = useSearchJobs();

  // Position classes
  const positionClasses = {
    'bottom-right': 'fixed bottom-4 right-4',
    'bottom-left': 'fixed bottom-4 left-4',
    'top-right': 'fixed top-4 right-4',
    'top-left': 'fixed top-4 left-4',
  };

  // Don't render if no jobs and showWhenEmpty is false
  if (!showWhenEmpty && jobs.length === 0) {
    return null;
  }

  const handleCancel = async (jobId: string) => {
    await cancelJob(jobId);
  };

  const handleRemove = (jobId: string) => {
    // Just refresh to update the list
    refreshJobs();
  };

  return (
    <div className={cn(positionClasses[position], 'z-50', className)}>
      <Popover open={isOpen} onOpenChange={setIsOpen}>
        <PopoverTrigger asChild>
          <Button
            variant={hasActiveJobs ? 'default' : 'secondary'}
            size="sm"
            className={cn(
              'gap-2 shadow-lg',
              hasActiveJobs && 'animate-pulse'
            )}
          >
            {hasActiveJobs ? (
              <LoaderIcon className="h-4 w-4" />
            ) : (
              <CheckIcon className="h-4 w-4" />
            )}
            
            <span>
              {hasActiveJobs 
                ? `${activeJobCount}개 작업 진행 중` 
                : `${jobs.length}개 작업`
              }
            </span>
            
            {!isConnected && (
              <TooltipProvider>
                <Tooltip>
                  <TooltipTrigger>
                    <WifiOffIcon className="h-3 w-3 text-yellow-500" />
                  </TooltipTrigger>
                  <TooltipContent>
                    {connectionError || '실시간 연결 끊김'}
                  </TooltipContent>
                </Tooltip>
              </TooltipProvider>
            )}
          </Button>
        </PopoverTrigger>

        <PopoverContent 
          className="w-80 p-0" 
          align={position.includes('right') ? 'end' : 'start'}
          side={position.includes('bottom') ? 'top' : 'bottom'}
        >
          <div className="p-3 border-b border-border flex items-center justify-between">
            <h4 className="font-medium">검색 작업</h4>
            {completedJobs.length > 0 && (
              <Button
                variant="ghost"
                size="sm"
                className="h-7 text-xs"
                onClick={clearCompletedJobs}
              >
                완료 항목 지우기
              </Button>
            )}
          </div>

          {jobs.length === 0 ? (
            <div className="p-6 text-center text-muted-foreground text-sm">
              진행 중인 작업이 없습니다
            </div>
          ) : (
            <ScrollArea className="max-h-80">
              {/* Active jobs first */}
              {activeJobs.length > 0 && (
                <div>
                  <div className="px-3 py-1.5 bg-muted/50 text-xs font-medium text-muted-foreground">
                    진행 중 ({activeJobs.length})
                  </div>
                  {activeJobs.map(job => (
                    <JobItem
                      key={job.jobId}
                      job={job}
                      onCancel={handleCancel}
                    />
                  ))}
                </div>
              )}

              {/* Completed jobs */}
              {completedJobs.length > 0 && (
                <div>
                  <div className="px-3 py-1.5 bg-muted/50 text-xs font-medium text-muted-foreground">
                    완료됨 ({completedJobs.length})
                  </div>
                  {completedJobs.slice(0, 10).map(job => (
                    <JobItem
                      key={job.jobId}
                      job={job}
                      onRemove={handleRemove}
                    />
                  ))}
                </div>
              )}
            </ScrollArea>
          )}

          {/* Connection status footer */}
          <div className="p-2 border-t border-border flex items-center justify-between text-xs text-muted-foreground">
            <span className="flex items-center gap-1.5">
              <span 
                className={cn(
                  'w-2 h-2 rounded-full',
                  isConnected ? 'bg-green-500' : 'bg-yellow-500'
                )} 
              />
              {isConnected ? '실시간 연결됨' : '연결 끊김'}
            </span>
            <Button
              variant="ghost"
              size="sm"
              className="h-6 text-xs"
              onClick={() => refreshJobs()}
            >
              새로고침
            </Button>
          </div>
        </PopoverContent>
      </Popover>
    </div>
  );
}

/**
 * Compact version for header/navbar integration
 */
export function ActiveJobsBadge({ className }: { className?: string }) {
  const { hasActiveJobs, activeJobCount, isConnected } = useSearchJobs();

  if (!hasActiveJobs) {
    return null;
  }

  return (
    <TooltipProvider>
      <Tooltip>
        <TooltipTrigger asChild>
          <Badge 
            variant="default" 
            className={cn('gap-1.5 cursor-pointer', className)}
          >
            <LoaderIcon className="h-3 w-3" />
            {activeJobCount}
            {!isConnected && (
              <WifiOffIcon className="h-3 w-3 text-yellow-300" />
            )}
          </Badge>
        </TooltipTrigger>
        <TooltipContent>
          {activeJobCount}개 작업 진행 중
        </TooltipContent>
      </Tooltip>
    </TooltipProvider>
  );
}

export default ActiveJobsIndicator;

```

---

## frontend/src/components/AdvancedFilters.tsx

```tsx
import { useState, useCallback } from "react";
import {
  ChevronDown,
  ChevronUp,
  Filter,
  Calendar as CalendarIcon,
  Globe,
  Database,
  Brain,
  X,
  RotateCcw,
} from "lucide-react";
import { format } from "date-fns";
import { ko } from "date-fns/locale";
import { Button } from "@/components/ui/button";
import { Badge } from "@/components/ui/badge";
import { Checkbox } from "@/components/ui/checkbox";
import { Label } from "@/components/ui/label";
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select";
import {
  Collapsible,
  CollapsibleContent,
  CollapsibleTrigger,
} from "@/components/ui/collapsible";
import {
  Popover,
  PopoverContent,
  PopoverTrigger,
} from "@/components/ui/popover";
import { Calendar } from "@/components/ui/calendar";
import { Separator } from "@/components/ui/separator";
import { cn } from "@/lib/utils";

export interface SearchFilters {
  /** 시간 범위 (preset) */
  timeWindow: string;
  /** 커스텀 시작 날짜 (timeWindow가 "custom"일 때 사용) */
  customStartDate?: Date;
  /** 커스텀 종료 날짜 (timeWindow가 "custom"일 때 사용) */
  customEndDate?: Date;
  /** 활성화된 소스 */
  sources: {
    database: boolean;
    web: boolean;
    ai: boolean;
  };
  /** 정렬 기준 */
  sortBy: "relevance" | "date" | "reliability";
  /** 정렬 순서 */
  sortOrder: "asc" | "desc";
  /** 언어 필터 */
  language: "all" | "ko" | "en";
  /** 신뢰도 최소값 */
  minReliability?: number;
}

export const defaultFilters: SearchFilters = {
  timeWindow: "7d",
  customStartDate: undefined,
  customEndDate: undefined,
  sources: {
    database: true,
    web: true,
    ai: true,
  },
  sortBy: "relevance",
  sortOrder: "desc",
  language: "all",
  minReliability: undefined,
};

interface AdvancedFiltersProps {
  /** 현재 필터 값 */
  filters: SearchFilters;
  /** 필터 변경 핸들러 */
  onFiltersChange: (filters: SearchFilters) => void;
  /** 비활성화 여부 */
  disabled?: boolean;
  /** 추가 CSS 클래스 */
  className?: string;
  /** 컴팩트 모드 (인라인 표시) */
  compact?: boolean;
}

const sourceConfig = {
  database: { icon: Database, label: "저장된 뉴스", color: "text-blue-600" },
  web: { icon: Globe, label: "웹 검색", color: "text-green-600" },
  ai: { icon: Brain, label: "AI 분석", color: "text-purple-600" },
};

const timeOptions = [
  { value: "1h", label: "최근 1시간" },
  { value: "24h", label: "최근 24시간" },
  { value: "3d", label: "최근 3일" },
  { value: "7d", label: "최근 7일" },
  { value: "14d", label: "최근 2주" },
  { value: "30d", label: "최근 30일" },
  { value: "90d", label: "최근 3개월" },
  { value: "180d", label: "최근 6개월" },
  { value: "365d", label: "최근 1년" },
  { value: "all", label: "전체 기간" },
  { value: "custom", label: "직접 선택" },
];

const sortOptions = [
  { value: "relevance", label: "관련도순" },
  { value: "date", label: "최신순" },
  { value: "reliability", label: "신뢰도순" },
];

const languageOptions = [
  { value: "all", label: "전체 언어" },
  { value: "ko", label: "한국어" },
  { value: "en", label: "English" },
];

/** 활성 필터 수 계산 */
const getActiveFilterCount = (filters: SearchFilters): number => {
  let count = 0;
  if (filters.timeWindow !== defaultFilters.timeWindow) count++;
  if (filters.timeWindow === "custom" && (filters.customStartDate || filters.customEndDate)) count++;
  if (filters.sortBy !== defaultFilters.sortBy) count++;
  if (filters.language !== defaultFilters.language) count++;
  if (filters.minReliability !== undefined) count++;
  const sourcesChanged =
    filters.sources.database !== defaultFilters.sources.database ||
    filters.sources.web !== defaultFilters.sources.web ||
    filters.sources.ai !== defaultFilters.sources.ai;
  if (sourcesChanged) count++;
  return count;
};

/** 날짜 범위 라벨 생성 */
const getDateRangeLabel = (filters: SearchFilters): string => {
  if (filters.timeWindow === "custom") {
    if (filters.customStartDate && filters.customEndDate) {
      return `${format(filters.customStartDate, "yy.MM.dd")} - ${format(filters.customEndDate, "yy.MM.dd")}`;
    } else if (filters.customStartDate) {
      return `${format(filters.customStartDate, "yy.MM.dd")} ~`;
    } else if (filters.customEndDate) {
      return `~ ${format(filters.customEndDate, "yy.MM.dd")}`;
    }
    return "직접 선택";
  }
  const opt = timeOptions.find((o) => o.value === filters.timeWindow);
  return opt?.label || filters.timeWindow;
};

export function AdvancedFilters({
  filters,
  onFiltersChange,
  disabled = false,
  className,
  compact = false,
}: AdvancedFiltersProps) {
  const [isOpen, setIsOpen] = useState(false);
  const [datePickerOpen, setDatePickerOpen] = useState(false);
  const activeCount = getActiveFilterCount(filters);

  const updateFilter = useCallback(
    <K extends keyof SearchFilters>(key: K, value: SearchFilters[K]) => {
      onFiltersChange({ ...filters, [key]: value });
    },
    [filters, onFiltersChange]
  );

  const updateSource = useCallback(
    (source: keyof SearchFilters["sources"], checked: boolean) => {
      // 최소 하나의 소스는 활성화되어야 함
      const newSources = { ...filters.sources, [source]: checked };
      if (!newSources.database && !newSources.web && !newSources.ai) {
        return; // 모두 비활성화 방지
      }
      onFiltersChange({ ...filters, sources: newSources });
    },
    [filters, onFiltersChange]
  );

  const updateCustomDateRange = useCallback(
    (startDate: Date | undefined, endDate: Date | undefined) => {
      onFiltersChange({
        ...filters,
        timeWindow: "custom",
        customStartDate: startDate,
        customEndDate: endDate,
      });
    },
    [filters, onFiltersChange]
  );

  const resetFilters = useCallback(() => {
    onFiltersChange(defaultFilters);
  }, [onFiltersChange]);

  // 컴팩트 모드: 인라인 칩으로 표시
  if (compact) {
    return (
      <div className={cn("flex flex-wrap items-center gap-2", className)}>
        {/* 시간 범위 - with custom date picker */}
        <Popover open={datePickerOpen} onOpenChange={setDatePickerOpen}>
          <PopoverTrigger asChild>
            <Button
              variant="outline"
              size="sm"
              className={cn(
                "h-8 text-sm justify-start",
                filters.timeWindow === "custom" ? "w-auto min-w-[160px]" : "w-[130px]"
              )}
              disabled={disabled}
            >
              <CalendarIcon className="h-3 w-3 mr-1" />
              <span className="truncate">{getDateRangeLabel(filters)}</span>
            </Button>
          </PopoverTrigger>
          <PopoverContent className="w-auto p-0" align="start">
            <div className="p-2 border-b">
              <div className="grid grid-cols-3 gap-1">
                {timeOptions.filter(opt => opt.value !== "custom").map((opt) => (
                  <Button
                    key={opt.value}
                    variant={filters.timeWindow === opt.value ? "secondary" : "ghost"}
                    size="sm"
                    className="text-xs h-7"
                    onClick={() => {
                      onFiltersChange({
                        ...filters,
                        timeWindow: opt.value,
                        customStartDate: undefined,
                        customEndDate: undefined,
                      });
                      setDatePickerOpen(false);
                    }}
                  >
                    {opt.label}
                  </Button>
                ))}
              </div>
            </div>
            <Separator />
            <div className="p-2">
              <Label className="text-xs text-muted-foreground mb-2 block">직접 선택</Label>
              <div className="flex gap-2">
                <div className="flex-1">
                  <Label className="text-xs mb-1 block">시작일</Label>
                  <Popover>
                    <PopoverTrigger asChild>
                      <Button
                        variant="outline"
                        size="sm"
                        className={cn(
                          "w-full justify-start text-left text-xs",
                          !filters.customStartDate && "text-muted-foreground"
                        )}
                      >
                        {filters.customStartDate ? (
                          format(filters.customStartDate, "yyyy.MM.dd", { locale: ko })
                        ) : (
                          "선택"
                        )}
                      </Button>
                    </PopoverTrigger>
                    <PopoverContent className="w-auto p-0" align="start">
                      <Calendar
                        mode="single"
                        selected={filters.customStartDate}
                        onSelect={(date) => {
                          updateCustomDateRange(date, filters.customEndDate);
                        }}
                        disabled={(date) =>
                          date > new Date() || (filters.customEndDate ? date > filters.customEndDate : false)
                        }
                        locale={ko}
                        initialFocus
                      />
                    </PopoverContent>
                  </Popover>
                </div>
                <div className="flex-1">
                  <Label className="text-xs mb-1 block">종료일</Label>
                  <Popover>
                    <PopoverTrigger asChild>
                      <Button
                        variant="outline"
                        size="sm"
                        className={cn(
                          "w-full justify-start text-left text-xs",
                          !filters.customEndDate && "text-muted-foreground"
                        )}
                      >
                        {filters.customEndDate ? (
                          format(filters.customEndDate, "yyyy.MM.dd", { locale: ko })
                        ) : (
                          "선택"
                        )}
                      </Button>
                    </PopoverTrigger>
                    <PopoverContent className="w-auto p-0" align="start">
                      <Calendar
                        mode="single"
                        selected={filters.customEndDate}
                        onSelect={(date) => {
                          updateCustomDateRange(filters.customStartDate, date);
                        }}
                        disabled={(date) =>
                          date > new Date() || (filters.customStartDate ? date < filters.customStartDate : false)
                        }
                        locale={ko}
                        initialFocus
                      />
                    </PopoverContent>
                  </Popover>
                </div>
              </div>
              {(filters.customStartDate || filters.customEndDate) && (
                <Button
                  variant="ghost"
                  size="sm"
                  className="w-full mt-2 text-xs"
                  onClick={() => {
                    updateCustomDateRange(undefined, undefined);
                  }}
                >
                  날짜 초기화
                </Button>
              )}
            </div>
          </PopoverContent>
        </Popover>

        {/* 정렬 */}
        <Select
          value={filters.sortBy}
          onValueChange={(v) => updateFilter("sortBy", v as SearchFilters["sortBy"])}
          disabled={disabled}
        >
          <SelectTrigger className="w-[110px] h-8 text-sm">
            <SelectValue />
          </SelectTrigger>
          <SelectContent>
            {sortOptions.map((opt) => (
              <SelectItem key={opt.value} value={opt.value}>
                {opt.label}
              </SelectItem>
            ))}
          </SelectContent>
        </Select>

        {/* 소스 토글 버튼 */}
        {(Object.entries(sourceConfig) as [keyof typeof sourceConfig, typeof sourceConfig.database][]).map(
          ([key, config]) => {
            const Icon = config.icon;
            const isActive = filters.sources[key];
            return (
              <Button
                key={key}
                variant={isActive ? "secondary" : "outline"}
                size="sm"
                className={cn(
                  "h-8 gap-1",
                  isActive && config.color,
                  !isActive && "opacity-50"
                )}
                onClick={() => updateSource(key, !isActive)}
                disabled={disabled}
              >
                <Icon className="h-3 w-3" />
                <span className="hidden sm:inline">{config.label}</span>
              </Button>
            );
          }
        )}

        {/* 리셋 버튼 */}
        {activeCount > 0 && (
          <Button
            variant="ghost"
            size="sm"
            className="h-8"
            onClick={resetFilters}
            disabled={disabled}
          >
            <RotateCcw className="h-3 w-3 mr-1" />
            초기화
          </Button>
        )}
      </div>
    );
  }

  // 펼침 모드: Collapsible 패널
  return (
    <Collapsible open={isOpen} onOpenChange={setIsOpen} className={className}>
      <CollapsibleTrigger asChild>
        <Button
          variant="outline"
          className="w-full justify-between"
          disabled={disabled}
        >
          <div className="flex items-center gap-2">
            <Filter className="h-4 w-4" />
            <span>고급 필터</span>
            {activeCount > 0 && (
              <Badge variant="secondary" className="ml-1">
                {activeCount}
              </Badge>
            )}
          </div>
          {isOpen ? (
            <ChevronUp className="h-4 w-4" />
          ) : (
            <ChevronDown className="h-4 w-4" />
          )}
        </Button>
      </CollapsibleTrigger>

      <CollapsibleContent className="mt-4 space-y-4 p-4 border rounded-lg bg-muted/30">
        {/* 시간 범위 & 정렬 */}
        <div className="grid grid-cols-1 sm:grid-cols-3 gap-4">
          <div className="space-y-2">
            <Label className="text-sm font-medium">기간</Label>
            <Select
              value={filters.timeWindow}
              onValueChange={(v) => {
                if (v === "custom") {
                  onFiltersChange({ ...filters, timeWindow: "custom" });
                } else {
                  onFiltersChange({
                    ...filters,
                    timeWindow: v,
                    customStartDate: undefined,
                    customEndDate: undefined,
                  });
                }
              }}
              disabled={disabled}
            >
              <SelectTrigger>
                <SelectValue>{getDateRangeLabel(filters)}</SelectValue>
              </SelectTrigger>
              <SelectContent>
                {timeOptions.map((opt) => (
                  <SelectItem key={opt.value} value={opt.value}>
                    {opt.label}
                  </SelectItem>
                ))}
              </SelectContent>
            </Select>
          </div>

          {/* Custom date range pickers */}
          {filters.timeWindow === "custom" && (
            <>
              <div className="space-y-2">
                <Label className="text-sm font-medium">시작일</Label>
                <Popover>
                  <PopoverTrigger asChild>
                    <Button
                      variant="outline"
                      className={cn(
                        "w-full justify-start text-left font-normal",
                        !filters.customStartDate && "text-muted-foreground"
                      )}
                      disabled={disabled}
                    >
                      <CalendarIcon className="mr-2 h-4 w-4" />
                      {filters.customStartDate ? (
                        format(filters.customStartDate, "yyyy년 MM월 dd일", { locale: ko })
                      ) : (
                        "시작일 선택"
                      )}
                    </Button>
                  </PopoverTrigger>
                  <PopoverContent className="w-auto p-0" align="start">
                    <Calendar
                      mode="single"
                      selected={filters.customStartDate}
                      onSelect={(date) => updateCustomDateRange(date, filters.customEndDate)}
                      disabled={(date) =>
                        date > new Date() || (filters.customEndDate ? date > filters.customEndDate : false)
                      }
                      locale={ko}
                      initialFocus
                    />
                  </PopoverContent>
                </Popover>
              </div>

              <div className="space-y-2">
                <Label className="text-sm font-medium">종료일</Label>
                <Popover>
                  <PopoverTrigger asChild>
                    <Button
                      variant="outline"
                      className={cn(
                        "w-full justify-start text-left font-normal",
                        !filters.customEndDate && "text-muted-foreground"
                      )}
                      disabled={disabled}
                    >
                      <CalendarIcon className="mr-2 h-4 w-4" />
                      {filters.customEndDate ? (
                        format(filters.customEndDate, "yyyy년 MM월 dd일", { locale: ko })
                      ) : (
                        "종료일 선택"
                      )}
                    </Button>
                  </PopoverTrigger>
                  <PopoverContent className="w-auto p-0" align="start">
                    <Calendar
                      mode="single"
                      selected={filters.customEndDate}
                      onSelect={(date) => updateCustomDateRange(filters.customStartDate, date)}
                      disabled={(date) =>
                        date > new Date() || (filters.customStartDate ? date < filters.customStartDate : false)
                      }
                      locale={ko}
                      initialFocus
                    />
                  </PopoverContent>
                </Popover>
              </div>
            </>
          )}

          {filters.timeWindow !== "custom" && (
            <>
              <div className="space-y-2">
                <Label className="text-sm font-medium">정렬</Label>
                <Select
                  value={filters.sortBy}
                  onValueChange={(v) => updateFilter("sortBy", v as SearchFilters["sortBy"])}
                  disabled={disabled}
                >
                  <SelectTrigger>
                    <SelectValue />
                  </SelectTrigger>
                  <SelectContent>
                    {sortOptions.map((opt) => (
                      <SelectItem key={opt.value} value={opt.value}>
                        {opt.label}
                      </SelectItem>
                    ))}
                  </SelectContent>
                </Select>
              </div>

              <div className="space-y-2">
                <Label className="text-sm font-medium">언어</Label>
                <Select
                  value={filters.language}
                  onValueChange={(v) => updateFilter("language", v as SearchFilters["language"])}
                  disabled={disabled}
                >
                  <SelectTrigger>
                    <SelectValue />
                  </SelectTrigger>
                  <SelectContent>
                    {languageOptions.map((opt) => (
                      <SelectItem key={opt.value} value={opt.value}>
                        {opt.label}
                      </SelectItem>
                    ))}
                  </SelectContent>
                </Select>
              </div>
            </>
          )}
        </div>

        {/* 정렬 & 언어 row when custom date is selected */}
        {filters.timeWindow === "custom" && (
          <div className="grid grid-cols-1 sm:grid-cols-2 gap-4">
            <div className="space-y-2">
              <Label className="text-sm font-medium">정렬</Label>
              <Select
                value={filters.sortBy}
                onValueChange={(v) => updateFilter("sortBy", v as SearchFilters["sortBy"])}
                disabled={disabled}
              >
                <SelectTrigger>
                  <SelectValue />
                </SelectTrigger>
                <SelectContent>
                  {sortOptions.map((opt) => (
                    <SelectItem key={opt.value} value={opt.value}>
                      {opt.label}
                    </SelectItem>
                  ))}
                </SelectContent>
              </Select>
            </div>

            <div className="space-y-2">
              <Label className="text-sm font-medium">언어</Label>
              <Select
                value={filters.language}
                onValueChange={(v) => updateFilter("language", v as SearchFilters["language"])}
                disabled={disabled}
              >
                <SelectTrigger>
                  <SelectValue />
                </SelectTrigger>
                <SelectContent>
                  {languageOptions.map((opt) => (
                    <SelectItem key={opt.value} value={opt.value}>
                      {opt.label}
                    </SelectItem>
                  ))}
                </SelectContent>
              </Select>
            </div>
          </div>
        )}

        <Separator />

        {/* 소스 선택 */}
        <div className="space-y-3">
          <Label className="text-sm font-medium">검색 소스</Label>
          <div className="flex flex-wrap gap-4">
            {(Object.entries(sourceConfig) as [keyof typeof sourceConfig, typeof sourceConfig.database][]).map(
              ([key, config]) => {
                const Icon = config.icon;
                return (
                  <div key={key} className="flex items-center space-x-2">
                    <Checkbox
                      id={`source-${key}`}
                      checked={filters.sources[key]}
                      onCheckedChange={(checked) => updateSource(key, checked === true)}
                      disabled={disabled}
                    />
                    <Label
                      htmlFor={`source-${key}`}
                      className={cn(
                        "flex items-center gap-1.5 cursor-pointer",
                        config.color
                      )}
                    >
                      <Icon className="h-4 w-4" />
                      {config.label}
                    </Label>
                  </div>
                );
              }
            )}
          </div>
        </div>

        {/* 액션 버튼 */}
        <div className="flex justify-end gap-2 pt-2">
          {activeCount > 0 && (
            <Button variant="ghost" size="sm" onClick={resetFilters} disabled={disabled}>
              <RotateCcw className="h-4 w-4 mr-1" />
              초기화
            </Button>
          )}
          <Button size="sm" onClick={() => setIsOpen(false)}>
            적용
          </Button>
        </div>
      </CollapsibleContent>
    </Collapsible>
  );
}

/** 활성 필터 표시 배지 */
export function ActiveFilterBadges({
  filters,
  onRemove,
  className,
}: {
  filters: SearchFilters;
  onRemove: (key: keyof SearchFilters, resetValue: unknown) => void;
  className?: string;
}) {
  const badges: { key: keyof SearchFilters; label: string; resetValue: unknown }[] = [];

  if (filters.timeWindow !== defaultFilters.timeWindow) {
    const label = getDateRangeLabel(filters);
    badges.push({ key: "timeWindow", label, resetValue: defaultFilters.timeWindow });
  }

  if (filters.sortBy !== defaultFilters.sortBy) {
    const opt = sortOptions.find((o) => o.value === filters.sortBy);
    badges.push({ key: "sortBy", label: opt?.label || filters.sortBy, resetValue: defaultFilters.sortBy });
  }

  if (filters.language !== defaultFilters.language) {
    const opt = languageOptions.find((o) => o.value === filters.language);
    badges.push({ key: "language", label: opt?.label || filters.language, resetValue: defaultFilters.language });
  }

  if (badges.length === 0) return null;

  return (
    <div className={cn("flex flex-wrap gap-2", className)}>
      {badges.map((badge) => (
        <Badge key={badge.key} variant="secondary" className="gap-1 pr-1">
          {badge.label}
          <button
            onClick={() => onRemove(badge.key, badge.resetValue)}
            className="ml-1 rounded-full p-0.5 hover:bg-muted"
          >
            <X className="h-3 w-3" />
          </button>
        </Badge>
      ))}
    </div>
  );
}

export default AdvancedFilters;

```

---

## frontend/src/components/AnalysisBadges.tsx

```tsx
import React from "react";
import { Badge } from "@/components/ui/badge";
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger,
} from "@/components/ui/tooltip";
import { Skeleton } from "@/components/ui/skeleton";
import {
  Shield,
  AlertTriangle,
  CheckCircle,
  XCircle,
  TrendingUp,
  TrendingDown,
  Minus,
  MessageSquare,
  AlertCircle,
  HelpCircle,
} from "lucide-react";
import { cn } from "@/lib/utils";

// ========== Types ==========

export interface AnalysisData {
  analyzed?: boolean;
  analysisStatus?: "pending" | "partial" | "complete";
  reliabilityScore?: number;
  reliabilityGrade?: "high" | "medium" | "low";
  reliabilityColor?: "green" | "yellow" | "red";
  sentimentLabel?: "positive" | "negative" | "neutral";
  sentimentScore?: number;
  biasLabel?: string;
  biasScore?: number;
  factcheckStatus?: "verified" | "suspicious" | "conflicting" | "unverified";
  misinfoRisk?: "low" | "mid" | "high";
  riskTags?: string[];
  topics?: string[];
  hasDiscussion?: boolean;
  totalCommentCount?: number;
  discussionSentiment?: string;
}

// ========== Reliability Badge ==========

interface ReliabilityBadgeProps {
  score?: number;
  grade?: string;
  color?: string;
  loading?: boolean;
  size?: "sm" | "md" | "lg";
}

export const ReliabilityBadge: React.FC<ReliabilityBadgeProps> = ({
  score,
  grade,
  color,
  loading = false,
  size = "md",
}) => {
  if (loading) {
    return <Skeleton className={cn("h-6", size === "sm" ? "w-12" : "w-16")} />;
  }

  if (score === undefined || score === null) {
    return (
      <TooltipProvider>
        <Tooltip>
          <TooltipTrigger asChild>
            <Badge variant="outline" className="gap-1 text-muted-foreground">
              <HelpCircle className="h-3 w-3" />
              {size !== "sm" && "분석 중"}
            </Badge>
          </TooltipTrigger>
          <TooltipContent>
            <p>신뢰도 분석 대기 중</p>
          </TooltipContent>
        </Tooltip>
      </TooltipProvider>
    );
  }

  const colorClasses = {
    green: "bg-green-100 text-green-800 border-green-300 dark:bg-green-900/30 dark:text-green-400",
    yellow: "bg-yellow-100 text-yellow-800 border-yellow-300 dark:bg-yellow-900/30 dark:text-yellow-400",
    red: "bg-red-100 text-red-800 border-red-300 dark:bg-red-900/30 dark:text-red-400",
  };

  const iconColor = {
    green: "text-green-600",
    yellow: "text-yellow-600",
    red: "text-red-600",
  };

  const badgeColor = colorClasses[color as keyof typeof colorClasses] || colorClasses.yellow;
  const Icon = color === "green" ? Shield : color === "red" ? AlertTriangle : AlertCircle;

  return (
    <TooltipProvider>
      <Tooltip>
        <TooltipTrigger asChild>
          <Badge variant="outline" className={cn("gap-1", badgeColor)}>
            <Icon className={cn("h-3 w-3", iconColor[color as keyof typeof iconColor])} />
            {size !== "sm" && `신뢰도 ${Math.round(score)}%`}
            {size === "sm" && `${Math.round(score)}%`}
          </Badge>
        </TooltipTrigger>
        <TooltipContent>
          <div className="text-sm">
            <p className="font-semibold">신뢰도: {Math.round(score)}점</p>
            <p className="text-muted-foreground">
              {grade === "high" && "높은 신뢰도 - 검증된 출처"}
              {grade === "medium" && "보통 신뢰도 - 추가 검증 권장"}
              {grade === "low" && "낮은 신뢰도 - 주의 필요"}
            </p>
          </div>
        </TooltipContent>
      </Tooltip>
    </TooltipProvider>
  );
};

// ========== Sentiment Badge ==========

interface SentimentBadgeProps {
  label?: string;
  score?: number;
  loading?: boolean;
  size?: "sm" | "md" | "lg";
}

export const SentimentBadge: React.FC<SentimentBadgeProps> = ({
  label,
  score,
  loading = false,
  size = "md",
}) => {
  if (loading) {
    return <Skeleton className={cn("h-6", size === "sm" ? "w-12" : "w-14")} />;
  }

  if (!label) {
    return null;
  }

  const config = {
    positive: {
      icon: TrendingUp,
      label: "긍정",
      classes: "bg-emerald-100 text-emerald-800 border-emerald-300 dark:bg-emerald-900/30 dark:text-emerald-400",
    },
    negative: {
      icon: TrendingDown,
      label: "부정",
      classes: "bg-rose-100 text-rose-800 border-rose-300 dark:bg-rose-900/30 dark:text-rose-400",
    },
    neutral: {
      icon: Minus,
      label: "중립",
      classes: "bg-slate-100 text-slate-800 border-slate-300 dark:bg-slate-800/50 dark:text-slate-400",
    },
  };

  const { icon: Icon, label: displayLabel, classes } = config[label as keyof typeof config] || config.neutral;

  return (
    <TooltipProvider>
      <Tooltip>
        <TooltipTrigger asChild>
          <Badge variant="outline" className={cn("gap-1", classes)}>
            <Icon className="h-3 w-3" />
            {size !== "sm" && displayLabel}
          </Badge>
        </TooltipTrigger>
        <TooltipContent>
          <p>감정 분석: {displayLabel}</p>
          {score !== undefined && <p className="text-muted-foreground">점수: {score.toFixed(2)}</p>}
        </TooltipContent>
      </Tooltip>
    </TooltipProvider>
  );
};

// ========== Factcheck Badge ==========

interface FactcheckBadgeProps {
  status?: string;
  misinfoRisk?: string;
  loading?: boolean;
  size?: "sm" | "md" | "lg";
}

export const FactcheckBadge: React.FC<FactcheckBadgeProps> = ({
  status,
  misinfoRisk,
  loading = false,
  size = "md",
}) => {
  if (loading) {
    return <Skeleton className={cn("h-6", size === "sm" ? "w-12" : "w-16")} />;
  }

  if (!status && !misinfoRisk) {
    return null;
  }

  const config = {
    verified: {
      icon: CheckCircle,
      label: "검증됨",
      classes: "bg-green-100 text-green-800 border-green-300 dark:bg-green-900/30 dark:text-green-400",
    },
    suspicious: {
      icon: AlertTriangle,
      label: "의심",
      classes: "bg-orange-100 text-orange-800 border-orange-300 dark:bg-orange-900/30 dark:text-orange-400",
    },
    conflicting: {
      icon: AlertCircle,
      label: "상충",
      classes: "bg-yellow-100 text-yellow-800 border-yellow-300 dark:bg-yellow-900/30 dark:text-yellow-400",
    },
    unverified: {
      icon: HelpCircle,
      label: "미검증",
      classes: "bg-slate-100 text-slate-700 border-slate-300 dark:bg-slate-800/50 dark:text-slate-400",
    },
  };

  const { icon: Icon, label, classes } = config[status as keyof typeof config] || config.unverified;

  return (
    <TooltipProvider>
      <Tooltip>
        <TooltipTrigger asChild>
          <Badge variant="outline" className={cn("gap-1", classes)}>
            <Icon className="h-3 w-3" />
            {size !== "sm" && label}
          </Badge>
        </TooltipTrigger>
        <TooltipContent>
          <div className="text-sm">
            <p className="font-semibold">팩트체크: {label}</p>
            {misinfoRisk && (
              <p className="text-muted-foreground">
                허위정보 위험도: {misinfoRisk === "high" ? "높음" : misinfoRisk === "mid" ? "중간" : "낮음"}
              </p>
            )}
          </div>
        </TooltipContent>
      </Tooltip>
    </TooltipProvider>
  );
};

// ========== Bias Badge ==========

interface BiasBadgeProps {
  label?: string;
  score?: number;
  loading?: boolean;
  size?: "sm" | "md" | "lg";
}

export const BiasBadge: React.FC<BiasBadgeProps> = ({
  label,
  score,
  loading = false,
  size = "md",
}) => {
  if (loading) {
    return <Skeleton className={cn("h-6", size === "sm" ? "w-12" : "w-14")} />;
  }

  if (!label) {
    return null;
  }

  const config: Record<string, { label: string; classes: string }> = {
    left: {
      label: "진보",
      classes: "bg-blue-100 text-blue-800 border-blue-300 dark:bg-blue-900/30 dark:text-blue-400",
    },
    right: {
      label: "보수",
      classes: "bg-red-100 text-red-800 border-red-300 dark:bg-red-900/30 dark:text-red-400",
    },
    center: {
      label: "중도",
      classes: "bg-purple-100 text-purple-800 border-purple-300 dark:bg-purple-900/30 dark:text-purple-400",
    },
  };

  const { label: displayLabel, classes } = config[label] || { label, classes: "bg-slate-100 text-slate-700" };

  return (
    <TooltipProvider>
      <Tooltip>
        <TooltipTrigger asChild>
          <Badge variant="outline" className={cn("gap-1", classes)}>
            {size !== "sm" && `편향: ${displayLabel}`}
            {size === "sm" && displayLabel}
          </Badge>
        </TooltipTrigger>
        <TooltipContent>
          <p>편향도 분석: {displayLabel}</p>
          {score !== undefined && <p className="text-muted-foreground">점수: {score.toFixed(2)}</p>}
        </TooltipContent>
      </Tooltip>
    </TooltipProvider>
  );
};

// ========== Discussion Badge ==========

interface DiscussionBadgeProps {
  hasDiscussion?: boolean;
  totalCommentCount?: number;
  sentiment?: string;
  loading?: boolean;
  size?: "sm" | "md" | "lg";
}

export const DiscussionBadge: React.FC<DiscussionBadgeProps> = ({
  hasDiscussion,
  totalCommentCount,
  sentiment,
  loading = false,
  size = "md",
}) => {
  if (loading) {
    return <Skeleton className={cn("h-6", size === "sm" ? "w-12" : "w-16")} />;
  }

  if (!hasDiscussion || !totalCommentCount) {
    return null;
  }

  const sentimentConfig: Record<string, string> = {
    positive: "text-emerald-600",
    negative: "text-rose-600",
    neutral: "text-slate-600",
    mixed: "text-amber-600",
  };

  const formatCount = (count: number) => {
    if (count >= 1000) return `${(count / 1000).toFixed(1)}k`;
    return count.toString();
  };

  return (
    <TooltipProvider>
      <Tooltip>
        <TooltipTrigger asChild>
          <Badge variant="outline" className="gap-1 bg-slate-50 dark:bg-slate-800/50">
            <MessageSquare className={cn("h-3 w-3", sentimentConfig[sentiment || "neutral"])} />
            {formatCount(totalCommentCount)}
          </Badge>
        </TooltipTrigger>
        <TooltipContent>
          <div className="text-sm">
            <p className="font-semibold">댓글/여론: {totalCommentCount}건</p>
            {sentiment && (
              <p className="text-muted-foreground">
                전반적 분위기:{" "}
                {sentiment === "positive"
                  ? "긍정적"
                  : sentiment === "negative"
                  ? "부정적"
                  : sentiment === "mixed"
                  ? "혼재"
                  : "중립적"}
              </p>
            )}
          </div>
        </TooltipContent>
      </Tooltip>
    </TooltipProvider>
  );
};

// ========== Risk Tags ==========

interface RiskTagsProps {
  tags?: string[];
  loading?: boolean;
  maxShow?: number;
}

export const RiskTags: React.FC<RiskTagsProps> = ({
  tags,
  loading = false,
  maxShow = 2,
}) => {
  if (loading) {
    return <Skeleton className="h-5 w-20" />;
  }

  if (!tags || tags.length === 0) {
    return null;
  }

  const tagLabels: Record<string, string> = {
    clickbait: "낚시성",
    sensational: "선정적",
    unverified_source: "미검증 출처",
    opinion_piece: "의견 기사",
    sponsored: "협찬/광고",
    outdated: "오래된 정보",
  };

  const visibleTags = tags.slice(0, maxShow);
  const hiddenCount = tags.length - maxShow;

  return (
    <div className="flex flex-wrap gap-1">
      {visibleTags.map((tag) => (
        <Badge
          key={tag}
          variant="outline"
          className="text-xs bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-900/20 dark:text-amber-400"
        >
          {tagLabels[tag] || tag}
        </Badge>
      ))}
      {hiddenCount > 0 && (
        <TooltipProvider>
          <Tooltip>
            <TooltipTrigger asChild>
              <Badge variant="outline" className="text-xs">
                +{hiddenCount}
              </Badge>
            </TooltipTrigger>
            <TooltipContent>
              <div className="text-sm">
                {tags.slice(maxShow).map((tag) => (
                  <p key={tag}>{tagLabels[tag] || tag}</p>
                ))}
              </div>
            </TooltipContent>
          </Tooltip>
        </TooltipProvider>
      )}
    </div>
  );
};

// ========== Combined Analysis Badges ==========

interface AnalysisBadgesProps {
  data: AnalysisData;
  loading?: boolean;
  size?: "sm" | "md" | "lg";
  showAll?: boolean;
}

export const AnalysisBadges: React.FC<AnalysisBadgesProps> = ({
  data,
  loading = false,
  size = "md",
  showAll = false,
}) => {
  const isLoading = loading || data.analysisStatus === "pending";

  return (
    <div className="flex flex-wrap items-center gap-1.5">
      <ReliabilityBadge
        score={data.reliabilityScore}
        grade={data.reliabilityGrade}
        color={data.reliabilityColor}
        loading={isLoading}
        size={size}
      />
      <SentimentBadge
        label={data.sentimentLabel}
        score={data.sentimentScore}
        loading={isLoading}
        size={size}
      />
      {(showAll || data.factcheckStatus) && (
        <FactcheckBadge
          status={data.factcheckStatus}
          misinfoRisk={data.misinfoRisk}
          loading={isLoading}
          size={size}
        />
      )}
      {(showAll || data.biasLabel) && (
        <BiasBadge
          label={data.biasLabel}
          score={data.biasScore}
          loading={isLoading}
          size={size}
        />
      )}
      <DiscussionBadge
        hasDiscussion={data.hasDiscussion}
        totalCommentCount={data.totalCommentCount}
        sentiment={data.discussionSentiment}
        loading={isLoading}
        size={size}
      />
      {data.riskTags && data.riskTags.length > 0 && (
        <RiskTags tags={data.riskTags} loading={isLoading} />
      )}
    </div>
  );
};

export default AnalysisBadges;

```

---

## frontend/src/components/AnalysisExportMenu.tsx

```tsx
/**
 * AnalysisExportMenu - AI 분석 결과 내보내기 메뉴
 * 
 * PDF, Markdown, HTML, 텍스트 형식으로 내보내기 지원
 */

import { useState, useCallback } from 'react';
import { 
  Download, 
  FileText, 
  FileCode, 
  FileType2, 
  Copy, 
  Check,
  Loader2,
  ChevronDown,
} from 'lucide-react';
import { Button } from '@/components/ui/button';
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuLabel,
  DropdownMenuSeparator,
  DropdownMenuTrigger,
} from '@/components/ui/dropdown-menu';
import { toast } from 'sonner';
import {
  exportUnifiedSearchReport,
  triggerPdfDownload,
  type ReportRequest,
} from '@/lib/api';

interface AnalysisExportMenuProps {
  /** AI 분석 내용 (마크다운) */
  content: string;
  /** 검색 쿼리 */
  query: string;
  /** Job ID (PDF 생성용) */
  jobId?: string;
  /** 버튼 크기 */
  size?: 'default' | 'sm' | 'lg' | 'icon';
  /** 버튼 변형 */
  variant?: 'default' | 'outline' | 'ghost' | 'secondary';
  /** 비활성화 */
  disabled?: boolean;
}

/**
 * HTML 템플릿 생성
 */
const generateHtmlReport = (content: string, query: string): string => {
  const timestamp = new Date().toLocaleString('ko-KR');
  
  return `<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NewsInsight AI 분석 - ${query}</title>
  <style>
    :root {
      --primary: #7c3aed;
      --primary-light: #a78bfa;
      --bg: #ffffff;
      --text: #1f2937;
      --text-muted: #6b7280;
      --border: #e5e7eb;
      --section-summary: #eff6ff;
      --section-verify: #f0fdf4;
      --section-data: #faf5ff;
      --section-view: #fff7ed;
      --section-warn: #fffbeb;
      --section-conclusion: #eef2ff;
    }
    
    @media (prefers-color-scheme: dark) {
      :root {
        --bg: #111827;
        --text: #f9fafb;
        --text-muted: #9ca3af;
        --border: #374151;
        --section-summary: #1e3a5f;
        --section-verify: #14532d;
        --section-data: #3b0764;
        --section-view: #431407;
        --section-warn: #422006;
        --section-conclusion: #1e1b4b;
      }
    }
    
    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Noto Sans KR', sans-serif;
      line-height: 1.7;
      color: var(--text);
      background: var(--bg);
      max-width: 900px;
      margin: 0 auto;
      padding: 2rem;
    }
    
    header {
      text-align: center;
      padding-bottom: 2rem;
      margin-bottom: 2rem;
      border-bottom: 2px solid var(--primary);
    }
    
    header h1 {
      color: var(--primary);
      font-size: 1.5rem;
      margin-bottom: 0.5rem;
    }
    
    header .query {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }
    
    header .meta {
      color: var(--text-muted);
      font-size: 0.875rem;
    }
    
    h2 {
      font-size: 1.25rem;
      padding: 0.75rem 1rem;
      margin: 1.5rem 0 1rem;
      border-left: 4px solid var(--primary);
      border-radius: 0 0.5rem 0.5rem 0;
    }
    
    h2:has(+ *):nth-of-type(1), h2:contains("요약") { background: var(--section-summary); }
    h2:contains("검증") { background: var(--section-verify); }
    h2:contains("데이터"), h2:contains("수치") { background: var(--section-data); }
    h2:contains("관점") { background: var(--section-view); }
    h2:contains("주의") { background: var(--section-warn); }
    h2:contains("결론") { background: var(--section-conclusion); }
    
    h3 {
      font-size: 1rem;
      margin: 1.25rem 0 0.75rem;
      padding-bottom: 0.5rem;
      border-bottom: 1px solid var(--border);
    }
    
    p { margin: 0.75rem 0; }
    
    ul, ol { padding-left: 1.5rem; margin: 0.75rem 0; }
    li { margin: 0.5rem 0; }
    
    strong { font-weight: 600; color: var(--text); }
    
    a { color: var(--primary); text-decoration: none; }
    a:hover { text-decoration: underline; }
    
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 1rem 0;
      font-size: 0.9rem;
      border-radius: 0.5rem;
      overflow: hidden;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    
    th, td {
      padding: 0.75rem 1rem;
      text-align: left;
      border-bottom: 1px solid var(--border);
    }
    
    th {
      background: var(--border);
      font-weight: 600;
    }
    
    tr:hover { background: rgba(124, 58, 237, 0.05); }
    
    .badge {
      display: inline-block;
      padding: 0.25rem 0.5rem;
      border-radius: 0.25rem;
      font-size: 0.75rem;
      font-weight: 500;
    }
    
    .badge-high { background: #dcfce7; color: #166534; }
    .badge-medium { background: #fef9c3; color: #854d0e; }
    .badge-low { background: #fee2e2; color: #991b1b; }
    
    blockquote {
      margin: 1rem 0;
      padding: 0.75rem 1rem;
      border-left: 4px solid var(--primary-light);
      background: rgba(124, 58, 237, 0.05);
      border-radius: 0 0.5rem 0.5rem 0;
      font-style: italic;
      color: var(--text-muted);
    }
    
    code {
      background: var(--border);
      padding: 0.125rem 0.375rem;
      border-radius: 0.25rem;
      font-family: 'Fira Code', monospace;
      font-size: 0.875em;
    }
    
    hr {
      border: none;
      border-top: 2px dashed var(--border);
      margin: 2rem 0;
    }
    
    footer {
      margin-top: 3rem;
      padding-top: 1.5rem;
      border-top: 1px solid var(--border);
      text-align: center;
      color: var(--text-muted);
      font-size: 0.875rem;
    }
    
    @media print {
      body { padding: 1rem; }
      h2 { break-after: avoid; }
      table { break-inside: avoid; }
    }
  </style>
</head>
<body>
  <header>
    <h1>NewsInsight AI 분석 보고서</h1>
    <div class="query">"${query}"</div>
    <div class="meta">생성 시간: ${timestamp}</div>
  </header>
  
  <main>
    ${markdownToHtml(content)}
  </main>
  
  <footer>
    <p>이 보고서는 NewsInsight AI에 의해 자동 생성되었습니다.</p>
    <p>모든 정보는 참고용이며, 최종 판단은 사용자의 몫입니다.</p>
  </footer>
</body>
</html>`;
};

/**
 * 간단한 마크다운 -> HTML 변환
 */
const markdownToHtml = (md: string): string => {
  let html = md
    // 헤더
    .replace(/^### \[([^\]]+)\] (.+)$/gm, '<h3>$1: $2</h3>')
    .replace(/^### (.+)$/gm, '<h3>$1</h3>')
    .replace(/^## \[([^\]]+)\] (.+)$/gm, '<h2>$1: $2</h2>')
    .replace(/^## (.+)$/gm, '<h2>$1</h2>')
    // 테이블
    .replace(/\|(.+)\|/g, (match) => {
      const cells = match.split('|').filter(c => c.trim());
      if (cells.every(c => c.trim().match(/^-+$/))) {
        return ''; // 구분선 제거
      }
      const isHeader = cells.some(c => c.includes('사실') || c.includes('출처') || c.includes('검증'));
      const tag = isHeader ? 'th' : 'td';
      const row = cells.map(c => {
        let content = c.trim();
        // 검증 수준 배지
        if (content.match(/^(높음|중간|낮음)$/)) {
          const badgeClass = content === '높음' ? 'badge-high' : content === '중간' ? 'badge-medium' : 'badge-low';
          content = `<span class="badge ${badgeClass}">${content}</span>`;
        }
        return `<${tag}>${content}</${tag}>`;
      }).join('');
      return `<tr>${row}</tr>`;
    })
    // 테이블 래퍼
    .replace(/(<tr>.*<\/tr>\n?)+/gs, '<table>$&</table>')
    // 굵게
    .replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>')
    // 기울임
    .replace(/\*(.+?)\*/g, '<em>$1</em>')
    // 링크
    .replace(/\[([^\]]+)\]\(([^)]+)\)/g, '<a href="$2" target="_blank">$1</a>')
    // 리스트
    .replace(/^- (.+)$/gm, '<li>$1</li>')
    .replace(/(<li>.*<\/li>\n?)+/gs, '<ul>$&</ul>')
    // 인용
    .replace(/^> (.+)$/gm, '<blockquote>$1</blockquote>')
    // 코드
    .replace(/`([^`]+)`/g, '<code>$1</code>')
    // 구분선
    .replace(/^---$/gm, '<hr>')
    // 단락
    .replace(/^(?!<[a-z])(.*[^\n])$/gm, '<p>$1</p>')
    // 빈 p 태그 제거
    .replace(/<p>\s*<\/p>/g, '');
  
  return html;
};

/**
 * 파일 다운로드 트리거
 */
const downloadFile = (content: string, filename: string, mimeType: string) => {
  const blob = new Blob([content], { type: mimeType });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = filename;
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
  URL.revokeObjectURL(url);
};

/**
 * AI 분석 결과 내보내기 메뉴 컴포넌트
 */
export function AnalysisExportMenu({
  content,
  query,
  jobId,
  size = 'sm',
  variant = 'outline',
  disabled = false,
}: AnalysisExportMenuProps) {
  const [isExporting, setIsExporting] = useState(false);
  const [copied, setCopied] = useState(false);
  
  const timestamp = new Date().toISOString().slice(0, 10).replace(/-/g, '');
  const safeQuery = query.replace(/[^가-힣a-zA-Z0-9]/g, '_').slice(0, 30);
  const baseFilename = `NewsInsight_AI분석_${safeQuery}_${timestamp}`;

  // PDF 내보내기
  const handleExportPdf = useCallback(async () => {
    if (!jobId) {
      toast.error('PDF 내보내기는 검색 작업 ID가 필요합니다.');
      return;
    }
    
    setIsExporting(true);
    try {
      const request: ReportRequest = {
        reportType: 'UNIFIED_SEARCH',
        targetId: jobId,
        query,
        timeWindow: '7d',
        includeSections: ['COVER', 'EXECUTIVE_SUMMARY'],
        chartImages: {},
        language: 'ko',
      };
      
      const blob = await exportUnifiedSearchReport(jobId, request);
      triggerPdfDownload(blob, `${baseFilename}.pdf`);
      toast.success('PDF 보고서가 다운로드되었습니다.');
    } catch (error) {
      console.error('PDF export failed:', error);
      toast.error('PDF 생성에 실패했습니다.');
    } finally {
      setIsExporting(false);
    }
  }, [jobId, query, baseFilename]);

  // Markdown 내보내기
  const handleExportMarkdown = useCallback(() => {
    const mdContent = `# NewsInsight AI 분석 보고서

**검색어**: ${query}  
**생성 시간**: ${new Date().toLocaleString('ko-KR')}

---

${content}

---

*이 보고서는 NewsInsight AI에 의해 자동 생성되었습니다.*
`;
    downloadFile(mdContent, `${baseFilename}.md`, 'text/markdown;charset=utf-8');
    toast.success('Markdown 파일이 다운로드되었습니다.');
  }, [content, query, baseFilename]);

  // HTML 내보내기
  const handleExportHtml = useCallback(() => {
    const htmlContent = generateHtmlReport(content, query);
    downloadFile(htmlContent, `${baseFilename}.html`, 'text/html;charset=utf-8');
    toast.success('HTML 파일이 다운로드되었습니다.');
  }, [content, query, baseFilename]);

  // 텍스트 내보내기
  const handleExportText = useCallback(() => {
    // 마크다운 문법 제거
    const plainText = content
      .replace(/#{1,6}\s/g, '')
      .replace(/\*\*(.+?)\*\*/g, '$1')
      .replace(/\*(.+?)\*/g, '$1')
      .replace(/\[([^\]]+)\]\([^)]+\)/g, '$1')
      .replace(/`([^`]+)`/g, '$1')
      .replace(/\|/g, ' | ');
    
    const textContent = `NewsInsight AI 분석 보고서
========================================

검색어: ${query}
생성 시간: ${new Date().toLocaleString('ko-KR')}

========================================

${plainText}

========================================

이 보고서는 NewsInsight AI에 의해 자동 생성되었습니다.
`;
    downloadFile(textContent, `${baseFilename}.txt`, 'text/plain;charset=utf-8');
    toast.success('텍스트 파일이 다운로드되었습니다.');
  }, [content, query, baseFilename]);

  // 클립보드 복사
  const handleCopy = useCallback(async () => {
    try {
      await navigator.clipboard.writeText(content);
      setCopied(true);
      toast.success('클립보드에 복사되었습니다.');
      setTimeout(() => setCopied(false), 2000);
    } catch (error) {
      toast.error('복사에 실패했습니다.');
    }
  }, [content]);

  return (
    <DropdownMenu>
      <DropdownMenuTrigger asChild>
        <Button variant={variant} size={size} disabled={disabled || isExporting}>
          {isExporting ? (
            <Loader2 className="h-4 w-4 animate-spin" />
          ) : (
            <Download className="h-4 w-4" />
          )}
          <span className="ml-1.5">내보내기</span>
          <ChevronDown className="h-3 w-3 ml-1 opacity-70" />
        </Button>
      </DropdownMenuTrigger>
      <DropdownMenuContent align="end" className="w-48">
        <DropdownMenuLabel>내보내기 형식</DropdownMenuLabel>
        <DropdownMenuSeparator />
        
        {jobId && (
          <DropdownMenuItem onClick={handleExportPdf} disabled={isExporting}>
            <FileText className="h-4 w-4 mr-2 text-red-600" />
            PDF 보고서
          </DropdownMenuItem>
        )}
        
        <DropdownMenuItem onClick={handleExportMarkdown}>
          <FileCode className="h-4 w-4 mr-2 text-blue-600" />
          Markdown (.md)
        </DropdownMenuItem>
        
        <DropdownMenuItem onClick={handleExportHtml}>
          <FileType2 className="h-4 w-4 mr-2 text-orange-600" />
          HTML 웹페이지
        </DropdownMenuItem>
        
        <DropdownMenuItem onClick={handleExportText}>
          <FileText className="h-4 w-4 mr-2 text-gray-600" />
          텍스트 (.txt)
        </DropdownMenuItem>
        
        <DropdownMenuSeparator />
        
        <DropdownMenuItem onClick={handleCopy}>
          {copied ? (
            <Check className="h-4 w-4 mr-2 text-green-600" />
          ) : (
            <Copy className="h-4 w-4 mr-2" />
          )}
          클립보드 복사
        </DropdownMenuItem>
      </DropdownMenuContent>
    </DropdownMenu>
  );
}

export default AnalysisExportMenu;

```

---

## frontend/src/components/AnalysisProgressTimeline.tsx

```tsx
import { useMemo } from "react";
import {
  Search,
  Globe,
  FileText,
  Brain,
  CheckCircle2,
  Loader2,
  Circle,
  AlertCircle,
  Clock,
  Sparkles,
  Database,
  Filter,
} from "lucide-react";
import { cn } from "@/lib/utils";
import { Progress } from "@/components/ui/progress";
import { Badge } from "@/components/ui/badge";

/** 분석 단계 정의 */
export type AnalysisStep =
  | "queued"
  | "initializing"
  | "searching"
  | "collecting"
  | "analyzing"
  | "classifying"
  | "summarizing"
  | "completed"
  | "failed";

export interface AnalysisStepInfo {
  id: AnalysisStep;
  label: string;
  description: string;
  icon: typeof Search;
  estimatedDuration?: number; // seconds
}

/** 기본 분석 단계 설정 */
export const DEFAULT_ANALYSIS_STEPS: AnalysisStepInfo[] = [
  {
    id: "queued",
    label: "대기 중",
    description: "분석 요청이 대기열에 추가되었습니다",
    icon: Clock,
    estimatedDuration: 2,
  },
  {
    id: "initializing",
    label: "초기화",
    description: "분석 환경을 준비하고 있습니다",
    icon: Sparkles,
    estimatedDuration: 3,
  },
  {
    id: "searching",
    label: "검색 중",
    description: "웹에서 관련 정보를 검색하고 있습니다",
    icon: Globe,
    estimatedDuration: 15,
  },
  {
    id: "collecting",
    label: "수집 중",
    description: "검색된 페이지에서 정보를 수집하고 있습니다",
    icon: Database,
    estimatedDuration: 20,
  },
  {
    id: "analyzing",
    label: "분석 중",
    description: "AI가 수집된 정보를 분석하고 있습니다",
    icon: Brain,
    estimatedDuration: 30,
  },
  {
    id: "classifying",
    label: "분류 중",
    description: "증거를 입장별로 분류하고 있습니다",
    icon: Filter,
    estimatedDuration: 10,
  },
  {
    id: "summarizing",
    label: "요약 중",
    description: "분석 결과를 정리하고 있습니다",
    icon: FileText,
    estimatedDuration: 5,
  },
  {
    id: "completed",
    label: "완료",
    description: "분석이 완료되었습니다",
    icon: CheckCircle2,
  },
];

export interface StepProgress {
  step: AnalysisStep;
  status: "pending" | "active" | "completed" | "error";
  message?: string;
  startedAt?: string;
  completedAt?: string;
  itemsProcessed?: number;
  totalItems?: number;
}

interface AnalysisProgressTimelineProps {
  /** 현재 단계 */
  currentStep: AnalysisStep;
  /** 각 단계별 상세 진행 상황 */
  stepProgress?: StepProgress[];
  /** 전체 진행률 (0-100) */
  overallProgress?: number;
  /** 현재 진행 메시지 */
  message?: string;
  /** 수집된 항목 수 */
  collectedCount?: number;
  /** 실패 여부 */
  failed?: boolean;
  /** 에러 메시지 */
  errorMessage?: string;
  /** 분석 주제 */
  topic?: string;
  /** 단계 설정 (커스텀) */
  steps?: AnalysisStepInfo[];
  /** 컴팩트 모드 */
  compact?: boolean;
  /** 추가 CSS 클래스 */
  className?: string;
}

/** 단계 인덱스 계산 */
const getStepIndex = (step: AnalysisStep, steps: AnalysisStepInfo[]): number => {
  return steps.findIndex((s) => s.id === step);
};

/** 단계 상태 결정 */
const getStepStatus = (
  stepInfo: AnalysisStepInfo,
  currentStep: AnalysisStep,
  steps: AnalysisStepInfo[],
  failed: boolean
): "pending" | "active" | "completed" | "error" => {
  const currentIndex = getStepIndex(currentStep, steps);
  const stepIndex = getStepIndex(stepInfo.id, steps);

  if (failed && stepIndex === currentIndex) return "error";
  if (stepIndex < currentIndex) return "completed";
  if (stepIndex === currentIndex) return "active";
  return "pending";
};

export function AnalysisProgressTimeline({
  currentStep,
  stepProgress,
  overallProgress,
  message,
  collectedCount,
  failed = false,
  errorMessage,
  topic,
  steps = DEFAULT_ANALYSIS_STEPS,
  compact = false,
  className,
}: AnalysisProgressTimelineProps) {
  // 진행 중인 단계들만 표시 (completed 제외, 실패가 아닐 때)
  const visibleSteps = useMemo(() => {
    if (failed) return steps;
    const completedIndex = steps.findIndex((s) => s.id === "completed");
    if (currentStep === "completed") return steps;
    return steps.slice(0, completedIndex);
  }, [steps, currentStep, failed]);

  // 전체 진행률 계산
  const calculatedProgress = useMemo(() => {
    if (overallProgress !== undefined) return overallProgress;
    const currentIndex = getStepIndex(currentStep, steps);
    const totalSteps = steps.length - 1; // completed 제외
    if (currentStep === "completed") return 100;
    if (currentStep === "failed") return 0;
    return Math.round((currentIndex / totalSteps) * 100);
  }, [currentStep, steps, overallProgress]);

  // 컴팩트 모드
  if (compact) {
    return (
      <div className={cn("space-y-3", className)}>
        {/* 진행 바 */}
        <div className="space-y-1">
          <div className="flex items-center justify-between text-sm">
            <span className="text-muted-foreground">
              {message || steps.find((s) => s.id === currentStep)?.description}
            </span>
            <span className="font-medium">{calculatedProgress}%</span>
          </div>
          <Progress value={calculatedProgress} className="h-2" />
        </div>

        {/* 현재 단계 표시 */}
        <div className="flex items-center gap-2">
          {(() => {
            const stepInfo = steps.find((s) => s.id === currentStep);
            if (!stepInfo) return null;
            const Icon = stepInfo.icon;
            const status = getStepStatus(stepInfo, currentStep, steps, failed);

            return (
              <>
                {status === "active" ? (
                  <Loader2 className="h-4 w-4 animate-spin text-primary" />
                ) : status === "completed" ? (
                  <CheckCircle2 className="h-4 w-4 text-green-600" />
                ) : status === "error" ? (
                  <AlertCircle className="h-4 w-4 text-destructive" />
                ) : (
                  <Icon className="h-4 w-4 text-muted-foreground" />
                )}
                <span className="font-medium">{stepInfo.label}</span>
                {collectedCount !== undefined && collectedCount > 0 && (
                  <Badge variant="secondary" className="ml-auto">
                    {collectedCount}개 수집
                  </Badge>
                )}
              </>
            );
          })()}
        </div>
      </div>
    );
  }

  // 전체 타임라인 모드
  return (
    <div className={cn("space-y-6", className)}>
      {/* 헤더 */}
      {topic && (
        <div className="text-center">
          <h3 className="font-semibold text-lg">'{topic}' 분석 중</h3>
          <p className="text-sm text-muted-foreground mt-1">
            {message || "AI가 웹에서 정보를 수집하고 분석하고 있습니다."}
          </p>
        </div>
      )}

      {/* 전체 진행률 */}
      <div className="space-y-2">
        <div className="flex items-center justify-between text-sm">
          <span className="text-muted-foreground">전체 진행률</span>
          <span className="font-medium">{calculatedProgress}%</span>
        </div>
        <Progress value={calculatedProgress} className="h-3" />
        {collectedCount !== undefined && collectedCount > 0 && (
          <p className="text-sm text-center text-muted-foreground">
            현재까지 <span className="font-medium text-foreground">{collectedCount}개</span>의
            증거를 수집했습니다
          </p>
        )}
      </div>

      {/* 단계별 타임라인 */}
      <div className="relative">
        {/* 연결선 */}
        <div className="absolute left-[15px] top-0 bottom-0 w-0.5 bg-border" />

        <div className="space-y-1">
          {visibleSteps.map((stepInfo, index) => {
            const status = getStepStatus(stepInfo, currentStep, steps, failed);
            const Icon = stepInfo.icon;
            const progressInfo = stepProgress?.find((p) => p.step === stepInfo.id);

            return (
              <div
                key={stepInfo.id}
                className={cn(
                  "relative flex items-start gap-4 p-3 rounded-lg transition-all",
                  status === "active" && "bg-primary/5",
                  status === "error" && "bg-destructive/5"
                )}
              >
                {/* 아이콘 */}
                <div
                  className={cn(
                    "relative z-10 flex items-center justify-center w-8 h-8 rounded-full border-2 transition-all",
                    status === "completed" && "bg-green-500 border-green-500 text-white",
                    status === "active" && "bg-primary border-primary text-primary-foreground",
                    status === "error" && "bg-destructive border-destructive text-destructive-foreground",
                    status === "pending" && "bg-background border-muted-foreground/30 text-muted-foreground"
                  )}
                >
                  {status === "active" ? (
                    <Loader2 className="h-4 w-4 animate-spin" />
                  ) : status === "completed" ? (
                    <CheckCircle2 className="h-4 w-4" />
                  ) : status === "error" ? (
                    <AlertCircle className="h-4 w-4" />
                  ) : (
                    <Circle className="h-3 w-3" />
                  )}
                </div>

                {/* 내용 */}
                <div className="flex-1 min-w-0 pt-1">
                  <div className="flex items-center gap-2">
                    <span
                      className={cn(
                        "font-medium",
                        status === "active" && "text-primary",
                        status === "completed" && "text-green-600",
                        status === "error" && "text-destructive",
                        status === "pending" && "text-muted-foreground"
                      )}
                    >
                      {stepInfo.label}
                    </span>
                    {status === "active" && progressInfo?.itemsProcessed !== undefined && (
                      <Badge variant="secondary" className="text-xs">
                        {progressInfo.itemsProcessed}
                        {progressInfo.totalItems ? `/${progressInfo.totalItems}` : ""}
                      </Badge>
                    )}
                  </div>
                  <p
                    className={cn(
                      "text-sm",
                      status === "active" ? "text-muted-foreground" : "text-muted-foreground/70"
                    )}
                  >
                    {progressInfo?.message || stepInfo.description}
                  </p>
                  {status === "error" && errorMessage && (
                    <p className="text-sm text-destructive mt-1">{errorMessage}</p>
                  )}
                </div>

                {/* 시간 표시 */}
                {progressInfo?.completedAt && status === "completed" && (
                  <span className="text-xs text-muted-foreground shrink-0">
                    {new Date(progressInfo.completedAt).toLocaleTimeString("ko-KR", {
                      hour: "2-digit",
                      minute: "2-digit",
                    })}
                  </span>
                )}
              </div>
            );
          })}
        </div>
      </div>

      {/* 안내 메시지 */}
      <p className="text-xs text-center text-muted-foreground">
        다른 페이지로 이동해도 분석은 백그라운드에서 계속됩니다
      </p>
    </div>
  );
}

/** 간단한 인라인 진행률 표시 */
export function InlineAnalysisProgress({
  currentStep,
  progress,
  message,
  collectedCount,
  className,
}: {
  currentStep: AnalysisStep;
  progress?: number;
  message?: string;
  collectedCount?: number;
  className?: string;
}) {
  const stepInfo = DEFAULT_ANALYSIS_STEPS.find((s) => s.id === currentStep);
  const Icon = stepInfo?.icon || Search;

  return (
    <div className={cn("flex items-center gap-3", className)}>
      <div className="flex items-center gap-2 text-sm">
        {currentStep === "completed" ? (
          <CheckCircle2 className="h-4 w-4 text-green-600" />
        ) : (
          <Loader2 className="h-4 w-4 animate-spin text-primary" />
        )}
        <span className="font-medium">{stepInfo?.label || currentStep}</span>
      </div>
      {progress !== undefined && (
        <Progress value={progress} className="flex-1 h-2 max-w-[200px]" />
      )}
      {collectedCount !== undefined && collectedCount > 0 && (
        <Badge variant="outline" className="text-xs">
          {collectedCount}개 수집
        </Badge>
      )}
      {message && (
        <span className="text-xs text-muted-foreground truncate max-w-[200px]">
          {message}
        </span>
      )}
    </div>
  );
}

export default AnalysisProgressTimeline;

```

---

## frontend/src/components/BackgroundTaskIndicator.tsx

```tsx
import { useState } from 'react';
import { useNavigate } from 'react-router-dom';
import { Loader2, CheckCircle2, XCircle, Clock, Search, Trash2, X, ExternalLink } from 'lucide-react';
import { useBackgroundTasks, type BackgroundTask } from '@/contexts/BackgroundTaskContext';
import { Button } from '@/components/ui/button';
import { Badge } from '@/components/ui/badge';
import { Progress } from '@/components/ui/progress';
import { ScrollArea } from '@/components/ui/scroll-area';
import {
  Popover,
  PopoverContent,
  PopoverTrigger,
} from '@/components/ui/popover';
import { cn } from '@/lib/utils';
import { cancelDeepSearch } from '@/lib/api';

// ============================================
// Task Item Component
// ============================================

interface TaskItemProps {
  task: BackgroundTask;
  onNavigate: (url: string) => void;
  onRemove: (id: string) => void;
}

const TaskItem = ({ task, onNavigate, onRemove, onCancel }: TaskItemProps & { onCancel?: (task: BackgroundTask) => void }) => {
  const getStatusIcon = () => {
    switch (task.status) {
      case 'pending':
        return <Clock className="h-4 w-4 text-yellow-500" />;
      case 'running':
        return <Loader2 className="h-4 w-4 text-blue-500 animate-spin" />;
      case 'completed':
        return <CheckCircle2 className="h-4 w-4 text-green-500" />;
      case 'failed':
      case 'cancelled':
        return <XCircle className="h-4 w-4 text-red-500" />;
      default:
        return <Clock className="h-4 w-4 text-muted-foreground" />;
    }
  };

  const getStatusLabel = () => {
    switch (task.status) {
      case 'pending':
        return '대기 중';
      case 'running':
        return '진행 중';
      case 'completed':
        return '완료';
      case 'failed':
        return '실패';
      case 'cancelled':
        return '취소됨';
      default:
        return task.status;
    }
  };

  const getTypeIcon = () => {
    switch (task.type) {
      case 'deep-search':
        return <Search className="h-3 w-3" />;
      default:
        return null;
    }
  };

  const getTypeLabel = () => {
    switch (task.type) {
      case 'deep-search':
        return 'Deep Search';
      case 'browser-agent':
        return 'Browser Agent';
      case 'fact-check':
        return 'Fact Check';
      default:
        return task.type;
    }
  };

  const formatTime = (dateString: string) => {
    const date = new Date(dateString);
    const now = new Date();
    const diffMs = now.getTime() - date.getTime();
    const diffMins = Math.floor(diffMs / 60000);
    
    if (diffMins < 1) return '방금 전';
    if (diffMins < 60) return `${diffMins}분 전`;
    const diffHours = Math.floor(diffMins / 60);
    if (diffHours < 24) return `${diffHours}시간 전`;
    return date.toLocaleDateString('ko-KR');
  };

  const isActive = task.status === 'pending' || task.status === 'running';
  const isCompleted = task.status === 'completed';

  return (
    <div className={cn(
      "p-3 rounded-lg border transition-colors",
      isActive && "bg-blue-50 dark:bg-blue-950/20 border-blue-200 dark:border-blue-800",
      isCompleted && "bg-green-50 dark:bg-green-950/20 border-green-200 dark:border-green-800",
      !isActive && !isCompleted && "bg-muted/50"
    )}>
      <div className="flex items-start justify-between gap-2">
        <div className="flex-1 min-w-0 overflow-hidden">
          <div className="flex items-center gap-2 mb-1">
            <span className="shrink-0">{getStatusIcon()}</span>
            <span className="font-medium text-sm truncate" title={task.title}>{task.title}</span>
          </div>
          
          <div className="flex flex-wrap items-center gap-1.5 text-xs text-muted-foreground">
            <Badge variant="outline" className="h-5 gap-1 shrink-0">
              {getTypeIcon()}
              {getTypeLabel()}
            </Badge>
            <span className="shrink-0">{getStatusLabel()}</span>
            {task.evidenceCount !== undefined && task.evidenceCount > 0 && (
              <span className="shrink-0">| {task.evidenceCount}개 증거</span>
            )}
          </div>
          
          {/* Progress bar for running tasks */}
          {isActive && task.progress !== undefined && (
            <div className="mt-2 space-y-1">
              <Progress value={task.progress} className="h-1.5" />
              <div className="flex justify-between text-xs text-muted-foreground">
                <span className="truncate mr-2">{task.progressMessage || '처리 중...'}</span>
                <span className="shrink-0">{task.progress}%</span>
              </div>
            </div>
          )}
          
          {/* Error message */}
          {task.error && (
            <p className="mt-1 text-xs text-red-600 dark:text-red-400 line-clamp-2" title={task.error}>
              {task.error}
            </p>
          )}
          
          {/* Time info */}
          <div className="mt-1 text-xs text-muted-foreground">
            {task.completedAt 
              ? `완료: ${formatTime(task.completedAt)}`
              : `시작: ${formatTime(task.createdAt)}`
            }
          </div>
        </div>
        
        <div className="flex items-center gap-1 shrink-0">
          {task.resultUrl && (isCompleted || isActive) && (
            <Button
              variant="ghost"
              size="icon"
              className="h-7 w-7"
              onClick={() => onNavigate(task.resultUrl!)}
              title="결과 보기"
            >
              <ExternalLink className="h-3.5 w-3.5" />
            </Button>
          )}
          {isActive && onCancel && (
            <Button
              variant="ghost"
              size="icon"
              className="h-7 w-7 text-muted-foreground hover:text-red-500"
              onClick={() => onCancel(task)}
              title="작업 취소"
            >
              <XCircle className="h-3.5 w-3.5" />
            </Button>
          )}
          {!isActive && (
            <Button
              variant="ghost"
              size="icon"
              className="h-7 w-7 text-muted-foreground hover:text-destructive"
              onClick={() => onRemove(task.id)}
              title="삭제"
            >
              <Trash2 className="h-3.5 w-3.5" />
            </Button>
          )}
        </div>
      </div>
    </div>
  );
};

// ============================================
// Background Task Indicator
// ============================================

export function BackgroundTaskIndicator() {
  const navigate = useNavigate();
  const [open, setOpen] = useState(false);
  const { 
    activeTasks, 
    completedTasks, 
    hasActiveTasks, 
    activeTaskCount,
    removeTask,
    clearCompletedTasks,
    updateTask,
  } = useBackgroundTasks();

  const handleNavigate = (url: string) => {
    setOpen(false);
    navigate(url);
  };

  const handleCancelTask = async (task: BackgroundTask) => {
    if (task.status !== 'pending' && task.status !== 'running') {
      return;
    }

    try {
      if (task.type === 'deep-search') {
        await cancelDeepSearch(task.id);
      }
    } catch (error) {
      console.error('Failed to cancel background task:', error);
    } finally {
      updateTask(task.id, {
        status: 'cancelled',
        completedAt: new Date().toISOString(),
      });
    }
  };

  const allTasks = [...activeTasks, ...completedTasks];

  // Don't show if no tasks at all
  if (allTasks.length === 0) {
    return null;
  }

  return (
    <Popover open={open} onOpenChange={setOpen}>
      <PopoverTrigger asChild>
        <Button
          variant="ghost"
          size="sm"
          className={cn(
            "relative h-9 px-3 gap-2",
            hasActiveTasks && "text-blue-600 dark:text-blue-400"
          )}
        >
          {hasActiveTasks ? (
            <Loader2 className="h-4 w-4 animate-spin" />
          ) : (
            <CheckCircle2 className="h-4 w-4 text-green-500" />
          )}
          
          <span className="text-sm font-medium">
            {hasActiveTasks ? activeTaskCount : completedTasks.length}
          </span>
          
          {/* Pulse animation for active tasks */}
          {hasActiveTasks && (
            <span className="absolute top-1 right-1 h-2 w-2">
              <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75" />
              <span className="relative inline-flex rounded-full h-2 w-2 bg-blue-500" />
            </span>
          )}
        </Button>
      </PopoverTrigger>
      
      <PopoverContent 
        className="w-96 p-0" 
        align="end"
        sideOffset={8}
      >
        {/* Header - fixed */}
        <div className="flex items-center justify-between p-3 border-b bg-background sticky top-0 z-10">
          <h3 className="font-semibold">백그라운드 작업</h3>
          <Button
            variant="ghost"
            size="icon"
            className="h-7 w-7"
            onClick={() => setOpen(false)}
          >
            <X className="h-4 w-4" />
          </Button>
        </div>
        
        {/* Scrollable content area with explicit height */}
        <ScrollArea className="max-h-[60vh] overflow-auto">
          <div className="p-3 space-y-4">
            {/* Active Tasks */}
            {activeTasks.length > 0 && (
              <div className="space-y-2">
                <h4 className="text-sm font-medium flex items-center gap-2">
                  <Loader2 className="h-3 w-3 animate-spin text-blue-500" />
                  진행 중 ({activeTasks.length})
                </h4>
                <div className="space-y-2">
                  {activeTasks.map(task => (
                    <TaskItem
                      key={task.id}
                      task={task}
                      onNavigate={handleNavigate}
                      onRemove={removeTask}
                      onCancel={handleCancelTask}
                    />
                  ))}
                </div>
              </div>
            )}
            
            {/* Completed Tasks */}
            {completedTasks.length > 0 && (
              <div className="space-y-2">
                <h4 className="text-sm font-medium flex items-center gap-2">
                  <CheckCircle2 className="h-3 w-3 text-green-500" />
                  완료됨 ({completedTasks.length})
                </h4>
                <div className="space-y-2">
                  {completedTasks.map(task => (
                    <TaskItem
                      key={task.id}
                      task={task}
                      onNavigate={handleNavigate}
                      onRemove={removeTask}
                      onCancel={handleCancelTask}
                    />
                  ))}
                </div>
              </div>
            )}
            
            {/* Empty state */}
            {allTasks.length === 0 && (
              <div className="text-center py-8 text-muted-foreground">
                <Clock className="h-8 w-8 mx-auto mb-2 opacity-50" />
                <p className="text-sm">진행 중인 작업이 없습니다</p>
              </div>
            )}
          </div>
        </ScrollArea>
        
        {/* Footer with clear button - fixed */}
        {completedTasks.length > 0 && (
          <div className="p-3 border-t bg-background sticky bottom-0">
            <Button
              variant="outline"
              size="sm"
              className="w-full"
              onClick={clearCompletedTasks}
            >
              <Trash2 className="h-3.5 w-3.5 mr-2" />
              완료된 작업 모두 지우기
            </Button>
          </div>
        )}
      </PopoverContent>
    </Popover>
  );
}

export default BackgroundTaskIndicator;

```

---

## frontend/src/components/CommandPalette.tsx

```tsx
import { useState, useCallback, useMemo } from "react";
import { useNavigate } from "react-router-dom";
import {
  Search,
  Home,
  Bot,
  FolderOpen,
  History,
  Moon,
  Sun,
  FileJson,
  Command,
  Cpu,
  Brain,
  Shield,
  Database,
  Link as LinkIcon,
} from "lucide-react";
import {
  CommandDialog,
  CommandEmpty,
  CommandGroup,
  CommandInput,
  CommandItem,
  CommandList,
  CommandSeparator,
  CommandShortcut,
} from "@/components/ui/command";
import { useKeyboardShortcuts } from "@/hooks/useKeyboardShortcuts";
import { useTheme } from "@/contexts/ThemeContext";

interface CommandItem {
  id: string;
  label: string;
  icon: typeof Search;
  shortcut?: string;
  action: () => void;
  keywords?: string[];
  category: "navigation" | "search" | "settings" | "recent";
}

interface CommandPaletteProps {
  /** 외부에서 제어할 열림 상태 */
  open?: boolean;
  /** 열림 상태 변경 콜백 */
  onOpenChange?: (open: boolean) => void;
  /** 최근 검색어 목록 */
  recentSearches?: string[];
  /** 검색 실행 콜백 */
  onSearch?: (query: string) => void;
}

export function CommandPalette({
  open: externalOpen,
  onOpenChange,
  recentSearches = [],
  onSearch,
}: CommandPaletteProps) {
  const [internalOpen, setInternalOpen] = useState(false);
  const [search, setSearch] = useState("");
  const navigate = useNavigate();
  const { theme, setTheme } = useTheme();

  const isOpen = externalOpen ?? internalOpen;
  const setIsOpen = onOpenChange ?? setInternalOpen;

  // 단축키 등록
  useKeyboardShortcuts([
    {
      key: "ctrl+k",
      handler: () => setIsOpen(true),
      description: "검색 열기",
    },
    {
      key: "meta+k", // macOS Command+K
      handler: () => setIsOpen(true),
      description: "검색 열기",
    },
    {
      key: "escape",
      handler: () => setIsOpen(false),
      description: "닫기",
      enableInInput: true,
    },
  ]);

  // 명령어 목록 (Consolidated navigation)
  const commands = useMemo<CommandItem[]>(() => [
    // 네비게이션 - 통합 검색
    {
      id: "search",
      label: "검색 (통합/Deep/팩트체크/URL분석)",
      icon: Search,
      shortcut: "⌘H",
      action: () => { navigate("/"); setIsOpen(false); },
      keywords: ["home", "main", "홈", "메인", "검색", "search"],
      category: "navigation",
    },
    {
      id: "search-unified",
      label: "통합 검색 모드",
      icon: Search,
      action: () => { navigate("/?mode=unified"); setIsOpen(false); },
      keywords: ["unified", "통합", "검색"],
      category: "search",
    },
    {
      id: "search-deep",
      label: "Deep Search 모드",
      icon: Brain,
      shortcut: "⌘D",
      action: () => { navigate("/?mode=deep"); setIsOpen(false); },
      keywords: ["deep", "search", "ai", "분석", "심층"],
      category: "search",
    },
    {
      id: "search-factcheck",
      label: "팩트체크 모드",
      icon: Shield,
      shortcut: "⌘F",
      action: () => { navigate("/?mode=factcheck"); setIsOpen(false); },
      keywords: ["fact", "check", "verify", "팩트", "검증"],
      category: "search",
    },
    {
      id: "search-urlanalysis",
      label: "URL 분석 모드",
      icon: LinkIcon,
      shortcut: "⌘U",
      action: () => { navigate("/?mode=urlanalysis"); setIsOpen(false); },
      keywords: ["url", "analysis", "extract", "claim", "분석", "추출", "주장"],
      category: "search",
    },
    {
      id: "ml-addons",
      label: "ML Add-ons",
      icon: Cpu,
      action: () => { navigate("/ml-addons"); setIsOpen(false); },
      keywords: ["ml", "machine", "learning", "addon", "sentiment", "bias"],
      category: "navigation",
    },
    {
      id: "browser-agent",
      label: "브라우저 에이전트",
      icon: Bot,
      shortcut: "⌘B",
      action: () => { navigate("/ai-agent"); setIsOpen(false); },
      keywords: ["browser", "agent", "automation", "에이전트", "자동화"],
      category: "navigation",
    },
    {
      id: "url-collections",
      label: "URL 원천 관리",
      icon: Database,
      action: () => { navigate("/url-collections"); setIsOpen(false); },
      keywords: ["url", "source", "원천", "소스", "관리"],
      category: "navigation",
    },
    {
      id: "projects",
      label: "프로젝트",
      icon: FolderOpen,
      action: () => { navigate("/projects"); setIsOpen(false); },
      keywords: ["project", "프로젝트", "폴더", "collection"],
      category: "navigation",
    },
    {
      id: "search-history",
      label: "검색 기록",
      icon: History,
      action: () => { navigate("/history"); setIsOpen(false); },
      keywords: ["history", "기록", "이전"],
      category: "navigation",
    },
    {
      id: "admin-sources",
      label: "데이터 소스 관리 (Admin)",
      icon: FileJson,
      action: () => { navigate("/admin/sources"); setIsOpen(false); },
      keywords: ["admin", "source", "관리", "소스", "rss"],
      category: "navigation",
    },
    // 설정
    {
      id: "toggle-theme",
      label: theme === "dark" ? "라이트 모드로 전환" : "다크 모드로 전환",
      icon: theme === "dark" ? Sun : Moon,
      shortcut: "⌘⇧T",
      action: () => {
        setTheme(theme === "dark" ? "light" : "dark");
        setIsOpen(false);
      },
      keywords: ["theme", "dark", "light", "테마", "다크", "라이트"],
      category: "settings",
    },
  ], [navigate, setIsOpen, theme, setTheme]);

  // 최근 검색어 명령어 추가
  const recentCommands = useMemo<CommandItem[]>(() => {
    return recentSearches.slice(0, 5).map((query, index) => ({
      id: `recent-${index}`,
      label: query,
      icon: Search,
      action: () => {
        if (onSearch) {
          onSearch(query);
        } else {
          navigate(`/?q=${encodeURIComponent(query)}`);
        }
        setIsOpen(false);
      },
      keywords: [query.toLowerCase()],
      category: "recent" as const,
    }));
  }, [recentSearches, navigate, setIsOpen, onSearch]);

  // 검색 실행
  const handleSearch = useCallback(() => {
    if (search.trim()) {
      if (onSearch) {
        onSearch(search.trim());
      } else {
        navigate(`/?q=${encodeURIComponent(search.trim())}`);
      }
      setIsOpen(false);
      setSearch("");
    }
  }, [search, onSearch, navigate, setIsOpen]);

  // Enter 키로 검색
  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {
    if (e.key === "Enter" && search.trim()) {
      // 선택된 항목이 없을 때만 검색 실행
      const selectedItem = document.querySelector('[data-selected="true"]');
      if (!selectedItem) {
        handleSearch();
      }
    }
  }, [search, handleSearch]);

  // 네비게이션 단축키
  useKeyboardShortcuts([
    {
      key: "ctrl+h",
      handler: () => { navigate("/"); },
      description: "검색으로",
    },
    {
      key: "ctrl+d",
      handler: () => { navigate("/?mode=deep"); },
      description: "Deep Search 모드",
    },
    {
      key: "ctrl+shift+t",
      handler: () => { setTheme(theme === "dark" ? "light" : "dark"); },
      description: "테마 전환",
    },
  ], { enabled: !isOpen });

  return (
    <CommandDialog open={isOpen} onOpenChange={setIsOpen}>
      <CommandInput
        placeholder="검색어를 입력하거나 명령을 선택하세요..."
        value={search}
        onValueChange={setSearch}
        onKeyDown={handleKeyDown}
      />
      <CommandList>
        <CommandEmpty>
          {search.trim() ? (
            <div className="p-4 text-center">
              <p className="text-sm text-muted-foreground mb-2">
                "{search}"에 대한 결과가 없습니다
              </p>
              <button
                onClick={handleSearch}
                className="text-sm text-primary hover:underline"
              >
                이 검색어로 통합 검색하기
              </button>
            </div>
          ) : (
            <p className="text-sm text-muted-foreground">명령어가 없습니다</p>
          )}
        </CommandEmpty>

        {/* 최근 검색 */}
        {recentCommands.length > 0 && (
          <CommandGroup heading="최근 검색">
            {recentCommands.map((cmd) => (
              <CommandItem
                key={cmd.id}
                onSelect={cmd.action}
                className="gap-2"
              >
                <cmd.icon className="h-4 w-4" />
                <span>{cmd.label}</span>
              </CommandItem>
            ))}
          </CommandGroup>
        )}

        {recentCommands.length > 0 && <CommandSeparator />}

        {/* 검색 모드 */}
        <CommandGroup heading="검색 모드">
          {commands
            .filter((cmd) => cmd.category === "search")
            .map((cmd) => (
              <CommandItem
                key={cmd.id}
                onSelect={cmd.action}
                className="gap-2"
              >
                <cmd.icon className="h-4 w-4" />
                <span>{cmd.label}</span>
                {cmd.shortcut && (
                  <CommandShortcut>{cmd.shortcut}</CommandShortcut>
                )}
              </CommandItem>
            ))}
        </CommandGroup>

        <CommandSeparator />

        {/* 페이지 이동 */}
        <CommandGroup heading="페이지 이동">
          {commands
            .filter((cmd) => cmd.category === "navigation")
            .map((cmd) => (
              <CommandItem
                key={cmd.id}
                onSelect={cmd.action}
                className="gap-2"
              >
                <cmd.icon className="h-4 w-4" />
                <span>{cmd.label}</span>
                {cmd.shortcut && (
                  <CommandShortcut>{cmd.shortcut}</CommandShortcut>
                )}
              </CommandItem>
            ))}
        </CommandGroup>

        <CommandSeparator />

        {/* 설정 */}
        <CommandGroup heading="설정">
          {commands
            .filter((cmd) => cmd.category === "settings")
            .map((cmd) => (
              <CommandItem
                key={cmd.id}
                onSelect={cmd.action}
                className="gap-2"
              >
                <cmd.icon className="h-4 w-4" />
                <span>{cmd.label}</span>
                {cmd.shortcut && (
                  <CommandShortcut>{cmd.shortcut}</CommandShortcut>
                )}
              </CommandItem>
            ))}
        </CommandGroup>
      </CommandList>
      
      {/* 단축키 힌트 */}
      <div className="border-t px-3 py-2 flex items-center justify-between text-xs text-muted-foreground">
        <div className="flex items-center gap-4">
          <span className="flex items-center gap-1">
            <kbd className="px-1.5 py-0.5 rounded bg-muted text-[10px]">↑↓</kbd>
            탐색
          </span>
          <span className="flex items-center gap-1">
            <kbd className="px-1.5 py-0.5 rounded bg-muted text-[10px]">↵</kbd>
            선택
          </span>
          <span className="flex items-center gap-1">
            <kbd className="px-1.5 py-0.5 rounded bg-muted text-[10px]">esc</kbd>
            닫기
          </span>
        </div>
        <div className="flex items-center gap-1">
          <Command className="h-3 w-3" />
          <span>+K로 열기</span>
        </div>
      </div>
    </CommandDialog>
  );
}

export default CommandPalette;

```

---

## frontend/src/components/DeriveSearchDialog.tsx

```tsx
import { useState, useCallback, useMemo } from "react";
import { useNavigate } from "react-router-dom";
import {
  Dialog,
  DialogContent,
  DialogDescription,
  DialogHeader,
  DialogTitle,
  DialogFooter,
} from "@/components/ui/dialog";
import { Button } from "@/components/ui/button";
import { Checkbox } from "@/components/ui/checkbox";
import { RadioGroup, RadioGroupItem } from "@/components/ui/radio-group";
import { Label } from "@/components/ui/label";
import { Badge } from "@/components/ui/badge";
import { ScrollArea } from "@/components/ui/scroll-area";
import { Input } from "@/components/ui/input";
import {
  Search,
  Microscope,
  Shield,
  Link as LinkIcon,
  ExternalLink,
  Filter,
  CheckCircle2,
  Globe,
} from "lucide-react";
import type { SearchHistoryRecord, SearchHistoryType } from "@/lib/api";
import { useSearchRecord, type PriorityUrl } from "@/hooks/useSearchRecord";

interface DeriveSearchDialogProps {
  open: boolean;
  onOpenChange: (open: boolean) => void;
  searchRecord: SearchHistoryRecord;
}

type ReuseOption = "query_only" | "query_and_all_urls" | "query_and_selected_urls";
type TargetPage = "unified" | "deep_search" | "fact_check";

const TARGET_PAGE_CONFIG: Record<TargetPage, { label: string; icon: typeof Search; path: string; color: string }> = {
  unified: {
    label: "통합 검색",
    icon: Search,
    path: "/search",
    color: "text-blue-600",
  },
  deep_search: {
    label: "Deep Search",
    icon: Microscope,
    path: "/deep-search",
    color: "text-purple-600",
  },
  fact_check: {
    label: "팩트체크",
    icon: Shield,
    path: "/fact-check",
    color: "text-green-600",
  },
};

// Suggest target page based on source search type
function suggestTargetPage(searchType: SearchHistoryType): TargetPage {
  switch (searchType) {
    case "UNIFIED":
      return "deep_search"; // Suggest deeper analysis
    case "DEEP_SEARCH":
      return "fact_check"; // Suggest verification
    case "FACT_CHECK":
      return "deep_search"; // Suggest more research
    default:
      return "unified";
  }
}

export function DeriveSearchDialog({
  open,
  onOpenChange,
  searchRecord,
}: DeriveSearchDialogProps) {
  const navigate = useNavigate();
  
  // Load URLs from the search record
  const { priorityUrls, loading } = useSearchRecord({
    searchId: searchRecord.id,
    autoLoad: open,
  });

  // State
  const [reuseOption, setReuseOption] = useState<ReuseOption>("query_and_all_urls");
  const [targetPage, setTargetPage] = useState<TargetPage>(() => suggestTargetPage(searchRecord.searchType));
  const [selectedUrlIds, setSelectedUrlIds] = useState<Set<string>>(new Set());
  const [urlFilter, setUrlFilter] = useState("");

  // Filter URLs based on search
  const filteredUrls = useMemo(() => {
    if (!urlFilter.trim()) return priorityUrls;
    const lowerFilter = urlFilter.toLowerCase();
    return priorityUrls.filter(
      (u) =>
        u.url.toLowerCase().includes(lowerFilter) ||
        u.name.toLowerCase().includes(lowerFilter)
    );
  }, [priorityUrls, urlFilter]);

  // Toggle URL selection
  const toggleUrl = useCallback((id: string) => {
    setSelectedUrlIds((prev) => {
      const next = new Set(prev);
      if (next.has(id)) {
        next.delete(id);
      } else {
        next.add(id);
      }
      return next;
    });
  }, []);

  // Select all visible URLs
  const selectAllVisible = useCallback(() => {
    setSelectedUrlIds((prev) => {
      const next = new Set(prev);
      filteredUrls.forEach((u) => next.add(u.id));
      return next;
    });
  }, [filteredUrls]);

  // Clear selection
  const clearSelection = useCallback(() => {
    setSelectedUrlIds(new Set());
  }, []);

  // Get URLs to pass based on reuse option
  const getUrlsToPass = useCallback((): PriorityUrl[] => {
    switch (reuseOption) {
      case "query_only":
        return [];
      case "query_and_all_urls":
        return priorityUrls;
      case "query_and_selected_urls":
        return priorityUrls.filter((u) => selectedUrlIds.has(u.id));
      default:
        return [];
    }
  }, [reuseOption, priorityUrls, selectedUrlIds]);

  // Handle derive action
  const handleDerive = useCallback(() => {
    const config = TARGET_PAGE_CONFIG[targetPage];
    const urlsToPass = getUrlsToPass();

    const navigationState = {
      query: searchRecord.query,
      parentSearchId: searchRecord.id,
      deriveFrom: searchRecord.id,
      depthLevel: (searchRecord.depthLevel || 0) + 1,
      priorityUrls: urlsToPass,
      fromDeriveDialog: true,
    };

    navigate(config.path, { state: navigationState });
    onOpenChange(false);
  }, [targetPage, getUrlsToPass, searchRecord, navigate, onOpenChange]);

  const selectedCount = selectedUrlIds.size;
  const totalCount = priorityUrls.length;

  return (
    <Dialog open={open} onOpenChange={onOpenChange}>
      <DialogContent className="sm:max-w-[600px] max-h-[90vh] flex flex-col">
        <DialogHeader>
          <DialogTitle className="flex items-center gap-2">
            <Globe className="h-5 w-5 text-primary" />
            파생 검색 설정
          </DialogTitle>
          <DialogDescription>
            "{searchRecord.query}" 검색 결과를 기반으로 새로운 검색을 시작합니다.
          </DialogDescription>
        </DialogHeader>

        <div className="flex-1 overflow-hidden space-y-6 py-4">
          {/* Target Page Selection */}
          <div className="space-y-3">
            <Label className="text-sm font-medium">대상 페이지</Label>
            <RadioGroup
              value={targetPage}
              onValueChange={(v) => setTargetPage(v as TargetPage)}
              className="grid grid-cols-3 gap-2"
            >
              {(Object.entries(TARGET_PAGE_CONFIG) as [TargetPage, typeof TARGET_PAGE_CONFIG[TargetPage]][]).map(
                ([key, config]) => {
                  const Icon = config.icon;
                  return (
                    <div key={key}>
                      <RadioGroupItem value={key} id={`target-${key}`} className="peer sr-only" />
                      <Label
                        htmlFor={`target-${key}`}
                        className={`
                          flex flex-col items-center gap-1.5 p-3 rounded-lg border-2 cursor-pointer
                          peer-data-[state=checked]:border-primary peer-data-[state=checked]:bg-primary/5
                          hover:bg-muted/50 transition-colors
                        `}
                      >
                        <Icon className={`h-5 w-5 ${config.color}`} />
                        <span className="text-xs font-medium">{config.label}</span>
                      </Label>
                    </div>
                  );
                }
              )}
            </RadioGroup>
          </div>

          {/* Reuse Option Selection */}
          <div className="space-y-3">
            <Label className="text-sm font-medium">재사용 옵션</Label>
            <RadioGroup
              value={reuseOption}
              onValueChange={(v) => setReuseOption(v as ReuseOption)}
              className="space-y-2"
            >
              <div className="flex items-center space-x-2">
                <RadioGroupItem value="query_only" id="reuse-query" />
                <Label htmlFor="reuse-query" className="text-sm cursor-pointer">
                  검색어만 재사용
                </Label>
              </div>
              <div className="flex items-center space-x-2">
                <RadioGroupItem value="query_and_all_urls" id="reuse-all" />
                <Label htmlFor="reuse-all" className="text-sm cursor-pointer flex items-center gap-2">
                  검색어 + 모든 URL ({totalCount}개)
                </Label>
              </div>
              <div className="flex items-center space-x-2">
                <RadioGroupItem value="query_and_selected_urls" id="reuse-selected" />
                <Label htmlFor="reuse-selected" className="text-sm cursor-pointer flex items-center gap-2">
                  검색어 + 선택한 URL
                  {reuseOption === "query_and_selected_urls" && selectedCount > 0 && (
                    <Badge variant="secondary" className="ml-1">
                      {selectedCount}개 선택
                    </Badge>
                  )}
                </Label>
              </div>
            </RadioGroup>
          </div>

          {/* URL Selection (only when selecting specific URLs) */}
          {reuseOption === "query_and_selected_urls" && (
            <div className="space-y-3">
              <div className="flex items-center justify-between">
                <Label className="text-sm font-medium flex items-center gap-2">
                  <LinkIcon className="h-4 w-4" />
                  URL 선택
                </Label>
                <div className="flex items-center gap-2">
                  <Button variant="ghost" size="sm" onClick={selectAllVisible} className="h-7 text-xs">
                    전체 선택
                  </Button>
                  <Button variant="ghost" size="sm" onClick={clearSelection} className="h-7 text-xs">
                    선택 해제
                  </Button>
                </div>
              </div>

              {/* URL Filter */}
              <div className="relative">
                <Filter className="absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground" />
                <Input
                  value={urlFilter}
                  onChange={(e) => setUrlFilter(e.target.value)}
                  placeholder="URL 필터링..."
                  className="pl-8 h-8 text-sm"
                />
              </div>

              {/* URL List */}
              {loading ? (
                <div className="text-center py-4 text-sm text-muted-foreground">
                  URL 목록을 불러오는 중...
                </div>
              ) : filteredUrls.length === 0 ? (
                <div className="text-center py-4 text-sm text-muted-foreground">
                  {urlFilter ? "필터와 일치하는 URL이 없습니다." : "재사용 가능한 URL이 없습니다."}
                </div>
              ) : (
                <ScrollArea className="h-[200px] border rounded-lg">
                  <div className="p-2 space-y-1">
                    {filteredUrls.map((url) => {
                      const isSelected = selectedUrlIds.has(url.id);
                      return (
                        <div
                          key={url.id}
                          className={`
                            flex items-center gap-2 p-2 rounded-md cursor-pointer
                            hover:bg-muted/50 transition-colors
                            ${isSelected ? "bg-primary/5" : ""}
                          `}
                          onClick={() => toggleUrl(url.id)}
                        >
                          <Checkbox
                            checked={isSelected}
                            onCheckedChange={() => toggleUrl(url.id)}
                            className="pointer-events-none"
                          />
                          <div className="flex-1 min-w-0">
                            <p className="text-sm font-medium truncate">{url.name}</p>
                            <p className="text-xs text-muted-foreground truncate">{url.url}</p>
                          </div>
                          {url.reliability && (
                            <Badge
                              variant="outline"
                              className={`text-xs shrink-0 ${
                                url.reliability === "high"
                                  ? "border-green-500 text-green-600"
                                  : url.reliability === "medium"
                                  ? "border-yellow-500 text-yellow-600"
                                  : "border-red-500 text-red-600"
                              }`}
                            >
                              {url.reliability === "high" ? "높음" : url.reliability === "medium" ? "보통" : "낮음"}
                            </Badge>
                          )}
                          <a
                            href={url.url}
                            target="_blank"
                            rel="noopener noreferrer"
                            className="p-1 rounded hover:bg-muted"
                            onClick={(e) => e.stopPropagation()}
                          >
                            <ExternalLink className="h-3.5 w-3.5 text-muted-foreground" />
                          </a>
                        </div>
                      );
                    })}
                  </div>
                </ScrollArea>
              )}
            </div>
          )}

          {/* Summary */}
          <div className="p-3 rounded-lg bg-muted/50 text-sm">
            <div className="flex items-center gap-2 text-muted-foreground">
              <CheckCircle2 className="h-4 w-4 text-green-600" />
              <span>
                <strong>{TARGET_PAGE_CONFIG[targetPage].label}</strong>로{" "}
                {reuseOption === "query_only"
                  ? "검색어만"
                  : reuseOption === "query_and_all_urls"
                  ? `검색어와 ${totalCount}개 URL`
                  : `검색어와 ${selectedCount}개 URL`}{" "}
                전달됩니다.
              </span>
            </div>
          </div>
        </div>

        <DialogFooter>
          <Button variant="outline" onClick={() => onOpenChange(false)}>
            취소
          </Button>
          <Button
            onClick={handleDerive}
            disabled={reuseOption === "query_and_selected_urls" && selectedCount === 0}
          >
            파생 검색 시작
          </Button>
        </DialogFooter>
      </DialogContent>
    </Dialog>
  );
}

export default DeriveSearchDialog;

```

---

## frontend/src/components/EnhancedMarkdownRenderer.tsx

```tsx
/**
 * EnhancedMarkdownRenderer - 고급 마크다운 렌더러
 * 
 * AI 분석 결과를 위한 고급 마크다운 렌더링 컴포넌트
 * - 섹션별 스타일링 (요약, 검증, 데이터 등)
 * - 테이블 고급 스타일링
 * - 코드 하이라이팅
 * - 인터랙티브 요소
 */

import { memo, useMemo } from "react";
import ReactMarkdown from "react-markdown";
import remarkGfm from "remark-gfm";
import { cn } from "@/lib/utils";
import { 
  ExternalLink, 
  CheckCircle2, 
  AlertTriangle, 
  Info, 
  FileText, 
  BarChart3,
  MessageSquare,
  AlertCircle,
  Lightbulb,
  BookOpen,
  Shield,
  TrendingUp,
  List,
  Quote
} from "lucide-react";
import { Badge } from "@/components/ui/badge";

interface EnhancedMarkdownRendererProps {
  content: string;
  className?: string;
  isStreaming?: boolean;
  variant?: 'default' | 'compact' | 'report';
}

// 섹션 헤더 아이콘 매핑
const SECTION_ICONS: Record<string, React.ComponentType<{ className?: string }>> = {
  '요약': FileText,
  '핵심 요약': FileText,
  '검증': CheckCircle2,
  '검증된 사실': CheckCircle2,
  '사실': CheckCircle2,
  '데이터': BarChart3,
  '주요 수치': BarChart3,
  '수치': TrendingUp,
  '관점': MessageSquare,
  '다양한 관점': MessageSquare,
  '주의': AlertTriangle,
  '주의사항': AlertTriangle,
  '한계': AlertCircle,
  '결론': Lightbulb,
  '배경': BookOpen,
  '배경 지식': BookOpen,
  '신뢰도': Shield,
  '목록': List,
  '인용': Quote,
};

// 섹션 스타일 매핑
const SECTION_STYLES: Record<string, { bg: string; border: string; icon: string }> = {
  '요약': { bg: 'bg-blue-50 dark:bg-blue-950/30', border: 'border-l-blue-500', icon: 'text-blue-600' },
  '핵심 요약': { bg: 'bg-blue-50 dark:bg-blue-950/30', border: 'border-l-blue-500', icon: 'text-blue-600' },
  '검증': { bg: 'bg-green-50 dark:bg-green-950/30', border: 'border-l-green-500', icon: 'text-green-600' },
  '검증된 사실': { bg: 'bg-green-50 dark:bg-green-950/30', border: 'border-l-green-500', icon: 'text-green-600' },
  '사실': { bg: 'bg-green-50 dark:bg-green-950/30', border: 'border-l-green-500', icon: 'text-green-600' },
  '데이터': { bg: 'bg-purple-50 dark:bg-purple-950/30', border: 'border-l-purple-500', icon: 'text-purple-600' },
  '주요 수치': { bg: 'bg-purple-50 dark:bg-purple-950/30', border: 'border-l-purple-500', icon: 'text-purple-600' },
  '관점': { bg: 'bg-orange-50 dark:bg-orange-950/30', border: 'border-l-orange-500', icon: 'text-orange-600' },
  '다양한 관점': { bg: 'bg-orange-50 dark:bg-orange-950/30', border: 'border-l-orange-500', icon: 'text-orange-600' },
  '주의': { bg: 'bg-amber-50 dark:bg-amber-950/30', border: 'border-l-amber-500', icon: 'text-amber-600' },
  '주의사항': { bg: 'bg-amber-50 dark:bg-amber-950/30', border: 'border-l-amber-500', icon: 'text-amber-600' },
  '결론': { bg: 'bg-indigo-50 dark:bg-indigo-950/30', border: 'border-l-indigo-500', icon: 'text-indigo-600' },
  '배경': { bg: 'bg-slate-50 dark:bg-slate-950/30', border: 'border-l-slate-500', icon: 'text-slate-600' },
};

// 검증 수준 배지 컴포넌트
const VerificationBadge = ({ level }: { level: string }) => {
  const normalized = level.toLowerCase();
  if (normalized.includes('높음') || normalized.includes('high')) {
    return <Badge className="bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300 text-xs">높음</Badge>;
  }
  if (normalized.includes('중간') || normalized.includes('medium')) {
    return <Badge className="bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300 text-xs">중간</Badge>;
  }
  if (normalized.includes('낮음') || normalized.includes('low')) {
    return <Badge className="bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300 text-xs">낮음</Badge>;
  }
  return <Badge variant="outline" className="text-xs">{level}</Badge>;
};

/**
 * 고급 마크다운 렌더러
 */
export const EnhancedMarkdownRenderer = memo(function EnhancedMarkdownRenderer({
  content,
  className,
  isStreaming = false,
  variant = 'default',
}: EnhancedMarkdownRendererProps) {
  
  // 섹션 헤더 텍스트에서 아이콘과 스타일 추출
  const getSectionInfo = (text: string) => {
    // [요약], [검증] 등의 패턴 감지
    const match = text.match(/\[([^\]]+)\]/);
    if (match) {
      const sectionName = match[1];
      return {
        name: sectionName,
        icon: SECTION_ICONS[sectionName],
        style: SECTION_STYLES[sectionName],
      };
    }
    
    // 패턴 없이 키워드로 감지
    for (const [keyword, icon] of Object.entries(SECTION_ICONS)) {
      if (text.includes(keyword)) {
        return {
          name: keyword,
          icon,
          style: SECTION_STYLES[keyword],
        };
      }
    }
    
    return null;
  };

  const variantStyles = useMemo(() => {
    switch (variant) {
      case 'compact':
        return 'text-sm';
      case 'report':
        return 'text-base leading-relaxed';
      default:
        return '';
    }
  }, [variant]);

  return (
    <div
      className={cn(
        // Base prose styles
        "prose prose-sm dark:prose-invert max-w-none",
        // Headings
        "prose-headings:font-semibold prose-headings:text-foreground",
        "prose-h1:text-xl prose-h1:mt-6 prose-h1:mb-3",
        "prose-h2:text-lg prose-h2:mt-5 prose-h2:mb-3",
        "prose-h3:text-base prose-h3:mt-4 prose-h3:mb-2",
        // Paragraphs
        "prose-p:my-2.5 prose-p:leading-relaxed prose-p:text-foreground/90",
        // Lists
        "prose-ul:my-3 prose-ul:pl-5",
        "prose-ol:my-3 prose-ol:pl-5",
        "prose-li:my-1 prose-li:marker:text-primary/70",
        // Strong/Bold
        "prose-strong:font-semibold prose-strong:text-foreground",
        // Links
        "prose-a:text-primary prose-a:no-underline prose-a:font-medium hover:prose-a:underline",
        // Blockquotes
        "prose-blockquote:border-l-4 prose-blockquote:border-primary/40",
        "prose-blockquote:pl-4 prose-blockquote:py-1 prose-blockquote:italic",
        "prose-blockquote:text-muted-foreground prose-blockquote:bg-muted/30 prose-blockquote:rounded-r-lg",
        // Code
        "prose-code:bg-muted prose-code:px-1.5 prose-code:py-0.5 prose-code:rounded-md",
        "prose-code:font-mono prose-code:text-sm prose-code:before:content-none prose-code:after:content-none",
        "prose-pre:bg-slate-900 dark:prose-pre:bg-slate-950 prose-pre:rounded-xl prose-pre:p-4 prose-pre:shadow-lg",
        // Horizontal rule
        "prose-hr:border-border prose-hr:my-6",
        variantStyles,
        className
      )}
    >
      <ReactMarkdown
        remarkPlugins={[remarkGfm]}
        components={{
          // 외부 링크 스타일링
          a: ({ href, children, ...props }) => {
            const isExternal = href?.startsWith("http");
            return (
              <a
                href={href}
                target={isExternal ? "_blank" : undefined}
                rel={isExternal ? "noopener noreferrer" : undefined}
                className="inline-flex items-center gap-1 text-primary hover:text-primary/80 transition-colors"
                {...props}
              >
                {children}
                {isExternal && <ExternalLink className="h-3 w-3 inline-block opacity-70" />}
              </a>
            );
          },
          
          // H2 - 주요 섹션 헤더 (색상 + 아이콘)
          h2: ({ children, ...props }) => {
            const text = String(children);
            const sectionInfo = getSectionInfo(text);
            const Icon = sectionInfo?.icon;
            const style = sectionInfo?.style;
            
            // 표시할 텍스트 ([] 패턴 제거)
            const displayText = text.replace(/\[([^\]]+)\]\s*/, '');
            
            return (
              <h2 
                className={cn(
                  "flex items-center gap-2 py-2 px-3 -mx-3 rounded-lg mt-6 mb-4",
                  style?.bg || "bg-muted/50",
                  "border-l-4",
                  style?.border || "border-l-primary"
                )} 
                {...props}
              >
                {Icon && <Icon className={cn("h-5 w-5", style?.icon || "text-primary")} />}
                <span className="font-semibold">{displayText}</span>
              </h2>
            );
          },
          
          // H3 - 서브 섹션 헤더
          h3: ({ children, ...props }) => {
            const text = String(children);
            const sectionInfo = getSectionInfo(text);
            const Icon = sectionInfo?.icon;
            const style = sectionInfo?.style;
            
            const displayText = text.replace(/\[([^\]]+)\]\s*/, '');
            
            return (
              <h3 
                className={cn(
                  "flex items-center gap-2 py-1.5 mt-4 mb-2",
                  "border-b border-border/50 pb-1"
                )} 
                {...props}
              >
                {Icon && <Icon className={cn("h-4 w-4", style?.icon || "text-muted-foreground")} />}
                <span className="font-medium">{displayText}</span>
              </h3>
            );
          },
          
          // 테이블 고급 스타일링
          table: ({ children, ...props }) => (
            <div className="my-4 overflow-x-auto rounded-lg border border-border shadow-sm">
              <table className="w-full border-collapse" {...props}>
                {children}
              </table>
            </div>
          ),
          
          thead: ({ children, ...props }) => (
            <thead className="bg-muted/70 dark:bg-muted/50" {...props}>
              {children}
            </thead>
          ),
          
          th: ({ children, ...props }) => (
            <th 
              className="px-4 py-3 text-left text-sm font-semibold text-foreground border-b border-border" 
              {...props}
            >
              {children}
            </th>
          ),
          
          td: ({ children, ...props }) => {
            const text = String(children);
            
            // 검증 수준 셀 감지 및 배지로 변환
            if (text.match(/^(높음|중간|낮음|high|medium|low)$/i)) {
              return (
                <td className="px-4 py-3 border-b border-border/50" {...props}>
                  <VerificationBadge level={text} />
                </td>
              );
            }
            
            return (
              <td 
                className="px-4 py-3 text-sm border-b border-border/50 text-foreground/90" 
                {...props}
              >
                {children}
              </td>
            );
          },
          
          tr: ({ children, ...props }) => (
            <tr 
              className="hover:bg-muted/30 transition-colors" 
              {...props}
            >
              {children}
            </tr>
          ),
          
          // 리스트 아이템 스타일링
          li: ({ children, ...props }) => (
            <li 
              className="my-1.5 pl-1 marker:text-primary/60" 
              {...props}
            >
              {children}
            </li>
          ),
          
          // 인용구 스타일링
          blockquote: ({ children, ...props }) => (
            <blockquote 
              className="my-4 border-l-4 border-primary/40 pl-4 py-2 bg-muted/20 rounded-r-lg italic text-muted-foreground"
              {...props}
            >
              {children}
            </blockquote>
          ),
          
          // 강조 텍스트
          strong: ({ children, ...props }) => (
            <strong className="font-semibold text-foreground" {...props}>
              {children}
            </strong>
          ),
          
          // 구분선
          hr: ({ ...props }) => (
            <hr className="my-6 border-t-2 border-dashed border-border/50" {...props} />
          ),
          
          // 코드 블록
          code: ({ className: codeClassName, children, ...props }) => {
            const isInline = !codeClassName;
            
            if (isInline) {
              return (
                <code 
                  className="bg-muted px-1.5 py-0.5 rounded-md text-sm font-mono text-primary"
                  {...props}
                >
                  {children}
                </code>
              );
            }
            
            return (
              <code className={cn(codeClassName, "block")} {...props}>
                {children}
              </code>
            );
          },
          
          // 이미지 스타일링
          img: ({ src, alt, ...props }) => (
            <figure className="my-4">
              <img 
                src={src} 
                alt={alt} 
                className="rounded-lg shadow-md max-w-full h-auto"
                {...props}
              />
              {alt && (
                <figcaption className="text-center text-sm text-muted-foreground mt-2">
                  {alt}
                </figcaption>
              )}
            </figure>
          ),
        }}
      >
        {content}
      </ReactMarkdown>
      
      {/* 스트리밍 커서 */}
      {isStreaming && (
        <span className="inline-block w-2 h-5 bg-primary animate-pulse ml-0.5 align-text-bottom rounded-sm" />
      )}
    </div>
  );
});

export default EnhancedMarkdownRenderer;

```

---

## frontend/src/components/ErrorState.tsx

```tsx
import * as React from "react";
import { AlertCircle, RefreshCw, XCircle, WifiOff, ServerCrash, FileWarning } from "lucide-react";
import { cn } from "@/lib/utils";
import { Button } from "@/components/ui/button";
import { Alert, AlertDescription, AlertTitle } from "@/components/ui/alert";

/**
 * 통합 에러 상태 컴포넌트
 * 
 * 다양한 에러 유형 지원:
 * - generic: 일반 에러
 * - network: 네트워크 에러
 * - server: 서버 에러
 * - notFound: 리소스 없음
 * - permission: 권한 에러
 */

export type ErrorType = "generic" | "network" | "server" | "notFound" | "permission";
export type ErrorVariant = "inline" | "card" | "fullPage";

interface ErrorStateProps {
  /** 에러 유형 */
  type?: ErrorType;
  /** 표시 스타일 */
  variant?: ErrorVariant;
  /** 에러 제목 */
  title?: string;
  /** 에러 상세 메시지 */
  message?: string;
  /** 재시도 콜백 */
  onRetry?: () => void;
  /** 재시도 버튼 텍스트 */
  retryText?: string;
  /** 재시도 중 상태 */
  isRetrying?: boolean;
  /** 취소/닫기 콜백 */
  onDismiss?: () => void;
  /** 추가 CSS 클래스 */
  className?: string;
  /** 자식 요소 (추가 액션 등) */
  children?: React.ReactNode;
}

const errorConfig: Record<ErrorType, { icon: typeof AlertCircle; defaultTitle: string; defaultMessage: string }> = {
  generic: {
    icon: AlertCircle,
    defaultTitle: "오류가 발생했습니다",
    defaultMessage: "요청을 처리하는 중 문제가 발생했습니다. 잠시 후 다시 시도해주세요.",
  },
  network: {
    icon: WifiOff,
    defaultTitle: "네트워크 연결 오류",
    defaultMessage: "인터넷 연결을 확인하고 다시 시도해주세요.",
  },
  server: {
    icon: ServerCrash,
    defaultTitle: "서버 오류",
    defaultMessage: "서버에서 오류가 발생했습니다. 잠시 후 다시 시도해주세요.",
  },
  notFound: {
    icon: FileWarning,
    defaultTitle: "찾을 수 없음",
    defaultMessage: "요청하신 리소스를 찾을 수 없습니다.",
  },
  permission: {
    icon: XCircle,
    defaultTitle: "접근 권한 없음",
    defaultMessage: "이 작업을 수행할 권한이 없습니다.",
  },
};

/** 인라인 에러 (Alert 형태) */
const InlineError = ({
  type = "generic",
  title,
  message,
  onRetry,
  retryText = "다시 시도",
  isRetrying,
  onDismiss,
  className,
  children,
}: ErrorStateProps) => {
  const config = errorConfig[type];
  const Icon = config.icon;

  return (
    <Alert variant="destructive" className={cn("relative", className)}>
      <Icon className="h-4 w-4" />
      <AlertTitle>{title || config.defaultTitle}</AlertTitle>
      <AlertDescription className="mt-2">
        <p>{message || config.defaultMessage}</p>
        {(onRetry || onDismiss || children) && (
          <div className="flex items-center gap-2 mt-3">
            {onRetry && (
              <Button
                variant="outline"
                size="sm"
                onClick={onRetry}
                disabled={isRetrying}
                className="gap-1"
              >
                <RefreshCw className={cn("h-3 w-3", isRetrying && "animate-spin")} />
                {retryText}
              </Button>
            )}
            {onDismiss && (
              <Button variant="ghost" size="sm" onClick={onDismiss}>
                닫기
              </Button>
            )}
            {children}
          </div>
        )}
      </AlertDescription>
    </Alert>
  );
};

/** 카드 형태 에러 */
const CardError = ({
  type = "generic",
  title,
  message,
  onRetry,
  retryText = "다시 시도",
  isRetrying,
  onDismiss,
  className,
  children,
}: ErrorStateProps) => {
  const config = errorConfig[type];
  const Icon = config.icon;

  return (
    <div
      className={cn(
        "flex flex-col items-center justify-center p-8 text-center rounded-lg border border-destructive/20 bg-destructive/5",
        className
      )}
    >
      <div className="p-3 rounded-full bg-destructive/10 mb-4">
        <Icon className="h-8 w-8 text-destructive" />
      </div>
      <h3 className="text-lg font-semibold text-foreground mb-2">{title || config.defaultTitle}</h3>
      <p className="text-sm text-muted-foreground max-w-md mb-4">{message || config.defaultMessage}</p>
      {(onRetry || onDismiss || children) && (
        <div className="flex items-center gap-3">
          {onRetry && (
            <Button onClick={onRetry} disabled={isRetrying} className="gap-2">
              <RefreshCw className={cn("h-4 w-4", isRetrying && "animate-spin")} />
              {retryText}
            </Button>
          )}
          {onDismiss && (
            <Button variant="outline" onClick={onDismiss}>
              닫기
            </Button>
          )}
          {children}
        </div>
      )}
    </div>
  );
};

/** 전체 페이지 에러 */
const FullPageError = ({
  type = "generic",
  title,
  message,
  onRetry,
  retryText = "다시 시도",
  isRetrying,
  className,
  children,
}: ErrorStateProps) => {
  const config = errorConfig[type];
  const Icon = config.icon;

  return (
    <div
      className={cn(
        "min-h-[400px] flex flex-col items-center justify-center p-8 text-center",
        className
      )}
    >
      <div className="p-4 rounded-full bg-destructive/10 mb-6">
        <Icon className="h-12 w-12 text-destructive" />
      </div>
      <h2 className="text-2xl font-bold text-foreground mb-3">{title || config.defaultTitle}</h2>
      <p className="text-muted-foreground max-w-lg mb-6">{message || config.defaultMessage}</p>
      {(onRetry || children) && (
        <div className="flex items-center gap-3">
          {onRetry && (
            <Button size="lg" onClick={onRetry} disabled={isRetrying} className="gap-2">
              <RefreshCw className={cn("h-5 w-5", isRetrying && "animate-spin")} />
              {retryText}
            </Button>
          )}
          {children}
        </div>
      )}
    </div>
  );
};

/** 메인 ErrorState 컴포넌트 */
export const ErrorState = ({ variant = "card", ...props }: ErrorStateProps) => {
  switch (variant) {
    case "inline":
      return <InlineError {...props} />;
    case "fullPage":
      return <FullPageError {...props} />;
    case "card":
    default:
      return <CardError {...props} />;
  }
};

/** 에러 바운더리 폴백 컴포넌트 */
export const ErrorBoundaryFallback = ({
  error,
  resetErrorBoundary,
}: {
  error: Error;
  resetErrorBoundary?: () => void;
}) => (
  <ErrorState
    type="generic"
    variant="fullPage"
    title="예기치 않은 오류"
    message={error.message || "애플리케이션에서 오류가 발생했습니다."}
    onRetry={resetErrorBoundary}
    retryText="새로고침"
  />
);

/** 빈 상태 컴포넌트 */
interface EmptyStateProps {
  icon?: React.ReactNode;
  title: string;
  description?: string;
  action?: React.ReactNode;
  className?: string;
}

export const EmptyState = ({ icon, title, description, action, className }: EmptyStateProps) => (
  <div className={cn("flex flex-col items-center justify-center p-8 text-center", className)}>
    {icon && <div className="mb-4 text-muted-foreground">{icon}</div>}
    <h3 className="text-lg font-semibold text-foreground mb-2">{title}</h3>
    {description && <p className="text-sm text-muted-foreground max-w-md mb-4">{description}</p>}
    {action}
  </div>
);

export default ErrorState;

```

---

## frontend/src/components/ExportButton.tsx

```tsx
import { useState } from "react";
import {
  Download,
  FileJson,
  FileText,
  FileSpreadsheet,
  Copy,
  Check,
  ChevronDown,
} from "lucide-react";
import { Button } from "@/components/ui/button";
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuSeparator,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu";
import { useExport, type ExportFormat, type ExportableSearchResult, type ExportOptions } from "@/hooks/useExport";

interface ExportButtonProps {
  /** 내보낼 데이터 */
  data: ExportableSearchResult[];
  /** 내보내기 옵션 */
  options?: ExportOptions;
  /** 버튼 비활성화 */
  disabled?: boolean;
  /** 버튼 크기 */
  size?: "default" | "sm" | "lg" | "icon";
  /** 버튼 변형 */
  variant?: "default" | "outline" | "ghost" | "secondary";
  /** 아이콘만 표시 */
  iconOnly?: boolean;
  /** 추가 CSS 클래스 */
  className?: string;
}

/**
 * 검색 결과 내보내기 버튼 컴포넌트
 * 
 * @example
 * ``\`tsx
 * <ExportButton
 *   data={searchResults}
 *   options={{ filename: "search-results", title: "검색 결과" }}
 * />
 * ``\`
 */
export function ExportButton({
  data,
  options = {},
  disabled = false,
  size = "default",
  variant = "outline",
  iconOnly = false,
  className = "",
}: ExportButtonProps) {
  const { exportData, copyToClipboard } = useExport();
  const [copied, setCopied] = useState(false);

  const handleExport = (format: ExportFormat) => {
    exportData(data, format, options);
  };

  const handleCopy = async () => {
    const success = await copyToClipboard(data, "json");
    if (success) {
      setCopied(true);
      setTimeout(() => setCopied(false), 2000);
    }
  };

  const isDisabled = disabled || !data || data.length === 0;

  return (
    <DropdownMenu>
      <DropdownMenuTrigger asChild>
        <Button
          variant={variant}
          size={size}
          disabled={isDisabled}
          className={className}
          aria-label="내보내기"
        >
          <Download className="h-4 w-4" />
          {!iconOnly && (
            <>
              <span className="ml-2">내보내기</span>
              <ChevronDown className="ml-1 h-3 w-3" />
            </>
          )}
        </Button>
      </DropdownMenuTrigger>
      <DropdownMenuContent align="end" className="w-48">
        <DropdownMenuItem onClick={() => handleExport("json")} className="gap-2">
          <FileJson className="h-4 w-4 text-yellow-600" />
          <span>JSON으로 내보내기</span>
        </DropdownMenuItem>
        <DropdownMenuItem onClick={() => handleExport("csv")} className="gap-2">
          <FileSpreadsheet className="h-4 w-4 text-green-600" />
          <span>CSV로 내보내기</span>
        </DropdownMenuItem>
        <DropdownMenuItem onClick={() => handleExport("markdown")} className="gap-2">
          <FileText className="h-4 w-4 text-blue-600" />
          <span>Markdown으로 내보내기</span>
        </DropdownMenuItem>
        <DropdownMenuItem onClick={() => handleExport("txt")} className="gap-2">
          <FileText className="h-4 w-4 text-gray-600" />
          <span>텍스트로 내보내기</span>
        </DropdownMenuItem>
        <DropdownMenuSeparator />
        <DropdownMenuItem onClick={handleCopy} className="gap-2">
          {copied ? (
            <>
              <Check className="h-4 w-4 text-green-600" />
              <span className="text-green-600">복사됨!</span>
            </>
          ) : (
            <>
              <Copy className="h-4 w-4" />
              <span>클립보드에 복사</span>
            </>
          )}
        </DropdownMenuItem>
      </DropdownMenuContent>
    </DropdownMenu>
  );
}

export default ExportButton;

```

---

## frontend/src/components/FactCheckAnalyticsPanel.tsx

```tsx
import { useState } from "react";
import {
  BarChart3,
  ChevronDown,
  ChevronUp,
  Eye,
  FileText,
  Shield,
  AlertTriangle,
  CheckCircle2,
  XCircle,
  HelpCircle,
  Scale,
  TrendingUp,
  Info,
  Percent,
  Hash,
  Clock,
  Layers,
  Target,
  Lightbulb,
} from "lucide-react";
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";
import { Progress } from "@/components/ui/progress";
import { Button } from "@/components/ui/button";
import { Collapsible, CollapsibleContent, CollapsibleTrigger } from "@/components/ui/collapsible";
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs";
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger,
} from "@/components/ui/tooltip";

// Types for analytics data
export interface SourceCredibilityAnalysis {
  sourceName: string;
  isTrusted: boolean;
  trustScore: number; // 0-1
  trustLevel: "trusted" | "unknown" | "untrusted";
  reason: string;
  matchedTrustedSource?: string;
}

export interface ClickbaitAnalysis {
  isClickbait: boolean;
  score: number; // 0-1
  detectedPatterns: Array<{
    pattern: string;
    matchedText: string;
    severity: "low" | "medium" | "high";
  }>;
  totalPatternsChecked: number;
}

export interface MisinformationAnalysis {
  riskScore: number; // 0-1
  riskLevel: "low" | "medium" | "high";
  detectedPatterns: Array<{
    type: "misinformation" | "unverifiable";
    pattern: string;
    matchedText: string;
    severity: "low" | "medium" | "high";
  }>;
  unverifiableClaimCount: number;
}

export interface ClaimAnalysis {
  claimId: string;
  claimText: string;
  verdict: "verified" | "false" | "unverified" | "misleading" | "partially_true";
  confidence: number; // 0-1
  claimIndicator: string;
  analysisMethod: string;
  supportingFactors: string[];
  contradictingFactors: string[];
}

export interface ScoreBreakdown {
  sourceWeight: number; // 30%
  clickbaitWeight: number; // 20%
  misinfoWeight: number; // 20%
  verificationWeight: number; // 30%
  
  sourceContribution: number;
  clickbaitContribution: number;
  misinfoContribution: number;
  verificationContribution: number;
  
  totalScore: number;
  grade: "A" | "B" | "C" | "D" | "F";
}

export interface FactCheckAnalytics {
  // Source analysis
  sourceAnalysis: SourceCredibilityAnalysis;
  
  // Clickbait detection
  clickbaitAnalysis: ClickbaitAnalysis;
  
  // Misinformation risk
  misinfoAnalysis: MisinformationAnalysis;
  
  // Claims breakdown
  claimAnalyses: ClaimAnalysis[];
  
  // Final score breakdown
  scoreBreakdown: ScoreBreakdown;
  
  // Metadata
  analysisVersion: string;
  processingTimeMs: number;
  analyzedAt: string;
  
  // ML-specific metadata (optional, only when backend ML is used)
  mlModelsUsed?: string[];
  externalApisUsed?: string[];
}

interface FactCheckAnalyticsPanelProps {
  analytics: FactCheckAnalytics | null;
  isLoading?: boolean;
}

// Helper components
const ScoreBar = ({ 
  label, 
  score, 
  weight, 
  contribution,
  colorClass = "bg-blue-500"
}: { 
  label: string; 
  score: number; 
  weight: number;
  contribution: number;
  colorClass?: string;
}) => (
  <div className="space-y-1">
    <div className="flex items-center justify-between text-sm">
      <span className="text-muted-foreground">{label}</span>
      <div className="flex items-center gap-2">
        <Badge variant="outline" className="text-xs">
          가중치 {weight}%
        </Badge>
        <span className="font-medium">{Math.round(score * 100)}%</span>
      </div>
    </div>
    <Progress value={score * 100} className={`h-2 ${colorClass}`} />
    <div className="text-xs text-muted-foreground text-right">
      점수 기여: +{contribution.toFixed(1)}점
    </div>
  </div>
);

const PatternBadge = ({ 
  pattern, 
  severity 
}: { 
  pattern: string; 
  severity: "low" | "medium" | "high";
}) => {
  const severityColors = {
    low: "bg-yellow-100 text-yellow-800 border-yellow-200",
    medium: "bg-orange-100 text-orange-800 border-orange-200",
    high: "bg-red-100 text-red-800 border-red-200",
  };
  
  return (
    <Badge className={`${severityColors[severity]} border`}>
      {pattern}
    </Badge>
  );
};

const VerdictIcon = ({ verdict }: { verdict: ClaimAnalysis["verdict"] }) => {
  const icons = {
    verified: <CheckCircle2 className="h-4 w-4 text-green-500" />,
    false: <XCircle className="h-4 w-4 text-red-500" />,
    unverified: <HelpCircle className="h-4 w-4 text-gray-500" />,
    misleading: <AlertTriangle className="h-4 w-4 text-orange-500" />,
    partially_true: <Scale className="h-4 w-4 text-yellow-500" />,
  };
  return icons[verdict];
};

const GradeDisplay = ({ grade }: { grade: ScoreBreakdown["grade"] }) => {
  const gradeConfig = {
    A: { color: "bg-green-500", text: "text-green-600", label: "매우 신뢰" },
    B: { color: "bg-blue-500", text: "text-blue-600", label: "신뢰" },
    C: { color: "bg-yellow-500", text: "text-yellow-600", label: "주의 필요" },
    D: { color: "bg-orange-500", text: "text-orange-600", label: "신뢰 어려움" },
    F: { color: "bg-red-500", text: "text-red-600", label: "신뢰 불가" },
  };
  
  const config = gradeConfig[grade];
  
  return (
    <div className="flex items-center gap-2">
      <div className={`w-10 h-10 rounded-lg ${config.color} flex items-center justify-center`}>
        <span className="text-white font-bold text-lg">{grade}</span>
      </div>
      <span className={`text-sm font-medium ${config.text}`}>{config.label}</span>
    </div>
  );
};

export const FactCheckAnalyticsPanel = ({ 
  analytics, 
  isLoading = false 
}: FactCheckAnalyticsPanelProps) => {
  const [isExpanded, setIsExpanded] = useState(false);
  const [activeTab, setActiveTab] = useState("overview");
  
  if (isLoading) {
    return (
      <Card>
        <CardHeader>
          <CardTitle className="flex items-center gap-2">
            <BarChart3 className="h-5 w-5 animate-pulse" />
            분석 통계 로딩 중...
          </CardTitle>
        </CardHeader>
        <CardContent>
          <div className="space-y-4">
            <div className="h-4 bg-muted rounded animate-pulse" />
            <div className="h-4 bg-muted rounded animate-pulse w-3/4" />
            <div className="h-4 bg-muted rounded animate-pulse w-1/2" />
          </div>
        </CardContent>
      </Card>
    );
  }
  
  if (!analytics) {
    return null;
  }
  
  const { 
    sourceAnalysis, 
    clickbaitAnalysis, 
    misinfoAnalysis, 
    claimAnalyses, 
    scoreBreakdown 
  } = analytics;
  
  return (
    <Card className="border-2 border-dashed border-purple-200 dark:border-purple-800">
      <Collapsible open={isExpanded} onOpenChange={setIsExpanded}>
        <CardHeader className="pb-2">
          <div className="flex items-center justify-between">
            <div className="flex items-center gap-3">
              <div className="p-2 rounded-lg bg-purple-100 dark:bg-purple-900/30">
                <BarChart3 className="h-5 w-5 text-purple-600" />
              </div>
              <div>
                <CardTitle className="text-lg">분석 과정 세부 통계</CardTitle>
                <CardDescription>
                  신뢰도 {scoreBreakdown.totalScore}점 산출 과정을 확인합니다
                </CardDescription>
              </div>
            </div>
            <div className="flex items-center gap-2">
              <GradeDisplay grade={scoreBreakdown.grade} />
              <CollapsibleTrigger asChild>
                <Button variant="ghost" size="sm">
                  {isExpanded ? (
                    <ChevronUp className="h-4 w-4" />
                  ) : (
                    <ChevronDown className="h-4 w-4" />
                  )}
                </Button>
              </CollapsibleTrigger>
            </div>
          </div>
        </CardHeader>
        
        <CollapsibleContent>
          <CardContent className="pt-4">
            <Tabs value={activeTab} onValueChange={setActiveTab}>
              <TabsList className="grid w-full grid-cols-5 mb-4">
                <TabsTrigger value="overview" className="text-xs">
                  <TrendingUp className="h-3 w-3 mr-1" />
                  종합
                </TabsTrigger>
                <TabsTrigger value="source" className="text-xs">
                  <Shield className="h-3 w-3 mr-1" />
                  출처
                </TabsTrigger>
                <TabsTrigger value="clickbait" className="text-xs">
                  <AlertTriangle className="h-3 w-3 mr-1" />
                  낚시성
                </TabsTrigger>
                <TabsTrigger value="misinfo" className="text-xs">
                  <XCircle className="h-3 w-3 mr-1" />
                  허위정보
                </TabsTrigger>
                <TabsTrigger value="claims" className="text-xs">
                  <FileText className="h-3 w-3 mr-1" />
                  주장
                </TabsTrigger>
              </TabsList>
              
              {/* Overview Tab */}
              <TabsContent value="overview" className="space-y-6">
                {/* Score Formula Explanation */}
                <div className="p-4 rounded-lg bg-muted/50">
                  <div className="flex items-start gap-2 mb-3">
                    <Lightbulb className="h-5 w-5 text-yellow-500 shrink-0 mt-0.5" />
                    <div>
                      <h4 className="font-medium text-sm">신뢰도 점수 산출 공식</h4>
                      <p className="text-xs text-muted-foreground mt-1">
                        총점 = (출처 신뢰도 × 30%) + (낚시성 미탐지 × 20%) + (허위정보 미탐지 × 20%) + (주장 검증률 × 30%)
                      </p>
                    </div>
                  </div>
                  
                  <div className="grid grid-cols-2 md:grid-cols-4 gap-3 mt-4">
                    <div className="text-center p-2 rounded bg-background">
                      <div className="text-2xl font-bold text-blue-600">
                        {Math.round(sourceAnalysis.trustScore * 100)}%
                      </div>
                      <div className="text-xs text-muted-foreground">출처 신뢰도</div>
                    </div>
                    <div className="text-center p-2 rounded bg-background">
                      <div className="text-2xl font-bold text-green-600">
                        {clickbaitAnalysis.isClickbait ? "탐지" : "정상"}
                      </div>
                      <div className="text-xs text-muted-foreground">낚시성 여부</div>
                    </div>
                    <div className="text-center p-2 rounded bg-background">
                      <div className="text-2xl font-bold text-orange-600">
                        {misinfoAnalysis.riskLevel === "low" ? "낮음" : 
                         misinfoAnalysis.riskLevel === "medium" ? "중간" : "높음"}
                      </div>
                      <div className="text-xs text-muted-foreground">허위정보 위험</div>
                    </div>
                    <div className="text-center p-2 rounded bg-background">
                      <div className="text-2xl font-bold text-purple-600">
                        {claimAnalyses.filter(c => c.verdict === "verified").length}/{claimAnalyses.length}
                      </div>
                      <div className="text-xs text-muted-foreground">검증된 주장</div>
                    </div>
                  </div>
                </div>
                
                {/* Score Breakdown */}
                <div className="space-y-4">
                  <h4 className="font-medium flex items-center gap-2">
                    <Layers className="h-4 w-4" />
                    점수 구성 요소
                  </h4>
                  
                  <ScoreBar 
                    label="출처 신뢰도" 
                    score={sourceAnalysis.trustScore}
                    weight={scoreBreakdown.sourceWeight}
                    contribution={scoreBreakdown.sourceContribution}
                    colorClass="bg-blue-500"
                  />
                  
                  <ScoreBar 
                    label="낚시성 미탐지" 
                    score={clickbaitAnalysis.isClickbait ? 0.7 : 1}
                    weight={scoreBreakdown.clickbaitWeight}
                    contribution={scoreBreakdown.clickbaitContribution}
                    colorClass="bg-green-500"
                  />
                  
                  <ScoreBar 
                    label="허위정보 미탐지" 
                    score={1 - misinfoAnalysis.riskScore}
                    weight={scoreBreakdown.misinfoWeight}
                    contribution={scoreBreakdown.misinfoContribution}
                    colorClass="bg-orange-500"
                  />
                  
                  <ScoreBar 
                    label="주장 검증률" 
                    score={claimAnalyses.length > 0 
                      ? claimAnalyses.filter(c => c.verdict === "verified").length / claimAnalyses.length 
                      : 0}
                    weight={scoreBreakdown.verificationWeight}
                    contribution={scoreBreakdown.verificationContribution}
                    colorClass="bg-purple-500"
                  />
                  
                  <div className="pt-4 border-t">
                    <div className="flex items-center justify-between">
                      <span className="font-medium">최종 신뢰도 점수</span>
                      <div className="flex items-center gap-2">
                        <span className="text-2xl font-bold">{scoreBreakdown.totalScore}</span>
                        <span className="text-muted-foreground">/ 100</span>
                      </div>
                    </div>
                  </div>
                </div>
                
                {/* Metadata */}
                <div className="flex items-center gap-4 text-xs text-muted-foreground pt-4 border-t">
                  <div className="flex items-center gap-1">
                    <Clock className="h-3 w-3" />
                    처리시간: {analytics.processingTimeMs}ms
                  </div>
                  <div className="flex items-center gap-1">
                    <Info className="h-3 w-3" />
                    분석 버전: {analytics.analysisVersion}
                  </div>
                </div>
              </TabsContent>
              
              {/* Source Analysis Tab */}
              <TabsContent value="source" className="space-y-4">
                <div className={`p-4 rounded-lg border-2 ${
                  sourceAnalysis.isTrusted 
                    ? "border-green-200 bg-green-50 dark:bg-green-900/20" 
                    : "border-yellow-200 bg-yellow-50 dark:bg-yellow-900/20"
                }`}>
                  <div className="flex items-start gap-3">
                    <Shield className={`h-6 w-6 ${
                      sourceAnalysis.isTrusted ? "text-green-600" : "text-yellow-600"
                    }`} />
                    <div className="flex-1">
                      <div className="flex items-center gap-2 mb-1">
                        <h4 className="font-medium">{sourceAnalysis.sourceName || "알 수 없는 출처"}</h4>
                        <Badge variant={sourceAnalysis.isTrusted ? "default" : "secondary"}>
                          {sourceAnalysis.trustLevel === "trusted" ? "신뢰 매체" : 
                           sourceAnalysis.trustLevel === "unknown" ? "미확인" : "비신뢰"}
                        </Badge>
                      </div>
                      <p className="text-sm text-muted-foreground">{sourceAnalysis.reason}</p>
                      
                      <div className="mt-3 p-2 rounded bg-background/50">
                        <div className="flex items-center justify-between text-sm">
                          <span>출처 신뢰도 점수</span>
                          <span className="font-bold">{Math.round(sourceAnalysis.trustScore * 100)}%</span>
                        </div>
                        <Progress 
                          value={sourceAnalysis.trustScore * 100} 
                          className="h-2 mt-1" 
                        />
                      </div>
                      
                      {sourceAnalysis.matchedTrustedSource && (
                        <div className="mt-2 text-xs text-muted-foreground">
                          매칭된 신뢰 매체: <span className="font-medium">{sourceAnalysis.matchedTrustedSource}</span>
                        </div>
                      )}
                    </div>
                  </div>
                </div>
                
                <div className="p-4 rounded-lg bg-muted/50">
                  <h4 className="font-medium text-sm mb-2 flex items-center gap-2">
                    <Target className="h-4 w-4" />
                    출처 신뢰도 판별 기준
                  </h4>
                  <ul className="text-xs text-muted-foreground space-y-1">
                    <li>• 신뢰 매체 (90%): 연합뉴스, KBS, MBC, SBS, YTN, JTBC 등 17개</li>
                    <li>• 주요 신문 (80%): 조선일보, 중앙일보, 동아일보, 한겨레, 경향신문</li>
                    <li>• 인터넷 매체 (75%): 뉴시스, 뉴스1, 머니투데이, 이데일리</li>
                    <li>• 미확인 매체 (50%): 목록에 없는 출처</li>
                    <li>• 출처 없음 (30%): 출처 정보 미제공</li>
                  </ul>
                </div>
              </TabsContent>
              
              {/* Clickbait Analysis Tab */}
              <TabsContent value="clickbait" className="space-y-4">
                <div className={`p-4 rounded-lg border-2 ${
                  clickbaitAnalysis.isClickbait 
                    ? "border-red-200 bg-red-50 dark:bg-red-900/20" 
                    : "border-green-200 bg-green-50 dark:bg-green-900/20"
                }`}>
                  <div className="flex items-center gap-3 mb-3">
                    {clickbaitAnalysis.isClickbait ? (
                      <AlertTriangle className="h-6 w-6 text-red-600" />
                    ) : (
                      <CheckCircle2 className="h-6 w-6 text-green-600" />
                    )}
                    <div>
                      <h4 className="font-medium">
                        {clickbaitAnalysis.isClickbait ? "낚시성 콘텐츠 탐지됨" : "낚시성 콘텐츠 없음"}
                      </h4>
                      <p className="text-sm text-muted-foreground">
                        {clickbaitAnalysis.totalPatternsChecked}개 패턴 중 {clickbaitAnalysis.detectedPatterns.length}개 탐지
                      </p>
                    </div>
                  </div>
                  
                  <div className="flex items-center justify-between text-sm mb-2">
                    <span>낚시성 점수</span>
                    <span className="font-bold">{Math.round(clickbaitAnalysis.score * 100)}%</span>
                  </div>
                  <Progress value={clickbaitAnalysis.score * 100} className="h-2" />
                </div>
                
                {clickbaitAnalysis.detectedPatterns.length > 0 && (
                  <div className="space-y-2">
                    <h4 className="font-medium text-sm">탐지된 패턴</h4>
                    <div className="space-y-2">
                      {clickbaitAnalysis.detectedPatterns.map((pattern, idx) => (
                        <div key={idx} className="p-3 rounded-lg bg-muted/50 flex items-start gap-2">
                          <PatternBadge pattern={pattern.pattern} severity={pattern.severity} />
                          <div className="flex-1 min-w-0">
                            <p className="text-sm truncate">"{pattern.matchedText}"</p>
                          </div>
                        </div>
                      ))}
                    </div>
                  </div>
                )}
                
                <div className="p-4 rounded-lg bg-muted/50">
                  <h4 className="font-medium text-sm mb-2 flex items-center gap-2">
                    <Eye className="h-4 w-4" />
                    낚시성 탐지 패턴 목록
                  </h4>
                  <div className="flex flex-wrap gap-1 text-xs">
                    {["충격!", "경악!", "대박!", "헉!", "알고보니", "결국...", "드디어!", 
                      "...", "???", "!!!", "속보:", "단독:", "긴급:"].map(p => (
                      <Badge key={p} variant="outline" className="text-xs">{p}</Badge>
                    ))}
                  </div>
                </div>
              </TabsContent>
              
              {/* Misinformation Analysis Tab */}
              <TabsContent value="misinfo" className="space-y-4">
                <div className={`p-4 rounded-lg border-2 ${
                  misinfoAnalysis.riskLevel === "low" 
                    ? "border-green-200 bg-green-50 dark:bg-green-900/20" 
                    : misinfoAnalysis.riskLevel === "medium"
                    ? "border-yellow-200 bg-yellow-50 dark:bg-yellow-900/20"
                    : "border-red-200 bg-red-50 dark:bg-red-900/20"
                }`}>
                  <div className="flex items-center gap-3 mb-3">
                    {misinfoAnalysis.riskLevel === "low" ? (
                      <CheckCircle2 className="h-6 w-6 text-green-600" />
                    ) : misinfoAnalysis.riskLevel === "medium" ? (
                      <AlertTriangle className="h-6 w-6 text-yellow-600" />
                    ) : (
                      <XCircle className="h-6 w-6 text-red-600" />
                    )}
                    <div>
                      <h4 className="font-medium">
                        허위정보 위험도: {
                          misinfoAnalysis.riskLevel === "low" ? "낮음" :
                          misinfoAnalysis.riskLevel === "medium" ? "중간" : "높음"
                        }
                      </h4>
                      <p className="text-sm text-muted-foreground">
                        검증 불가 주장 {misinfoAnalysis.unverifiableClaimCount}개 발견
                      </p>
                    </div>
                  </div>
                  
                  <div className="flex items-center justify-between text-sm mb-2">
                    <span>위험도 점수</span>
                    <span className="font-bold">{Math.round(misinfoAnalysis.riskScore * 100)}%</span>
                  </div>
                  <Progress value={misinfoAnalysis.riskScore * 100} className="h-2" />
                </div>
                
                {misinfoAnalysis.detectedPatterns.length > 0 && (
                  <div className="space-y-2">
                    <h4 className="font-medium text-sm">탐지된 위험 패턴</h4>
                    <div className="space-y-2">
                      {misinfoAnalysis.detectedPatterns.map((pattern, idx) => (
                        <div key={idx} className="p-3 rounded-lg bg-muted/50">
                          <div className="flex items-center gap-2 mb-1">
                            <Badge variant={pattern.type === "misinformation" ? "destructive" : "secondary"}>
                              {pattern.type === "misinformation" ? "허위정보 패턴" : "검증 불가 표현"}
                            </Badge>
                            <PatternBadge pattern={pattern.pattern} severity={pattern.severity} />
                          </div>
                          <p className="text-sm text-muted-foreground">"{pattern.matchedText}"</p>
                        </div>
                      ))}
                    </div>
                  </div>
                )}
                
                <div className="grid grid-cols-2 gap-4">
                  <div className="p-4 rounded-lg bg-muted/50">
                    <h4 className="font-medium text-sm mb-2 flex items-center gap-2">
                      <AlertTriangle className="h-4 w-4 text-red-500" />
                      허위정보 패턴
                    </h4>
                    <div className="text-xs text-muted-foreground space-y-1">
                      <p>• "정부가 숨기"</p>
                      <p>• "언론이 보도하지 않는"</p>
                      <p>• "비밀리에"</p>
                      <p>• "충격 진실"</p>
                      <p>• "알려지지 않은 진실"</p>
                    </div>
                  </div>
                  
                  <div className="p-4 rounded-lg bg-muted/50">
                    <h4 className="font-medium text-sm mb-2 flex items-center gap-2">
                      <HelpCircle className="h-4 w-4 text-yellow-500" />
                      검증 불가 표현
                    </h4>
                    <div className="text-xs text-muted-foreground space-y-1">
                      <p>• "최초", "유일", "최고"</p>
                      <p>• "100%", "모든 사람"</p>
                      <p>• "아무도", "절대"</p>
                      <p>• "반드시"</p>
                    </div>
                  </div>
                </div>
              </TabsContent>
              
              {/* Claims Analysis Tab */}
              <TabsContent value="claims" className="space-y-4">
                <div className="grid grid-cols-5 gap-2 mb-4">
                  {[
                    { verdict: "verified", label: "검증됨", color: "bg-green-500" },
                    { verdict: "partially_true", label: "일부 사실", color: "bg-yellow-500" },
                    { verdict: "unverified", label: "미검증", color: "bg-gray-500" },
                    { verdict: "misleading", label: "오해 소지", color: "bg-orange-500" },
                    { verdict: "false", label: "거짓", color: "bg-red-500" },
                  ].map(({ verdict, label, color }) => (
                    <div key={verdict} className="text-center p-2 rounded bg-muted/50">
                      <div className={`w-4 h-4 rounded-full ${color} mx-auto mb-1`} />
                      <div className="text-lg font-bold">
                        {claimAnalyses.filter(c => c.verdict === verdict).length}
                      </div>
                      <div className="text-xs text-muted-foreground">{label}</div>
                    </div>
                  ))}
                </div>
                
                <div className="space-y-3">
                  {claimAnalyses.map((claim, idx) => (
                    <Collapsible key={claim.claimId}>
                      <div className="p-3 rounded-lg border bg-card">
                        <CollapsibleTrigger className="w-full">
                          <div className="flex items-start gap-3">
                            <div className="flex items-center gap-2">
                              <span className="text-xs text-muted-foreground">#{idx + 1}</span>
                              <VerdictIcon verdict={claim.verdict} />
                            </div>
                            <div className="flex-1 text-left">
                              <p className="text-sm line-clamp-2">{claim.claimText}</p>
                              <div className="flex items-center gap-2 mt-1">
                                <Badge variant="outline" className="text-xs">
                                  {claim.claimIndicator}
                                </Badge>
                                <span className="text-xs text-muted-foreground">
                                  신뢰도 {Math.round(claim.confidence * 100)}%
                                </span>
                              </div>
                            </div>
                            <ChevronDown className="h-4 w-4 text-muted-foreground" />
                          </div>
                        </CollapsibleTrigger>
                        
                        <CollapsibleContent className="mt-3 pt-3 border-t">
                          <div className="space-y-3">
                            <div>
                              <span className="text-xs font-medium">분석 방법</span>
                              <p className="text-xs text-muted-foreground">{claim.analysisMethod}</p>
                            </div>
                            
                            {claim.supportingFactors.length > 0 && (
                              <div>
                                <span className="text-xs font-medium text-green-600 flex items-center gap-1">
                                  <CheckCircle2 className="h-3 w-3" />
                                  지지 요소
                                </span>
                                <ul className="text-xs text-muted-foreground mt-1 space-y-1">
                                  {claim.supportingFactors.map((f, i) => (
                                    <li key={i}>• {f}</li>
                                  ))}
                                </ul>
                              </div>
                            )}
                            
                            {claim.contradictingFactors.length > 0 && (
                              <div>
                                <span className="text-xs font-medium text-red-600 flex items-center gap-1">
                                  <XCircle className="h-3 w-3" />
                                  반박 요소
                                </span>
                                <ul className="text-xs text-muted-foreground mt-1 space-y-1">
                                  {claim.contradictingFactors.map((f, i) => (
                                    <li key={i}>• {f}</li>
                                  ))}
                                </ul>
                              </div>
                            )}
                          </div>
                        </CollapsibleContent>
                      </div>
                    </Collapsible>
                  ))}
                </div>
                
                <div className="p-4 rounded-lg bg-muted/50">
                  <h4 className="font-medium text-sm mb-2 flex items-center gap-2">
                    <Hash className="h-4 w-4" />
                    주장 추출 기준 (Claim Indicators)
                  </h4>
                  <div className="flex flex-wrap gap-1 text-xs">
                    {["~라고 밝혔다", "~라고 주장했다", "~라고 전했다", 
                      "~에 따르면", "~것으로 알려졌다", "~것으로 확인됐다",
                      "관계자는", "전문가는", "소식통에 따르면"].map(indicator => (
                      <Badge key={indicator} variant="outline" className="text-xs">{indicator}</Badge>
                    ))}
                  </div>
                </div>
              </TabsContent>
            </Tabs>
          </CardContent>
        </CollapsibleContent>
      </Collapsible>
    </Card>
  );
};

export default FactCheckAnalyticsPanel;

```

---

## frontend/src/components/FactCheckChatbot.tsx

```tsx
import { useState, useRef, useEffect, useImperativeHandle, forwardRef, useCallback, useMemo } from 'react';
import { 
  Send, Loader2, Bot, User, AlertCircle, CheckCircle2, XCircle, Scale, Shield, 
  Download, Copy, Check, FileText, FileCode, RefreshCw, Sparkles, Search,
  ExternalLink, BookOpen, TrendingUp, MessageSquare, Zap
} from 'lucide-react';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { ScrollArea } from '@/components/ui/scroll-area';
import { Badge } from '@/components/ui/badge';
import { Alert, AlertDescription } from '@/components/ui/alert';
import { MarkdownRenderer } from '@/components/MarkdownRenderer';
import { useFactCheckChat } from '@/hooks/useFactCheckChat';
import { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from '@/components/ui/tooltip';
import { Progress } from '@/components/ui/progress';
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuLabel,
  DropdownMenuSeparator,
  DropdownMenuTrigger,
} from '@/components/ui/dropdown-menu';
import { toast } from 'sonner';
import { cn } from '@/lib/utils';

interface Message {
  id: string;
  role: 'user' | 'assistant' | 'system';
  content: string;
  timestamp: number;
  type?: string;
  phase?: string;
  evidence?: any[];
  verificationResult?: any;
  credibility?: any;
  isStreaming?: boolean;
}

interface FactCheckChatbotProps {
  /** Initial query to send when component mounts */
  initialQuery?: string;
  /** Initial claims to verify (will be combined into a query) */
  initialClaims?: string[];
  /** Compact mode for embedding in tabs */
  compact?: boolean;
  /** Custom height class (default: h-[calc(100vh-12rem)] or h-[500px] in compact mode) */
  heightClass?: string;
  /** Hide header in compact mode */
  hideHeader?: boolean;
}

export interface FactCheckChatbotRef {
  sendQuery: (query: string) => void;
  sendClaims: (claims: string[]) => void;
  clearMessages: () => void;
}

export const FactCheckChatbot = forwardRef<FactCheckChatbotRef, FactCheckChatbotProps>(({
  initialQuery,
  initialClaims,
  compact = false,
  heightClass,
  hideHeader = false,
}, ref) => {
  const [input, setInput] = useState('');
  const [messages, setMessages] = useState<Message[]>([]);
  const [streamingMessage, setStreamingMessage] = useState<Message | null>(null);
  const initialSentRef = useRef(false);
  const scrollRef = useRef<HTMLDivElement>(null);
  const inputRef = useRef<HTMLInputElement>(null);
  const streamingContentRef = useRef<string>('');

  const { sendMessage, isConnected, isStreaming, sessionId, reconnect } = useFactCheckChat({
    onMessage: (event) => {
      const eventType = event.type;
      
      // ai_synthesis 이벤트는 하나의 메시지로 누적
      if (eventType === 'ai_synthesis') {
        streamingContentRef.current += event.content || '';
        setStreamingMessage({
          id: 'streaming-message',
          role: 'assistant',
          content: streamingContentRef.current,
          timestamp: event.timestamp || Date.now(),
          type: 'ai_synthesis',
          phase: event.phase,
          isStreaming: true,
        });
        return;
      }
      
      // 스트리밍 완료 시 최종 메시지를 messages에 추가
      if (eventType === 'complete') {
        if (streamingContentRef.current) {
          setMessages((prev) => [...prev, {
            id: `ai-synthesis-${Date.now()}`,
            role: 'assistant',
            content: streamingContentRef.current,
            timestamp: Date.now(),
            type: 'ai_synthesis',
            isStreaming: false,
          }]);
          streamingContentRef.current = '';
          setStreamingMessage(null);
        }
        
        // 완료 메시지는 UI에 표시하지 않으므로 messages에 추가하지 않음
        return;
      }
      
      // status 메시지는 건너뛰기 (별도 표시하지 않음 - 스트리밍 로딩으로 대체)
      if (eventType === 'status') {
        return;
      }
      
      // evidence, verification, assessment 등 기타 메시지는 일반적으로 추가
      setMessages((prev) => [...prev, {
        id: `${Date.now()}-${Math.random()}`,
        role: event.role as 'user' | 'assistant' | 'system',
        content: event.content || '',
        timestamp: event.timestamp || Date.now(),
        type: eventType,
        phase: event.phase,
        evidence: event.evidence,
        verificationResult: event.verificationResult,
        credibility: event.credibility,
      }]);
    },
    onError: (error) => {
      // 스트리밍 중 에러 발생 시 누적된 내용 저장
      if (streamingContentRef.current) {
        setMessages((prev) => [...prev, {
          id: `ai-synthesis-${Date.now()}`,
          role: 'assistant',
          content: streamingContentRef.current,
          timestamp: Date.now(),
          type: 'ai_synthesis',
          isStreaming: false,
        }]);
        streamingContentRef.current = '';
        setStreamingMessage(null);
      }
      
      setMessages((prev) => [...prev, {
        id: `error-${Date.now()}`,
        role: 'system',
        content: `오류: ${error}`,
        timestamp: Date.now(),
        type: 'error',
      }]);
    },
  });

  // 세션 재연결 핸들러
  const handleReconnect = useCallback(() => {
    setMessages([]);
    setStreamingMessage(null);
    streamingContentRef.current = '';
    reconnect();
  }, [reconnect]);

  // 자동 스크롤 (메시지 또는 스트리밍 메시지 변경 시)
  useEffect(() => {
    if (scrollRef.current) {
      scrollRef.current.scrollTop = scrollRef.current.scrollHeight;
    }
  }, [messages, streamingMessage]);

  // Helper function to send a query
  const sendQueryInternal = async (query: string) => {
    if (!query.trim() || isStreaming) return;

    // 새 메시지 전송 전 스트리밍 상태 리셋
    setStreamingMessage(null);
    streamingContentRef.current = '';

    const userMessage: Message = {
      id: `user-${Date.now()}`,
      role: 'user',
      content: query,
      timestamp: Date.now(),
    };

    setMessages((prev) => [...prev, userMessage]);
    await sendMessage(query);
  };

  // Helper function to send claims
  const sendClaimsInternal = async (claims: string[]) => {
    const validClaims = claims.filter(c => c.trim());
    if (validClaims.length === 0) return;

    const query = validClaims.length === 1
      ? `다음 주장을 팩트체크해주세요: "${validClaims[0]}"`
      : `다음 주장들을 팩트체크해주세요:\n${validClaims.map((c, i) => `${i + 1}. ${c}`).join('\n')}`;

    await sendQueryInternal(query);
  };

  // Expose methods via ref for parent components
  useImperativeHandle(ref, () => ({
    sendQuery: (query: string) => {
      sendQueryInternal(query);
    },
    sendClaims: (claims: string[]) => {
      sendClaimsInternal(claims);
    },
    clearMessages: () => {
      setMessages([]);
      setStreamingMessage(null);
      streamingContentRef.current = '';
    },
  }), [isStreaming, sendMessage]);

  // Handle initial query or claims on mount
  useEffect(() => {
    if (initialSentRef.current || !isConnected) return;

    if (initialClaims && initialClaims.length > 0) {
      initialSentRef.current = true;
      sendClaimsInternal(initialClaims);
    } else if (initialQuery) {
      initialSentRef.current = true;
      sendQueryInternal(initialQuery);
    }
  }, [isConnected, initialQuery, initialClaims]);

  const handleSend = async () => {
    if (!input.trim() || isStreaming) return;
    const query = input;
    setInput('');
    await sendQueryInternal(query);
  };

  const handleKeyPress = (e: React.KeyboardEvent) => {
    if (e.key === 'Enter' && !e.shiftKey) {
      e.preventDefault();
      handleSend();
    }
  };

  // Export functionality
  const [copied, setCopied] = useState(false);

  const exportToMarkdown = useCallback(() => {
    if (messages.length === 0) return;
    
    const timestamp = new Date().toLocaleString('ko-KR');
    let md = `# 팩트체크 결과 보고서\n\n`;
    md += `**생성 시간**: ${timestamp}\n`;
    md += `**세션 ID**: ${sessionId || 'N/A'}\n\n`;
    md += `---\n\n`;

    messages.forEach((msg) => {
      if (msg.role === 'user') {
        md += `## 사용자 질문\n\n${msg.content}\n\n`;
      } else if (msg.role === 'assistant') {
        md += `## AI 응답\n\n${msg.content}\n\n`;
        
        if (msg.verificationResult) {
          const result = msg.verificationResult;
          md += `### 검증 결과\n\n`;
          md += `- **주장**: ${result.originalClaim}\n`;
          md += `- **판정**: ${getVerificationLabel(result.status)}\n`;
          md += `- **신뢰도**: ${Math.round((result.confidenceScore || 0) * 100)}%\n`;
          md += `- **요약**: ${result.verificationSummary}\n\n`;
        }
        
        if (msg.evidence && msg.evidence.length > 0) {
          md += `### 증거 자료\n\n`;
          msg.evidence.forEach((ev: any, idx: number) => {
            md += `${idx + 1}. **${ev.sourceName}**\n`;
            md += `   - ${ev.excerpt}\n`;
            if (ev.url) md += `   - URL: ${ev.url}\n`;
            md += `\n`;
          });
        }
      }
    });

    md += `---\n\n*이 보고서는 NewsInsight 팩트체크 챗봇에 의해 자동 생성되었습니다.*\n`;

    const blob = new Blob([md], { type: 'text/markdown;charset=utf-8' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `팩트체크_결과_${new Date().toISOString().slice(0, 10)}.md`;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
    toast.success('Markdown 파일이 다운로드되었습니다.');
  }, [messages, sessionId]);

  const exportToText = useCallback(() => {
    if (messages.length === 0) return;
    
    const timestamp = new Date().toLocaleString('ko-KR');
    let text = `팩트체크 결과 보고서\n`;
    text += `========================================\n\n`;
    text += `생성 시간: ${timestamp}\n`;
    text += `세션 ID: ${sessionId || 'N/A'}\n\n`;
    text += `========================================\n\n`;

    messages.forEach((msg) => {
      if (msg.role === 'user') {
        text += `[사용자 질문]\n${msg.content}\n\n`;
      } else if (msg.role === 'assistant') {
        text += `[AI 응답]\n${msg.content}\n\n`;
        
        if (msg.verificationResult) {
          const result = msg.verificationResult;
          text += `[검증 결과]\n`;
          text += `- 주장: ${result.originalClaim}\n`;
          text += `- 판정: ${getVerificationLabel(result.status)}\n`;
          text += `- 신뢰도: ${Math.round((result.confidenceScore || 0) * 100)}%\n`;
          text += `- 요약: ${result.verificationSummary}\n\n`;
        }
      }
    });

    text += `========================================\n`;
    text += `이 보고서는 NewsInsight 팩트체크 챗봇에 의해 자동 생성되었습니다.\n`;

    const blob = new Blob([text], { type: 'text/plain;charset=utf-8' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `팩트체크_결과_${new Date().toISOString().slice(0, 10)}.txt`;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
    toast.success('텍스트 파일이 다운로드되었습니다.');
  }, [messages, sessionId]);

  const exportToJson = useCallback(() => {
    if (messages.length === 0) return;
    
    const exportData = {
      exportedAt: new Date().toISOString(),
      sessionId: sessionId || null,
      messages: messages.map(msg => ({
        role: msg.role,
        content: msg.content,
        timestamp: msg.timestamp,
        type: msg.type,
        verificationResult: msg.verificationResult,
        evidence: msg.evidence,
      })),
    };

    const blob = new Blob([JSON.stringify(exportData, null, 2)], { type: 'application/json;charset=utf-8' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `팩트체크_결과_${new Date().toISOString().slice(0, 10)}.json`;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
    toast.success('JSON 파일이 다운로드되었습니다.');
  }, [messages, sessionId]);

  const copyToClipboard = useCallback(async () => {
    if (messages.length === 0) return;
    
    const text = messages
      .filter(m => m.role !== 'system' || m.type !== 'status')
      .map(m => {
        if (m.role === 'user') return `사용자: ${m.content}`;
        if (m.role === 'assistant') return `AI: ${m.content}`;
        return m.content;
      })
      .join('\n\n');

    try {
      await navigator.clipboard.writeText(text);
      setCopied(true);
      toast.success('클립보드에 복사되었습니다.');
      setTimeout(() => setCopied(false), 2000);
    } catch {
      toast.error('복사에 실패했습니다.');
    }
  }, [messages]);

  // Determine height class
  const containerHeightClass = heightClass || (compact ? 'h-[500px]' : 'h-[calc(100vh-12rem)]');

  // 예시 질문들
  const exampleQuestions = useMemo(() => [
    { icon: TrendingUp, text: '메모리 반도체 가격이 상승하고 있다는 뉴스가 사실인가요?', label: '경제 뉴스' },
    { icon: BookOpen, text: '커피를 많이 마시면 건강에 해롭다는 말이 사실인가요?', label: '건강 상식' },
    { icon: Zap, text: '전기차 배터리 수명이 5년 이상 가지 않는다는게 사실인가요?', label: '기술 정보' },
  ], []);

  return (
    <TooltipProvider>
      <div className={cn(
        "flex flex-col",
        containerHeightClass,
        !compact && "max-w-4xl mx-auto"
      )}>
        <Card className="flex-1 flex flex-col overflow-hidden border-0 shadow-xl bg-gradient-to-b from-background to-muted/20">
          {/* 헤더 */}
          {!hideHeader && (
            <CardHeader className={cn(
              "border-b bg-background/80 backdrop-blur-sm",
              compact ? "py-3 px-4" : "py-4 px-6"
            )}>
              <div className="flex items-center gap-4">
                {/* 로고 영역 */}
                <div className={cn(
                  "relative",
                  compact ? "p-2" : "p-2.5"
                )}>
                  <div className="absolute inset-0 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl opacity-20 blur-sm" />
                  <div className="relative bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl p-2">
                    <Shield className={cn("text-white", compact ? "h-5 w-5" : "h-6 w-6")} />
                  </div>
                </div>
                
                {/* 타이틀 */}
                <div className="flex-1 min-w-0">
                  <CardTitle className={cn(
                    "flex items-center gap-2",
                    compact ? "text-base" : "text-lg"
                  )}>
                    팩트체크 AI
                    <Badge variant="secondary" className="text-[10px] px-1.5 py-0 font-normal">
                      Beta
                    </Badge>
                  </CardTitle>
                  {!compact && (
                    <p className="text-sm text-muted-foreground mt-0.5 truncate">
                      신뢰할 수 있는 출처 기반 실시간 검증
                    </p>
                  )}
                </div>
                
                {/* 액션 버튼들 */}
                <div className="flex items-center gap-2">
                  {messages.length > 0 && (
                    <DropdownMenu>
                      <DropdownMenuTrigger asChild>
                        <Button variant="ghost" size="sm" className="h-8 px-2">
                          <Download className="h-4 w-4" />
                          {!compact && <span className="ml-1.5">내보내기</span>}
                        </Button>
                      </DropdownMenuTrigger>
                      <DropdownMenuContent align="end" className="w-48">
                        <DropdownMenuLabel className="text-xs text-muted-foreground">내보내기 형식</DropdownMenuLabel>
                        <DropdownMenuSeparator />
                        <DropdownMenuItem onClick={exportToMarkdown} className="gap-2">
                          <FileCode className="h-4 w-4 text-blue-500" />
                          Markdown
                        </DropdownMenuItem>
                        <DropdownMenuItem onClick={exportToText} className="gap-2">
                          <FileText className="h-4 w-4 text-gray-500" />
                          텍스트
                        </DropdownMenuItem>
                        <DropdownMenuItem onClick={exportToJson} className="gap-2">
                          <FileText className="h-4 w-4 text-amber-500" />
                          JSON
                        </DropdownMenuItem>
                        <DropdownMenuSeparator />
                        <DropdownMenuItem onClick={copyToClipboard} className="gap-2">
                          {copied ? <Check className="h-4 w-4 text-green-500" /> : <Copy className="h-4 w-4" />}
                          복사
                        </DropdownMenuItem>
                      </DropdownMenuContent>
                    </DropdownMenu>
                  )}
                  
                  {/* 연결 상태 */}
                  <Tooltip>
                    <TooltipTrigger asChild>
                      <div className={cn(
                        "flex items-center gap-1.5 px-2 py-1 rounded-full text-xs font-medium transition-colors",
                        isConnected 
                          ? "bg-green-500/10 text-green-600 dark:text-green-400" 
                          : "bg-amber-500/10 text-amber-600 dark:text-amber-400"
                      )}>
                        <div className={cn(
                          "w-1.5 h-1.5 rounded-full",
                          isConnected ? "bg-green-500 animate-pulse" : "bg-amber-500"
                        )} />
                        {!compact && (isConnected ? "연결됨" : "연결 중")}
                      </div>
                    </TooltipTrigger>
                    <TooltipContent>
                      {isConnected ? "서버 연결 활성화" : "서버에 연결 중..."}
                    </TooltipContent>
                  </Tooltip>
                </div>
              </div>
            </CardHeader>
          )}

          <CardContent className="flex-1 flex flex-col p-0 min-h-0 overflow-hidden">
            {/* 메시지 영역 */}
            <ScrollArea ref={scrollRef} className="flex-1 overflow-y-auto">
              <div className={cn("min-h-full", compact ? "p-3" : "p-4 md:p-6")}>
                {/* 연결 중 상태 */}
                {!isConnected && messages.length === 0 ? (
                  <div className="flex flex-col items-center justify-center h-full min-h-[300px] text-center">
                    <div className="relative mb-6">
                      <div className="absolute inset-0 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full opacity-20 blur-xl animate-pulse" />
                      <div className="relative bg-muted/50 rounded-full p-6">
                        <Loader2 className="h-10 w-10 text-muted-foreground animate-spin" />
                      </div>
                    </div>
                    <h3 className="text-lg font-semibold mb-2">서버에 연결 중...</h3>
                    <p className="text-muted-foreground text-sm max-w-sm mb-4">
                      팩트체크 서비스에 연결하고 있습니다
                    </p>
                    <Button onClick={handleReconnect} variant="outline" size="sm" className="gap-2">
                      <RefreshCw className="h-4 w-4" />
                      다시 연결
                    </Button>
                  </div>
                ) : messages.length === 0 ? (
                  /* 웰컴 화면 */
                  <div className="flex flex-col items-center justify-center h-full min-h-[300px] text-center">
                    <div className="relative mb-6">
                      <div className="absolute inset-0 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full opacity-20 blur-xl" />
                      <div className="relative bg-gradient-to-br from-blue-500/10 to-purple-600/10 rounded-full p-6 border border-primary/10">
                        <Sparkles className={cn("text-primary", compact ? "h-8 w-8" : "h-10 w-10")} />
                      </div>
                    </div>
                    
                    <h3 className={cn("font-semibold mb-2", compact ? "text-lg" : "text-xl")}>
                      무엇을 검증해 드릴까요?
                    </h3>
                    <p className="text-muted-foreground text-sm max-w-md mb-6">
                      뉴스, 주장, 상식 등 궁금한 내용을 입력하면{!compact && <br />}
                      학술 자료와 신뢰할 수 있는 출처를 기반으로 검증해 드립니다
                    </p>
                    
                    {/* 예시 질문들 */}
                    <div className="w-full max-w-md space-y-2">
                      <p className="text-xs text-muted-foreground mb-3">예시 질문</p>
                      {exampleQuestions.map((q, idx) => (
                        <button
                          key={idx}
                          onClick={() => setInput(q.text)}
                          className={cn(
                            "w-full flex items-center gap-3 p-3 rounded-xl text-left transition-all",
                            "bg-muted/50 hover:bg-muted border border-transparent hover:border-primary/20",
                            "group"
                          )}
                        >
                          <div className="flex-shrink-0 p-2 rounded-lg bg-primary/10 text-primary group-hover:bg-primary group-hover:text-primary-foreground transition-colors">
                            <q.icon className="h-4 w-4" />
                          </div>
                          <div className="flex-1 min-w-0">
                            <p className="text-sm truncate">{q.text}</p>
                            <p className="text-xs text-muted-foreground">{q.label}</p>
                          </div>
                          <Search className="h-4 w-4 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity" />
                        </button>
                      ))}
                    </div>
                  </div>
                ) : (
                  /* 메시지 목록 */
                  <div className="space-y-4">
                    {messages.map((message, idx) => (
                      <MessageBubble 
                        key={message.id} 
                        message={message} 
                        isFirst={idx === 0}
                        compact={compact}
                      />
                    ))}
                    {streamingMessage && (
                      <MessageBubble 
                        key={streamingMessage.id} 
                        message={streamingMessage}
                        compact={compact}
                      />
                    )}
                    {isStreaming && !streamingMessage && (
                      <div className="flex items-center gap-3 py-2">
                        <div className="flex-shrink-0">
                          <div className="w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center">
                            <Bot className="h-4 w-4 text-white" />
                          </div>
                        </div>
                        <div className="flex items-center gap-2 text-muted-foreground bg-muted/50 rounded-full px-4 py-2">
                          <Loader2 className="h-4 w-4 animate-spin" />
                          <span className="text-sm">분석 중...</span>
                        </div>
                      </div>
                    )}
                  </div>
                )}
              </div>
            </ScrollArea>

            {/* 입력 영역 */}
            <div className={cn(
              "border-t bg-background/80 backdrop-blur-sm",
              compact ? "p-3" : "p-4"
            )}>
              <div className="flex gap-2 items-end">
                <div className="flex-1 relative">
                  <Input
                    ref={inputRef}
                    value={input}
                    onChange={(e) => setInput(e.target.value)}
                    onKeyPress={handleKeyPress}
                    placeholder="검증하고 싶은 내용을 입력하세요..."
                    disabled={isStreaming}
                    className={cn(
                      "pr-4 bg-muted/50 border-muted-foreground/20 focus-visible:ring-primary/30",
                      compact ? "h-10" : "h-11"
                    )}
                  />
                </div>
                <Tooltip>
                  <TooltipTrigger asChild>
                    <Button
                      onClick={handleSend}
                      disabled={!input.trim() || isStreaming}
                      size={compact ? "default" : "lg"}
                      className={cn(
                        "bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",
                        "shadow-lg shadow-primary/25 transition-all",
                        compact ? "h-10 w-10" : "h-11 w-11"
                      )}
                    >
                      {isStreaming ? (
                        <Loader2 className="h-4 w-4 animate-spin" />
                      ) : (
                        <Send className="h-4 w-4" />
                      )}
                    </Button>
                  </TooltipTrigger>
                  <TooltipContent>Enter로 전송</TooltipContent>
                </Tooltip>
              </div>
              {!compact && (
                <p className="text-[11px] text-muted-foreground mt-2 text-center">
                  학술 DB, 뉴스, 백과사전 등 다양한 출처를 실시간으로 검색하여 검증합니다
                </p>
              )}
            </div>
          </CardContent>
        </Card>
      </div>
    </TooltipProvider>
  );
});

// 메시지 버블 컴포넌트
interface MessageBubbleProps {
  message: Message;
  isFirst?: boolean;
  compact?: boolean;
}

const MessageBubble = ({ message, isFirst = false, compact = false }: MessageBubbleProps) => {
  const isUser = message.role === 'user';
  const isSystem = message.role === 'system';

  // 시스템 메시지 (상태 업데이트) - 숨김
  if (isSystem && message.type === 'status') {
    return null;
  }

  // 증거 메시지 - 개선된 카드 디자인
  if (message.type === 'evidence' && message.evidence) {
    return (
      <div className="flex gap-3 animate-in fade-in slide-in-from-bottom-2 duration-300">
        <div className="flex-shrink-0">
          <div className="w-9 h-9 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center shadow-lg shadow-blue-500/20">
            <BookOpen className="h-4 w-4 text-white" />
          </div>
        </div>
        <div className="flex-1 min-w-0">
          <div className="bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-950/50 dark:to-cyan-950/50 rounded-xl p-4 border border-blue-200/50 dark:border-blue-800/50">
            <div className="flex items-center gap-2 mb-3">
              <Shield className="h-4 w-4 text-blue-600 dark:text-blue-400" />
              <span className="text-sm font-medium text-blue-700 dark:text-blue-300">
                수집된 출처 ({message.evidence.length}건)
              </span>
            </div>
            <div className="space-y-2">
              {message.evidence.slice(0, 4).map((ev: any, idx: number) => (
                <div 
                  key={idx} 
                  className="bg-white/60 dark:bg-white/5 rounded-lg p-3 border border-blue-100 dark:border-blue-800/30"
                >
                  <div className="flex items-start justify-between gap-2">
                    <p className="text-sm font-medium text-foreground">{ev.sourceName}</p>
                    {ev.url && (
                      <a 
                        href={ev.url} 
                        target="_blank" 
                        rel="noopener noreferrer"
                        className="flex-shrink-0 text-blue-500 hover:text-blue-600 transition-colors"
                      >
                        <ExternalLink className="h-3.5 w-3.5" />
                      </a>
                    )}
                  </div>
                  <p className="text-xs text-muted-foreground mt-1 line-clamp-2">{ev.excerpt}</p>
                </div>
              ))}
            </div>
          </div>
        </div>
      </div>
    );
  }

  // 검증 결과 메시지 - 개선된 디자인
  if (message.type === 'verification' && message.verificationResult) {
    const result = message.verificationResult;
    const statusConfig = getVerificationConfig(result.status);
    
    return (
      <div className="flex gap-3 animate-in fade-in slide-in-from-bottom-2 duration-300">
        <div className="flex-shrink-0">
          <div className={cn(
            "w-9 h-9 rounded-xl flex items-center justify-center shadow-lg",
            statusConfig.bgGradient,
            statusConfig.shadow
          )}>
            {statusConfig.icon}
          </div>
        </div>
        <div className="flex-1 min-w-0">
          <div className={cn(
            "rounded-xl p-4 border",
            statusConfig.cardBg,
            statusConfig.border
          )}>
            <div className="flex items-start justify-between gap-3 mb-3">
              <p className="text-sm font-medium flex-1">{result.originalClaim}</p>
              <Badge className={cn("flex-shrink-0", statusConfig.badge)}>
                {statusConfig.label}
              </Badge>
            </div>
            <p className="text-sm text-muted-foreground mb-3">{result.verificationSummary}</p>
            {result.confidenceScore !== undefined && (
              <div className="flex items-center gap-3">
                <span className="text-xs text-muted-foreground">신뢰도</span>
                <div className="flex-1">
                  <Progress value={result.confidenceScore * 100} className="h-2" />
                </div>
                <span className={cn("text-xs font-medium", statusConfig.textColor)}>
                  {Math.round(result.confidenceScore * 100)}%
                </span>
              </div>
            )}
          </div>
        </div>
      </div>
    );
  }

  // AI 합성 메시지 (스트리밍) - 개선된 디자인
  // 빈 content인 경우 스트리밍 중이 아니면 렌더링하지 않음
  if (message.type === 'ai_synthesis') {
    if (!message.content && !message.isStreaming) {
      return null;
    }
    return (
      <div className="flex gap-3 animate-in fade-in slide-in-from-bottom-2 duration-300">
        <div className="flex-shrink-0">
          <div className="w-9 h-9 rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center shadow-lg shadow-purple-500/20">
            <Sparkles className="h-4 w-4 text-white" />
          </div>
        </div>
        <div className="flex-1 min-w-0">
          <div className="bg-gradient-to-br from-violet-50 to-purple-50 dark:from-violet-950/30 dark:to-purple-950/30 rounded-xl p-4 border border-violet-200/50 dark:border-violet-800/30">
            {message.content ? (
              <div className="prose prose-sm dark:prose-invert max-w-none break-words">
                <MarkdownRenderer content={message.content} isStreaming={message.isStreaming} />
              </div>
            ) : message.isStreaming ? (
              <div className="flex items-center gap-2 text-muted-foreground">
                <Loader2 className="h-4 w-4 animate-spin" />
                <span className="text-sm">AI 분석 결과 생성 중...</span>
              </div>
            ) : null}
            {message.isStreaming && message.content && (
              <span className="inline-block w-2 h-4 ml-1 bg-violet-500 animate-pulse rounded-sm" />
            )}
          </div>
        </div>
      </div>
    );
  }

  // 완료 메시지 - 숨김 처리 (결과를 가리지 않도록)
  if (message.type === 'complete') {
    return null;
  }

  // 에러 메시지
  if (message.type === 'error') {
    return (
      <div className="flex justify-center py-2 animate-in fade-in duration-300">
        <Alert variant="destructive" className="max-w-md">
          <AlertCircle className="h-4 w-4" />
          <AlertDescription>{message.content}</AlertDescription>
        </Alert>
      </div>
    );
  }

  // 사용자 메시지
  if (isUser) {
    return (
      <div className="flex gap-3 flex-row-reverse animate-in fade-in slide-in-from-right-2 duration-300">
        <div className="flex-shrink-0">
          <div className="w-9 h-9 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg shadow-primary/20">
            <User className="h-4 w-4 text-white" />
          </div>
        </div>
        <div className="flex-1 min-w-0 max-w-[85%] flex flex-col items-end">
          <div className="bg-gradient-to-br from-blue-500 to-purple-600 text-white rounded-2xl rounded-tr-md px-4 py-3 shadow-lg shadow-primary/20">
            <p className="text-sm whitespace-pre-wrap">{message.content}</p>
          </div>
          <p className="text-[10px] text-muted-foreground mt-1.5 mr-1">
            {new Date(message.timestamp).toLocaleTimeString('ko-KR', {
              hour: '2-digit',
              minute: '2-digit',
            })}
          </p>
        </div>
      </div>
    );
  }

  // 일반 어시스턴트 메시지 - 빈 content는 렌더링하지 않음
  if (!message.content || !message.content.trim()) {
    return null;
  }
  
  return (
    <div className="flex gap-3 animate-in fade-in slide-in-from-left-2 duration-300">
      <div className="flex-shrink-0">
        <div className="w-9 h-9 rounded-xl bg-muted flex items-center justify-center">
          <Bot className="h-4 w-4 text-muted-foreground" />
        </div>
      </div>
      <div className="flex-1 min-w-0 max-w-[85%]">
        <div className="bg-muted rounded-2xl rounded-tl-md px-4 py-3">
          {message.content.includes('\n') || message.content.length > 100 ? (
            <div className="prose prose-sm dark:prose-invert max-w-none">
              <MarkdownRenderer content={message.content} isStreaming={false} />
            </div>
          ) : (
            <p className="text-sm whitespace-pre-wrap">{message.content}</p>
          )}
        </div>
        <p className="text-[10px] text-muted-foreground mt-1.5 ml-1">
          {new Date(message.timestamp).toLocaleTimeString('ko-KR', {
            hour: '2-digit',
            minute: '2-digit',
          })}
        </p>
      </div>
    </div>
  );
};

// 헬퍼 함수들
interface VerificationConfig {
  icon: React.ReactNode;
  label: string;
  bgGradient: string;
  shadow: string;
  cardBg: string;
  border: string;
  badge: string;
  textColor: string;
}

const getVerificationConfig = (status: string): VerificationConfig => {
  switch (status) {
    case 'VERIFIED':
      return {
        icon: <CheckCircle2 className="h-4 w-4 text-white" />,
        label: '검증됨',
        bgGradient: 'bg-gradient-to-br from-green-500 to-emerald-600',
        shadow: 'shadow-green-500/20',
        cardBg: 'bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-950/30 dark:to-emerald-950/30',
        border: 'border-green-200/50 dark:border-green-800/30',
        badge: 'bg-green-500 hover:bg-green-600 text-white',
        textColor: 'text-green-600 dark:text-green-400',
      };
    case 'FALSE':
      return {
        icon: <XCircle className="h-4 w-4 text-white" />,
        label: '거짓',
        bgGradient: 'bg-gradient-to-br from-red-500 to-rose-600',
        shadow: 'shadow-red-500/20',
        cardBg: 'bg-gradient-to-br from-red-50 to-rose-50 dark:from-red-950/30 dark:to-rose-950/30',
        border: 'border-red-200/50 dark:border-red-800/30',
        badge: 'bg-red-500 hover:bg-red-600 text-white',
        textColor: 'text-red-600 dark:text-red-400',
      };
    case 'DISPUTED':
      return {
        icon: <Scale className="h-4 w-4 text-white" />,
        label: '논쟁 중',
        bgGradient: 'bg-gradient-to-br from-amber-500 to-orange-600',
        shadow: 'shadow-amber-500/20',
        cardBg: 'bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-950/30 dark:to-orange-950/30',
        border: 'border-amber-200/50 dark:border-amber-800/30',
        badge: 'bg-amber-500 hover:bg-amber-600 text-white',
        textColor: 'text-amber-600 dark:text-amber-400',
      };
    case 'PARTIALLY_VERIFIED':
      return {
        icon: <AlertCircle className="h-4 w-4 text-white" />,
        label: '부분 확인',
        bgGradient: 'bg-gradient-to-br from-blue-500 to-cyan-600',
        shadow: 'shadow-blue-500/20',
        cardBg: 'bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-950/30 dark:to-cyan-950/30',
        border: 'border-blue-200/50 dark:border-blue-800/30',
        badge: 'bg-blue-500 hover:bg-blue-600 text-white',
        textColor: 'text-blue-600 dark:text-blue-400',
      };
    default: // UNVERIFIED
      return {
        icon: <AlertCircle className="h-4 w-4 text-white" />,
        label: '검증 불가',
        bgGradient: 'bg-gradient-to-br from-gray-400 to-slate-500',
        shadow: 'shadow-gray-400/20',
        cardBg: 'bg-gradient-to-br from-gray-50 to-slate-50 dark:from-gray-950/30 dark:to-slate-950/30',
        border: 'border-gray-200/50 dark:border-gray-800/30',
        badge: 'bg-gray-500 hover:bg-gray-600 text-white',
        textColor: 'text-gray-600 dark:text-gray-400',
      };
  }
};

const getVerificationLabel = (status: string) => {
  const config = getVerificationConfig(status);
  return config.label;
};

// Set displayName for forwardRef
FactCheckChatbot.displayName = 'FactCheckChatbot';

```

---

## frontend/src/components/KeywordCloud.tsx

```tsx
import { Card } from "@/components/ui/card";
import type { KeywordData } from "@/types/api";

interface KeywordCloudProps {
  keywords: KeywordData[];
}

export function KeywordCloud({ keywords }: KeywordCloudProps) {
  const maxScore = Math.max(...keywords.map((k) => k.score), 1);
  
  const getFontSize = (score: number) => {
    const normalized = (score / maxScore) * 100;
    return Math.max(12, Math.min(48, normalized / 2));
  };

  const getColor = (index: number) => {
    const colors = [
      "hsl(217, 91%, 60%)",
      "hsl(217, 91%, 45%)",
      "hsl(217, 91%, 75%)",
      "hsl(142, 71%, 45%)",
      "hsl(217, 91%, 35%)",
    ];
    return colors[index % colors.length];
  };

  return (
    <Card className="p-6 shadow-elegant card-hover">
      <h2 className="text-xl font-bold mb-6">핵심 키워드</h2>
      <div className="min-h-[300px] flex flex-wrap items-center justify-center gap-4 p-6">
        {keywords.length > 0 ? (
          keywords.map((keyword, index) => (
            <span
              key={`${keyword.word}-${index}`}
              className="font-semibold transition-transform hover:scale-110 cursor-default"
              style={{
                fontSize: `${getFontSize(keyword.score)}px`,
                color: getColor(index),
                lineHeight: 1.5,
              }}
              title={`중요도: ${keyword.score.toFixed(2)}`}
            >
              {keyword.word}
            </span>
          ))
        ) : (
          <div className="text-center text-muted-foreground py-12">
            키워드 데이터가 없습니다.
          </div>
        )}
      </div>
    </Card>
  );
}

```

---

## frontend/src/components/LoadingState.tsx

```tsx
import * as React from "react";
import { Loader2 } from "lucide-react";
import { cn } from "@/lib/utils";
import { Skeleton } from "@/components/ui/skeleton";
import { Progress } from "@/components/ui/progress";

/**
 * 통합 로딩 상태 컴포넌트
 * 
 * 다양한 로딩 패턴을 지원:
 * - spinner: 기본 스피너
 * - skeleton: 콘텐츠 형태 스켈레톤
 * - progress: 진행률 바
 * - dots: 점 애니메이션
 */

export type LoadingVariant = "spinner" | "skeleton" | "progress" | "dots";
export type LoadingSize = "sm" | "md" | "lg" | "xl";

interface LoadingStateProps {
  /** 로딩 변형 */
  variant?: LoadingVariant;
  /** 크기 */
  size?: LoadingSize;
  /** 표시할 텍스트 */
  text?: string;
  /** 진행률 (progress 변형에서 사용) */
  progress?: number;
  /** 전체 화면 오버레이로 표시 */
  fullScreen?: boolean;
  /** 추가 CSS 클래스 */
  className?: string;
  /** 스켈레톤 변형에서의 줄 수 */
  skeletonLines?: number;
}

const sizeConfig: Record<LoadingSize, { spinner: string; text: string; container: string }> = {
  sm: { spinner: "h-4 w-4", text: "text-xs", container: "gap-2" },
  md: { spinner: "h-6 w-6", text: "text-sm", container: "gap-3" },
  lg: { spinner: "h-8 w-8", text: "text-base", container: "gap-4" },
  xl: { spinner: "h-12 w-12", text: "text-lg", container: "gap-5" },
};

/** 스피너 로딩 */
const SpinnerLoading = ({ size = "md", text, className }: Pick<LoadingStateProps, "size" | "text" | "className">) => {
  const config = sizeConfig[size];
  return (
    <div className={cn("flex flex-col items-center justify-center", config.container, className)}>
      <Loader2 className={cn("animate-spin text-primary", config.spinner)} />
      {text && <span className={cn("text-muted-foreground", config.text)}>{text}</span>}
    </div>
  );
};

/** 점 애니메이션 로딩 */
const DotsLoading = ({ size = "md", text, className }: Pick<LoadingStateProps, "size" | "text" | "className">) => {
  const config = sizeConfig[size];
  const dotSize = size === "sm" ? "h-1.5 w-1.5" : size === "md" ? "h-2 w-2" : size === "lg" ? "h-2.5 w-2.5" : "h-3 w-3";
  
  return (
    <div className={cn("flex flex-col items-center justify-center", config.container, className)}>
      <div className="flex items-center gap-1">
        {[0, 1, 2].map((i) => (
          <div
            key={i}
            className={cn(
              "rounded-full bg-primary animate-bounce",
              dotSize
            )}
            style={{ animationDelay: `${i * 0.15}s` }}
          />
        ))}
      </div>
      {text && <span className={cn("text-muted-foreground", config.text)}>{text}</span>}
    </div>
  );
};

/** 프로그레스 바 로딩 */
const ProgressLoading = ({
  size = "md",
  text,
  progress = 0,
  className,
}: Pick<LoadingStateProps, "size" | "text" | "progress" | "className">) => {
  const config = sizeConfig[size];
  const progressHeight = size === "sm" ? "h-1" : size === "md" ? "h-2" : size === "lg" ? "h-3" : "h-4";

  return (
    <div className={cn("flex flex-col w-full max-w-xs", config.container, className)}>
      <Progress value={progress} className={progressHeight} />
      <div className="flex justify-between items-center">
        {text && <span className={cn("text-muted-foreground", config.text)}>{text}</span>}
        <span className={cn("text-muted-foreground font-medium", config.text)}>{Math.round(progress)}%</span>
      </div>
    </div>
  );
};

/** 스켈레톤 로딩 */
const SkeletonLoading = ({
  size = "md",
  skeletonLines = 3,
  className,
}: Pick<LoadingStateProps, "size" | "skeletonLines" | "className">) => {
  const lineHeight = size === "sm" ? "h-3" : size === "md" ? "h-4" : size === "lg" ? "h-5" : "h-6";
  const gap = size === "sm" ? "gap-2" : size === "md" ? "gap-3" : "gap-4";

  return (
    <div className={cn("flex flex-col w-full", gap, className)}>
      {Array.from({ length: skeletonLines }).map((_, i) => (
        <Skeleton
          key={i}
          className={cn(lineHeight, i === skeletonLines - 1 ? "w-3/4" : "w-full")}
        />
      ))}
    </div>
  );
};

/** 카드 스켈레톤 */
export const CardSkeleton = ({ className }: { className?: string }) => (
  <div className={cn("rounded-lg border bg-card p-4 space-y-3", className)}>
    <Skeleton className="h-4 w-1/3" />
    <Skeleton className="h-3 w-full" />
    <Skeleton className="h-3 w-full" />
    <Skeleton className="h-3 w-2/3" />
    <div className="flex gap-2 pt-2">
      <Skeleton className="h-6 w-16 rounded-full" />
      <Skeleton className="h-6 w-16 rounded-full" />
    </div>
  </div>
);

/** 검색 결과 스켈레톤 */
export const SearchResultSkeleton = ({ count = 3, className }: { count?: number; className?: string }) => (
  <div className={cn("space-y-4", className)}>
    {Array.from({ length: count }).map((_, i) => (
      <CardSkeleton key={i} />
    ))}
  </div>
);

/** 테이블 스켈레톤 */
export const TableSkeleton = ({ rows = 5, cols = 4, className }: { rows?: number; cols?: number; className?: string }) => (
  <div className={cn("space-y-2", className)}>
    {/* Header */}
    <div className="flex gap-4 pb-2 border-b">
      {Array.from({ length: cols }).map((_, i) => (
        <Skeleton key={i} className="h-4 flex-1" />
      ))}
    </div>
    {/* Rows */}
    {Array.from({ length: rows }).map((_, rowIndex) => (
      <div key={rowIndex} className="flex gap-4 py-2">
        {Array.from({ length: cols }).map((_, colIndex) => (
          <Skeleton key={colIndex} className="h-4 flex-1" />
        ))}
      </div>
    ))}
  </div>
);

/** 인라인 로딩 (버튼, 텍스트 옆 등) */
export const InlineLoading = ({ text, className }: { text?: string; className?: string }) => (
  <span className={cn("inline-flex items-center gap-2", className)}>
    <Loader2 className="h-4 w-4 animate-spin" />
    {text && <span>{text}</span>}
  </span>
);

/** 메인 LoadingState 컴포넌트 */
export const LoadingState = ({
  variant = "spinner",
  size = "md",
  text,
  progress,
  fullScreen = false,
  className,
  skeletonLines,
}: LoadingStateProps) => {
  const content = React.useMemo(() => {
    switch (variant) {
      case "spinner":
        return <SpinnerLoading size={size} text={text} />;
      case "dots":
        return <DotsLoading size={size} text={text} />;
      case "progress":
        return <ProgressLoading size={size} text={text} progress={progress} />;
      case "skeleton":
        return <SkeletonLoading size={size} skeletonLines={skeletonLines} />;
      default:
        return <SpinnerLoading size={size} text={text} />;
    }
  }, [variant, size, text, progress, skeletonLines]);

  if (fullScreen) {
    return (
      <div className="fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm">
        {content}
      </div>
    );
  }

  return <div className={cn("flex items-center justify-center p-4", className)}>{content}</div>;
};

export default LoadingState;

```

---

## frontend/src/components/MarkdownRenderer.tsx

```tsx
import { memo } from "react";
import ReactMarkdown from "react-markdown";
import remarkGfm from "remark-gfm";
import { cn } from "@/lib/utils";
import { ExternalLink } from "lucide-react";

interface MarkdownRendererProps {
  content: string;
  className?: string;
  isStreaming?: boolean;
}

/**
 * Markdown renderer component with GitHub Flavored Markdown support.
 * Used for rendering AI analysis results and other markdown content.
 */
export const MarkdownRenderer = memo(function MarkdownRenderer({
  content,
  className,
  isStreaming = false,
}: MarkdownRendererProps) {
  return (
    <div
      className={cn(
        // Base prose styles
        "prose prose-sm dark:prose-invert max-w-none break-words overflow-hidden",
        // Headings
        "prose-headings:font-semibold prose-headings:text-foreground",
        "prose-h1:text-xl prose-h1:mt-4 prose-h1:mb-2",
        "prose-h2:text-lg prose-h2:mt-4 prose-h2:mb-2",
        "prose-h3:text-base prose-h3:mt-3 prose-h3:mb-1",
        // Paragraphs
        "prose-p:my-2 prose-p:leading-relaxed",
        // Lists
        "prose-ul:my-2 prose-ul:pl-4",
        "prose-ol:my-2 prose-ol:pl-4",
        "prose-li:my-0.5 prose-li:marker:text-muted-foreground",
        // Strong/Bold
        "prose-strong:font-semibold prose-strong:text-foreground",
        // Links
        "prose-a:text-primary prose-a:underline prose-a:underline-offset-2 hover:prose-a:text-primary/80",
        // Blockquotes
        "prose-blockquote:border-l-4 prose-blockquote:border-primary/30",
        "prose-blockquote:pl-4 prose-blockquote:italic",
        "prose-blockquote:text-muted-foreground",
        // Code
        "prose-code:bg-muted prose-code:px-1.5 prose-code:py-0.5 prose-code:rounded",
        "prose-code:font-mono prose-code:text-sm",
        "prose-pre:bg-muted prose-pre:rounded-lg prose-pre:p-4",
        // Horizontal rule
        "prose-hr:border-border prose-hr:my-4",
        // Tables
        "prose-table:border prose-table:border-border",
        "prose-th:bg-muted prose-th:px-3 prose-th:py-2 prose-th:text-left",
        "prose-td:px-3 prose-td:py-2 prose-td:border-t prose-td:border-border",
        className
      )}
    >
      <ReactMarkdown
        remarkPlugins={[remarkGfm]}
        components={{
          // Custom link component with external link icon
          a: ({ href, children, ...props }) => {
            const isExternal = href?.startsWith("http");
            return (
              <a
                href={href}
                target={isExternal ? "_blank" : undefined}
                rel={isExternal ? "noopener noreferrer" : undefined}
                className="inline-flex items-center gap-1"
                {...props}
              >
                {children}
                {isExternal && <ExternalLink className="h-3 w-3 inline-block" />}
              </a>
            );
          },
          // Custom heading with anchor support
          h2: ({ children, ...props }) => (
            <h2 className="flex items-center gap-2 border-b border-border pb-1 mb-3" {...props}>
              {children}
            </h2>
          ),
          h3: ({ children, ...props }) => (
            <h3 className="flex items-center gap-1" {...props}>
              {children}
            </h3>
          ),
        }}
      >
        {content}
      </ReactMarkdown>
      {/* Streaming cursor */}
      {isStreaming && (
        <span className="inline-block w-2 h-4 bg-primary/60 animate-pulse ml-0.5 align-text-bottom" />
      )}
    </div>
  );
});

export default MarkdownRenderer;

```

---

## frontend/src/components/MobileNavDrawer.tsx

```tsx
import { useState, useCallback, useEffect } from "react";
import { Link, useLocation } from "react-router-dom";
import {
  Menu,
  X,
  Search,
  Bot,
  FolderOpen,
  History,
  Settings,
  Moon,
  Sun,
  Command,
  Database,
  Cpu,
  Home,
  LayoutDashboard,
  Wrench,
  FolderKanban,
  Activity,
  Gauge,
  Brain,
  Globe,
  ChevronDown,
  ChevronRight,
} from "lucide-react";
import { Button } from "@/components/ui/button";
import { Sheet, SheetContent, SheetTrigger, SheetTitle } from "@/components/ui/sheet";
import { Collapsible, CollapsibleContent, CollapsibleTrigger } from "@/components/ui/collapsible";
import { useTheme } from "@/contexts/ThemeContext";
import { cn } from "@/lib/utils";

interface NavSubItem {
  href: string;
  label: string;
  icon: typeof Search;
}

interface NavItem {
  id: string;
  href?: string;
  label: string;
  icon: typeof Search;
  color?: string;
  subItems?: NavSubItem[];
}

// 새로운 5탭 네비게이션 구조
const navItems: NavItem[] = [
  { 
    id: 'home',
    href: "/", 
    label: "홈", 
    icon: Home 
  },
  { 
    id: 'dashboard',
    label: "대시보드", 
    icon: LayoutDashboard,
    subItems: [
      { href: "/dashboard", label: "라이브 대시보드", icon: Activity },
      { href: "/operations", label: "운영 현황", icon: Gauge },
      { href: "/collected-data", label: "수집 데이터", icon: Database },
    ]
  },
  { 
    id: 'tools',
    href: "/tools",
    label: "도구", 
    icon: Wrench,
    color: "text-blue-600",
    subItems: [
      { href: "/search", label: "스마트 검색", icon: Search },
      { href: "/ml-addons", label: "ML Add-ons", icon: Cpu },
      { href: "/ai-agent", label: "브라우저 에이전트", icon: Bot },
      { href: "/ai-jobs", label: "AI Jobs", icon: Brain },
    ]
  },
  { 
    id: 'workspace',
    href: "/workspace",
    label: "내 작업", 
    icon: FolderKanban,
    color: "text-green-600",
    subItems: [
      { href: "/projects", label: "프로젝트", icon: FolderOpen },
      { href: "/history", label: "검색 기록", icon: History },
      { href: "/url-collections", label: "URL 컬렉션", icon: Globe },
    ]
  },
  { 
    id: 'settings',
    href: "/settings", 
    label: "설정", 
    icon: Settings 
  },
];

interface MobileNavDrawerProps {
  className?: string;
}

/**
 * 모바일 네비게이션 드로어 컴포넌트
 */
export function MobileNavDrawer({ className }: MobileNavDrawerProps) {
  const [open, setOpen] = useState(false);
  const [expandedSections, setExpandedSections] = useState<string[]>([]);
  const location = useLocation();
  const { theme, setTheme } = useTheme();

  // Auto-expand section if current path matches
  useEffect(() => {
    navItems.forEach(item => {
      if (item.subItems?.some(sub => location.pathname === sub.href)) {
        setExpandedSections(prev => 
          prev.includes(item.id) ? prev : [...prev, item.id]
        );
      }
    });
  }, [location.pathname]);

  // Close drawer on route change
  useEffect(() => {
    setOpen(false);
  }, [location.pathname]);

  const toggleTheme = useCallback(() => {
    setTheme(theme === "dark" ? "light" : "dark");
  }, [theme, setTheme]);

  const toggleSection = (id: string) => {
    setExpandedSections(prev =>
      prev.includes(id) ? prev.filter(s => s !== id) : [...prev, id]
    );
  };

  const isActive = (href: string) => location.pathname === href;
  const isSectionActive = (item: NavItem) => {
    if (item.href && location.pathname === item.href) return true;
    return item.subItems?.some(sub => location.pathname === sub.href) ?? false;
  };

  return (
    <Sheet open={open} onOpenChange={setOpen}>
      <SheetTrigger asChild>
        <Button
          variant="ghost"
          size="icon"
          className={cn("md:hidden", className)}
          aria-label="메뉴 열기"
        >
          <Menu className="h-5 w-5" />
        </Button>
      </SheetTrigger>
      <SheetContent side="left" className="w-72 p-0">
        <SheetTitle className="sr-only">네비게이션 메뉴</SheetTitle>
        <div className="flex flex-col h-full">
          {/* Header */}
          <div className="flex items-center justify-between p-4 border-b">
            <h2 className="font-bold text-lg bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">
              NewsInsight
            </h2>
            <Button
              variant="ghost"
              size="icon"
              onClick={() => setOpen(false)}
              aria-label="메뉴 닫기"
            >
              <X className="h-5 w-5" />
            </Button>
          </div>

          {/* Navigation Links */}
          <nav className="flex-1 p-4 overflow-y-auto">
            <ul className="space-y-1">
              {navItems.map((item) => {
                const Icon = item.icon;
                const active = isSectionActive(item);
                const isExpanded = expandedSections.includes(item.id);
                
                // Simple link (no submenu)
                if (!item.subItems) {
                  return (
                    <li key={item.id}>
                      <Link
                        to={item.href!}
                        className={cn(
                          "flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors",
                          active
                            ? "bg-primary/10 text-primary"
                            : "text-muted-foreground hover:bg-muted hover:text-foreground"
                        )}
                        onClick={() => setOpen(false)}
                      >
                        <Icon className={cn("h-5 w-5", item.color)} />
                        <span>{item.label}</span>
                      </Link>
                    </li>
                  );
                }

                // Collapsible section with submenu
                return (
                  <li key={item.id}>
                    <Collapsible open={isExpanded} onOpenChange={() => toggleSection(item.id)}>
                      <CollapsibleTrigger asChild>
                        <button
                          className={cn(
                            "w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors",
                            active
                              ? "bg-primary/10 text-primary"
                              : "text-muted-foreground hover:bg-muted hover:text-foreground"
                          )}
                        >
                          <Icon className={cn("h-5 w-5", item.color)} />
                          <span className="flex-1 text-left">{item.label}</span>
                          {isExpanded ? (
                            <ChevronDown className="h-4 w-4" />
                          ) : (
                            <ChevronRight className="h-4 w-4" />
                          )}
                        </button>
                      </CollapsibleTrigger>
                      <CollapsibleContent>
                        <ul className="ml-4 mt-1 space-y-1 border-l-2 border-muted pl-3">
                          {item.subItems.map((subItem) => {
                            const SubIcon = subItem.icon;
                            return (
                              <li key={subItem.href}>
                                <Link
                                  to={subItem.href}
                                  className={cn(
                                    "flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors",
                                    isActive(subItem.href)
                                      ? "bg-primary/10 text-primary font-medium"
                                      : "text-muted-foreground hover:bg-muted hover:text-foreground"
                                  )}
                                  onClick={() => setOpen(false)}
                                >
                                  <SubIcon className="h-4 w-4" />
                                  <span>{subItem.label}</span>
                                </Link>
                              </li>
                            );
                          })}
                        </ul>
                      </CollapsibleContent>
                    </Collapsible>
                  </li>
                );
              })}
            </ul>
          </nav>

          {/* Footer Actions */}
          <div className="p-4 border-t space-y-2">
            {/* Command Palette Hint */}
            <div className="flex items-center justify-between px-3 py-2 rounded-lg bg-muted text-xs text-muted-foreground">
              <div className="flex items-center gap-2">
                <Command className="h-4 w-4" />
                <span>빠른 검색</span>
              </div>
              <kbd className="px-1.5 py-0.5 rounded bg-background text-xs">Ctrl+K</kbd>
            </div>

            {/* Theme Toggle */}
            <Button
              variant="outline"
              className="w-full justify-start gap-3"
              onClick={toggleTheme}
            >
              {theme === "dark" ? (
                <>
                  <Sun className="h-4 w-4" />
                  <span>라이트 모드</span>
                </>
              ) : (
                <>
                  <Moon className="h-4 w-4" />
                  <span>다크 모드</span>
                </>
              )}
            </Button>
          </div>
        </div>
      </SheetContent>
    </Sheet>
  );
}

export default MobileNavDrawer;

```

---

## frontend/src/components/NavLink.tsx

```tsx
import { NavLink as RouterNavLink, NavLinkProps } from "react-router-dom";
import { forwardRef } from "react";
import { cn } from "@/lib/utils";

interface NavLinkCompatProps extends Omit<NavLinkProps, "className"> {
  className?: string;
  activeClassName?: string;
  pendingClassName?: string;
}

const NavLink = forwardRef<HTMLAnchorElement, NavLinkCompatProps>(
  ({ className, activeClassName, pendingClassName, to, ...props }, ref) => {
    return (
      <RouterNavLink
        ref={ref}
        to={to}
        className={({ isActive, isPending }) =>
          cn(className, isActive && activeClassName, isPending && pendingClassName)
        }
        {...props}
      />
    );
  },
);

NavLink.displayName = "NavLink";

export { NavLink };

```

---

## frontend/src/components/PriorityUrlEditor.tsx

```tsx
import { useState, useCallback, useEffect } from "react";
import { Link } from "react-router-dom";
import {
  Plus,
  X,
  Link as LinkIcon,
  FolderOpen,
  Shield,
  AlertTriangle,
  ChevronDown,
  ChevronUp,
  GripVertical,
  ExternalLink,
} from "lucide-react";
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Badge } from "@/components/ui/badge";
import { Collapsible, CollapsibleContent, CollapsibleTrigger } from "@/components/ui/collapsible";
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger,
} from "@/components/ui/tooltip";
import { useToast } from "@/hooks/use-toast";

// Types
export interface PriorityUrl {
  id: string;
  url: string;
  name: string;
  reliability?: "high" | "medium" | "low" | "unknown";
}

interface PriorityUrlEditorProps {
  /** Storage key for sessionStorage */
  storageKey: string;
  /** Current priority URLs */
  urls: PriorityUrl[];
  /** Callback when URLs change */
  onUrlsChange: (urls: PriorityUrl[]) => void;
  /** Whether the editor is disabled */
  disabled?: boolean;
  /** Maximum number of URLs allowed */
  maxUrls?: number;
  /** Title for the card */
  title?: string;
  /** Description for the card */
  description?: string;
  /** Whether to show in collapsed mode initially */
  defaultCollapsed?: boolean;
  /** Custom class name */
  className?: string;
}

// Known reliable domains
const HIGH_RELIABILITY_DOMAINS = [
  "wikipedia.org",
  "namu.wiki",
  "britannica.com",
  "scholar.google.com",
  "pubmed.ncbi.nlm.nih.gov",
  "nature.com",
  "science.org",
  "reuters.com",
  "apnews.com",
  "bbc.com",
  "bbc.co.uk",
  "nytimes.com",
  "washingtonpost.com",
  "theguardian.com",
  "gov.kr",
  "korea.kr",
  "bok.or.kr",
  "kosis.kr",
  "kostat.go.kr",
];

const MEDIUM_RELIABILITY_DOMAINS = [
  "yonhapnews.co.kr",
  "chosun.com",
  "donga.com",
  "joongang.co.kr",
  "hani.co.kr",
  "khan.co.kr",
  "kmib.co.kr",
  "mk.co.kr",
  "mt.co.kr",
  "hankyung.com",
  "yna.co.kr",
  "kbs.co.kr",
  "mbc.co.kr",
  "sbs.co.kr",
  "jtbc.co.kr",
  "cnn.com",
  "forbes.com",
  "bloomberg.com",
];

function getReliabilityFromUrl(url: string): PriorityUrl["reliability"] {
  try {
    const hostname = new URL(url).hostname.toLowerCase();
    
    // Check high reliability
    if (HIGH_RELIABILITY_DOMAINS.some((d) => hostname.includes(d))) {
      return "high";
    }
    
    // Check medium reliability
    if (MEDIUM_RELIABILITY_DOMAINS.some((d) => hostname.includes(d))) {
      return "medium";
    }
    
    // Government or educational domains
    if (hostname.endsWith(".gov") || hostname.endsWith(".edu") || hostname.endsWith(".ac.kr") || hostname.endsWith(".go.kr")) {
      return "high";
    }
    
    return "unknown";
  } catch {
    return "unknown";
  }
}

function generateUrlId(): string {
  return `url_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
}

function getHostname(url: string): string {
  try {
    return new URL(url).hostname;
  } catch {
    return url;
  }
}

const ReliabilityBadge = ({ reliability }: { reliability: PriorityUrl["reliability"] }) => {
  switch (reliability) {
    case "high":
      return (
        <TooltipProvider>
          <Tooltip>
            <TooltipTrigger asChild>
              <Badge variant="outline" className="bg-green-50 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-800">
                <Shield className="h-3 w-3 mr-1" />
                신뢰
              </Badge>
            </TooltipTrigger>
            <TooltipContent>
              <p>높은 신뢰도: 공식 기관, 학술 사이트</p>
            </TooltipContent>
          </Tooltip>
        </TooltipProvider>
      );
    case "medium":
      return (
        <TooltipProvider>
          <Tooltip>
            <TooltipTrigger asChild>
              <Badge variant="outline" className="bg-blue-50 text-blue-700 border-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:border-blue-800">
                <Shield className="h-3 w-3 mr-1" />
                보통
              </Badge>
            </TooltipTrigger>
            <TooltipContent>
              <p>일반 신뢰도: 주요 언론사</p>
            </TooltipContent>
          </Tooltip>
        </TooltipProvider>
      );
    case "low":
      return (
        <TooltipProvider>
          <Tooltip>
            <TooltipTrigger asChild>
              <Badge variant="outline" className="bg-orange-50 text-orange-700 border-orange-200 dark:bg-orange-900/30 dark:text-orange-400 dark:border-orange-800">
                <AlertTriangle className="h-3 w-3 mr-1" />
                주의
              </Badge>
            </TooltipTrigger>
            <TooltipContent>
              <p>낮은 신뢰도: 검증 필요</p>
            </TooltipContent>
          </Tooltip>
        </TooltipProvider>
      );
    default:
      return null;
  }
};

export const PriorityUrlEditor = ({
  storageKey,
  urls,
  onUrlsChange,
  disabled = false,
  maxUrls = 10,
  title = "참고 URL",
  description = "분석 시 우선적으로 참고할 URL을 추가하세요.",
  defaultCollapsed = false,
  className = "",
}: PriorityUrlEditorProps) => {
  const { toast } = useToast();
  const [newUrl, setNewUrl] = useState("");
  const [isExpanded, setIsExpanded] = useState(!defaultCollapsed);
  const [isAdding, setIsAdding] = useState(false);

  // Persist to sessionStorage when URLs change
  useEffect(() => {
    if (urls.length > 0) {
      sessionStorage.setItem(storageKey, JSON.stringify(urls));
    } else {
      sessionStorage.removeItem(storageKey);
    }
  }, [urls, storageKey]);

  // Validate URL
  const isValidUrl = useCallback((url: string): boolean => {
    try {
      new URL(url);
      return true;
    } catch {
      return false;
    }
  }, []);

  // Add new URL
  const handleAddUrl = useCallback(() => {
    const trimmedUrl = newUrl.trim();
    
    if (!trimmedUrl) {
      toast({
        title: "URL을 입력하세요",
        variant: "destructive",
      });
      return;
    }

    // Add https:// if missing protocol
    let urlToAdd = trimmedUrl;
    if (!trimmedUrl.startsWith("http://") && !trimmedUrl.startsWith("https://")) {
      urlToAdd = `https://${trimmedUrl}`;
    }

    if (!isValidUrl(urlToAdd)) {
      toast({
        title: "유효하지 않은 URL입니다",
        description: "올바른 URL 형식을 입력하세요.",
        variant: "destructive",
      });
      return;
    }

    // Check for duplicates
    if (urls.some((u) => u.url === urlToAdd)) {
      toast({
        title: "이미 추가된 URL입니다",
        variant: "destructive",
      });
      return;
    }

    // Check max limit
    if (urls.length >= maxUrls) {
      toast({
        title: `최대 ${maxUrls}개까지 추가할 수 있습니다`,
        variant: "destructive",
      });
      return;
    }

    const hostname = getHostname(urlToAdd);
    const newPriorityUrl: PriorityUrl = {
      id: generateUrlId(),
      url: urlToAdd,
      name: hostname,
      reliability: getReliabilityFromUrl(urlToAdd),
    };

    onUrlsChange([...urls, newPriorityUrl]);
    setNewUrl("");
    setIsAdding(false);

    toast({
      title: "URL이 추가되었습니다",
      description: hostname,
    });
  }, [newUrl, urls, maxUrls, isValidUrl, onUrlsChange, toast]);

  // Remove URL
  const handleRemoveUrl = useCallback((id: string) => {
    onUrlsChange(urls.filter((u) => u.id !== id));
  }, [urls, onUrlsChange]);

  // Clear all URLs
  const handleClearAll = useCallback(() => {
    onUrlsChange([]);
    toast({
      title: "모든 URL이 제거되었습니다",
    });
  }, [onUrlsChange, toast]);

  // Handle Enter key
  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {
    if (e.key === "Enter") {
      e.preventDefault();
      handleAddUrl();
    }
    if (e.key === "Escape") {
      setIsAdding(false);
      setNewUrl("");
    }
  }, [handleAddUrl]);

  // Empty state - show add button only
  if (urls.length === 0 && !isAdding) {
    return (
      <Card className={`border-dashed border-2 border-muted-foreground/20 ${className}`}>
        <CardContent className="py-6">
          <div className="text-center">
            <FolderOpen className="h-10 w-10 mx-auto text-muted-foreground/50 mb-3" />
            <p className="text-sm text-muted-foreground mb-4">{description}</p>
            <Button
              variant="outline"
              size="sm"
              onClick={() => setIsAdding(true)}
              disabled={disabled}
              className="gap-2"
            >
              <Plus className="h-4 w-4" />
              URL 추가
            </Button>
          </div>
          
          {isAdding && (
            <div className="mt-4 flex gap-2">
              <Input
                value={newUrl}
                onChange={(e) => setNewUrl(e.target.value)}
                onKeyDown={handleKeyDown}
                placeholder="https://example.com"
                autoFocus
                disabled={disabled}
                className="flex-1"
              />
              <Button
                size="sm"
                onClick={handleAddUrl}
                disabled={disabled || !newUrl.trim()}
              >
                추가
              </Button>
              <Button
                size="sm"
                variant="ghost"
                onClick={() => {
                  setIsAdding(false);
                  setNewUrl("");
                }}
              >
                취소
              </Button>
            </div>
          )}
        </CardContent>
      </Card>
    );
  }

  return (
    <Card className={`border-blue-200 dark:border-blue-800 bg-blue-50/50 dark:bg-blue-900/10 ${className}`}>
      <Collapsible open={isExpanded} onOpenChange={setIsExpanded}>
        <CardHeader className="pb-3">
          <div className="flex items-center justify-between">
            <div className="flex items-center gap-2">
              <FolderOpen className="h-5 w-5 text-blue-600" />
              <CardTitle className="text-lg">{title}</CardTitle>
              <Badge variant="secondary">{urls.length}개</Badge>
            </div>
            <div className="flex items-center gap-1">
              {urls.length > 0 && (
                <Button
                  variant="ghost"
                  size="sm"
                  onClick={handleClearAll}
                  disabled={disabled}
                  className="text-muted-foreground hover:text-destructive"
                >
                  <X className="h-4 w-4 mr-1" />
                  모두 제거
                </Button>
              )}
              <CollapsibleTrigger asChild>
                <Button variant="ghost" size="sm">
                  {isExpanded ? <ChevronUp className="h-4 w-4" /> : <ChevronDown className="h-4 w-4" />}
                </Button>
              </CollapsibleTrigger>
            </div>
          </div>
          <CardDescription>{description}</CardDescription>
        </CardHeader>

        <CollapsibleContent>
          <CardContent className="pt-0">
            {/* URL List */}
            <div className="space-y-2 mb-4">
              {urls.map((item) => (
                <div
                  key={item.id}
                  className="flex items-center gap-2 p-2 rounded-lg bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700"
                >
                  <GripVertical className="h-4 w-4 text-muted-foreground/50 cursor-grab" />
                  <LinkIcon className="h-4 w-4 text-blue-500 shrink-0" />
                  <div className="flex-1 min-w-0">
                    <div className="flex items-center gap-2">
                      <span className="text-sm font-medium truncate" title={item.url}>
                        {item.name || getHostname(item.url)}
                      </span>
                      {item.reliability && <ReliabilityBadge reliability={item.reliability} />}
                    </div>
                    <a
                      href={item.url}
                      target="_blank"
                      rel="noopener noreferrer"
                      className="text-xs text-muted-foreground hover:text-blue-600 truncate block"
                    >
                      {item.url}
                    </a>
                  </div>
                  <a
                    href={item.url}
                    target="_blank"
                    rel="noopener noreferrer"
                    className="p-1 rounded hover:bg-muted transition-colors"
                    title="새 탭에서 열기"
                  >
                    <ExternalLink className="h-4 w-4 text-muted-foreground" />
                  </a>
                  <button
                    onClick={() => handleRemoveUrl(item.id)}
                    disabled={disabled}
                    className="p-1 rounded hover:bg-destructive/10 transition-colors"
                    title="제거"
                  >
                    <X className="h-4 w-4 text-muted-foreground hover:text-destructive" />
                  </button>
                </div>
              ))}
            </div>

            {/* Add URL Input */}
            {urls.length < maxUrls && (
              <div className="flex gap-2">
                <Input
                  value={newUrl}
                  onChange={(e) => setNewUrl(e.target.value)}
                  onKeyDown={handleKeyDown}
                  placeholder="URL을 입력하세요..."
                  disabled={disabled}
                  className="flex-1 bg-white dark:bg-gray-800"
                />
                <Button
                  size="sm"
                  onClick={handleAddUrl}
                  disabled={disabled || !newUrl.trim()}
                  className="gap-1"
                >
                  <Plus className="h-4 w-4" />
                  추가
                </Button>
              </div>
            )}

            {/* Helper text */}
            <div className="flex items-center justify-between mt-3 text-xs text-muted-foreground">
              <span>
                {urls.length}/{maxUrls}개 URL
              </span>
              <Link to="/url-collections" className="text-blue-600 hover:underline">
                URL 컬렉션에서 가져오기
              </Link>
            </div>
          </CardContent>
        </CollapsibleContent>
      </Collapsible>
    </Card>
  );
};

export default PriorityUrlEditor;

```

---

## frontend/src/components/ProtectedRoute.tsx

```tsx
import { Navigate, useLocation } from 'react-router-dom';
import { useAuth } from '@/contexts/AuthContext';
import { Loader2 } from 'lucide-react';

interface ProtectedRouteProps {
  children: React.ReactNode;
  requiredRole?: 'viewer' | 'operator' | 'admin';
  allowSetup?: boolean; // Allow access even when password change is required (for setup page)
}

export function ProtectedRoute({ children, requiredRole, allowSetup = false }: ProtectedRouteProps) {
  const { isAuthenticated, isLoading, user, passwordChangeRequired } = useAuth();
  const location = useLocation();

  if (isLoading) {
    return (
      <div className="min-h-screen flex items-center justify-center">
        <Loader2 className="h-8 w-8 animate-spin text-primary" />
      </div>
    );
  }

  if (!isAuthenticated) {
    // Redirect to login page, preserving the intended destination
    return <Navigate to="/admin/login" state={{ from: location }} replace />;
  }

  // Check if password change is required (initial setup)
  if (passwordChangeRequired && !allowSetup) {
    // Redirect to setup page
    return <Navigate to="/admin/setup" replace />;
  }

  // Check role if required
  if (requiredRole && user) {
    const roleHierarchy = ['viewer', 'operator', 'admin'];
    const userRoleIndex = roleHierarchy.indexOf(user.role);
    const requiredRoleIndex = roleHierarchy.indexOf(requiredRole);

    if (userRoleIndex < requiredRoleIndex) {
      // User doesn't have sufficient permissions
      return (
        <div className="min-h-screen flex items-center justify-center">
          <div className="text-center">
            <h1 className="text-2xl font-bold mb-2">접근 권한이 없습니다</h1>
            <p className="text-muted-foreground">
              이 페이지에 접근하려면 {requiredRole} 이상의 권한이 필요합니다.
            </p>
          </div>
        </div>
      );
    }
  }

  return <>{children}</>;
}

```

---

## frontend/src/components/QuickAccessPanel.tsx

```tsx
import { useState, useEffect } from 'react';
import { Link } from 'react-router-dom';
import {
  X,
  History,
  Bookmark,
  Search,
  Loader2,
  ChevronRight,
  Clock,
  TrendingUp,
  Zap,
  Brain,
} from 'lucide-react';
import { Button } from '@/components/ui/button';
import { Badge } from '@/components/ui/badge';
import { ScrollArea } from '@/components/ui/scroll-area';
import { Separator } from '@/components/ui/separator';
import { Input } from '@/components/ui/input';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { useSearchHistory } from '@/hooks/useSearchHistory';
import { formatDistanceToNow } from 'date-fns';
import { ko } from 'date-fns/locale';
import type { SearchHistoryRecord } from '@/lib/api';

interface QuickAccessPanelProps {
  isOpen: boolean;
  onClose: () => void;
  onSelectSearch?: (search: SearchHistoryRecord) => void;
}

export const QuickAccessPanel = ({ isOpen, onClose, onSelectSearch }: QuickAccessPanelProps) => {
  const [quickSearchQuery, setQuickSearchQuery] = useState('');
  const [activeTab, setActiveTab] = useState<'recent' | 'bookmarks' | 'ml'>('recent');
  
  const {
    history,
    loading,
    loadHistory,
    loadBookmarked,
  } = useSearchHistory({ pageSize: 5 });

  useEffect(() => {
    if (isOpen) {
      if (activeTab === 'recent') {
        loadHistory(0);
      } else if (activeTab === 'bookmarks') {
        loadBookmarked(0);
      }
    }
  }, [isOpen, activeTab, loadHistory, loadBookmarked]);

  if (!isOpen) return null;

  const handleQuickSearch = (e: React.FormEvent) => {
    e.preventDefault();
    if (quickSearchQuery.trim()) {
      window.location.href = `/search?q=${encodeURIComponent(quickSearchQuery)}`;
    }
  };

  const renderSearchItem = (item: SearchHistoryRecord) => (
    <div
      key={item.id}
      className="p-3 rounded-lg border border-border hover:bg-accent/50 cursor-pointer transition-colors group"
      onClick={() => {
        onSelectSearch?.(item);
        onClose();
      }}
    >
      <div className="flex items-start justify-between gap-2">
        <div className="flex-1 min-w-0">
          <p className="text-sm font-medium truncate">{item.query}</p>
          <div className="flex items-center gap-2 mt-1 text-xs text-muted-foreground">
            <Clock className="h-3 w-3" />
            <span>{formatDistanceToNow(new Date(item.createdAt), { addSuffix: true, locale: ko })}</span>
            {item.resultCount !== undefined && (
              <>
                <span>•</span>
                <span>{item.resultCount}건</span>
              </>
            )}
          </div>
        </div>
        <ChevronRight className="h-4 w-4 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity" />
      </div>
    </div>
  );

  return (
    <>
      {/* Backdrop */}
      <div
        className="fixed inset-0 bg-black/20 backdrop-blur-sm z-[100]"
        onClick={onClose}
      />
      
      {/* Panel */}
      <div className="fixed right-0 top-0 h-full w-full sm:w-96 bg-background border-l border-border shadow-2xl z-[101] flex flex-col">
        {/* Header */}
        <div className="p-4 border-b border-border">
          <div className="flex items-center justify-between mb-4">
            <h2 className="text-lg font-semibold">빠른 접근</h2>
            <Button variant="ghost" size="icon" onClick={onClose}>
              <X className="h-4 w-4" />
            </Button>
          </div>

          {/* Quick Search */}
          <form onSubmit={handleQuickSearch}>
            <div className="relative">
              <Search className="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground" />
              <Input
                value={quickSearchQuery}
                onChange={(e) => setQuickSearchQuery(e.target.value)}
                placeholder="빠른 검색..."
                className="pl-9"
              />
            </div>
          </form>
        </div>

        {/* Tabs */}
        <div className="flex gap-1 p-2 border-b border-border">
          <Button
            variant={activeTab === 'recent' ? 'secondary' : 'ghost'}
            size="sm"
            onClick={() => setActiveTab('recent')}
            className="flex-1"
          >
            <History className="h-4 w-4 mr-2" />
            최근 검색
          </Button>
          <Button
            variant={activeTab === 'bookmarks' ? 'secondary' : 'ghost'}
            size="sm"
            onClick={() => setActiveTab('bookmarks')}
            className="flex-1"
          >
            <Bookmark className="h-4 w-4 mr-2" />
            북마크
          </Button>
          <Button
            variant={activeTab === 'ml' ? 'secondary' : 'ghost'}
            size="sm"
            onClick={() => setActiveTab('ml')}
            className="flex-1"
          >
            <Brain className="h-4 w-4 mr-2" />
            ML
          </Button>
        </div>

        {/* Content */}
        <ScrollArea className="flex-1 p-4">
          {loading ? (
            <div className="flex items-center justify-center py-8">
              <Loader2 className="h-6 w-6 animate-spin text-muted-foreground" />
            </div>
          ) : activeTab === 'recent' || activeTab === 'bookmarks' ? (
            <div className="space-y-2">
              {history.length === 0 ? (
                <div className="text-center py-8 text-muted-foreground">
                  <p className="text-sm">
                    {activeTab === 'recent' ? '검색 기록이 없습니다' : '북마크가 없습니다'}
                  </p>
                </div>
              ) : (
                history.map(renderSearchItem)
              )}
              
              {history.length > 0 && (
                <Link
                  to="/history"
                  className="block text-center py-2 text-sm text-primary hover:underline"
                  onClick={onClose}
                >
                  전체 보기
                </Link>
              )}
            </div>
          ) : (
            <div className="space-y-3">
              {/* ML Training Quick Access */}
              <Card>
                <CardHeader className="pb-3">
                  <CardTitle className="text-sm flex items-center gap-2">
                    <Brain className="h-4 w-4" />
                    ML 학습
                  </CardTitle>
                </CardHeader>
                <CardContent className="space-y-2">
                  <Link to="/ml-training" onClick={onClose}>
                    <Button variant="outline" size="sm" className="w-full justify-start">
                      <Zap className="h-4 w-4 mr-2" />
                      학습 대시보드
                    </Button>
                  </Link>
                  <Link to="/ml-results" onClick={onClose}>
                    <Button variant="outline" size="sm" className="w-full justify-start">
                      <TrendingUp className="h-4 w-4 mr-2" />
                      분석 결과
                    </Button>
                  </Link>
                </CardContent>
              </Card>

              {/* ML Addons */}
              <Card>
                <CardHeader className="pb-3">
                  <CardTitle className="text-sm">ML Add-ons</CardTitle>
                </CardHeader>
                <CardContent>
                  <Link to="/ml-addons" onClick={onClose}>
                    <Button variant="outline" size="sm" className="w-full justify-start">
                      Add-on 관리
                    </Button>
                  </Link>
                </CardContent>
              </Card>
            </div>
          )}
        </ScrollArea>

        {/* Footer - Quick Links */}
        <div className="p-4 border-t border-border space-y-2">
          <div className="text-xs text-muted-foreground mb-2">빠른 링크</div>
          <div className="grid grid-cols-2 gap-2">
            <Link to="/search" onClick={onClose}>
              <Button variant="outline" size="sm" className="w-full">
                <Search className="h-3 w-3 mr-1" />
                검색
              </Button>
            </Link>
            <Link to="/history" onClick={onClose}>
              <Button variant="outline" size="sm" className="w-full">
                <History className="h-3 w-3 mr-1" />
                기록
              </Button>
            </Link>
            <Link to="/projects" onClick={onClose}>
              <Button variant="outline" size="sm" className="w-full">
                프로젝트
              </Button>
            </Link>
            <Link to="/settings" onClick={onClose}>
              <Button variant="outline" size="sm" className="w-full">
                설정
              </Button>
            </Link>
          </div>
        </div>
      </div>
    </>
  );
};

export default QuickAccessPanel;

```

---

## frontend/src/components/ReportExportButton.tsx

```tsx
import { useState, useCallback } from 'react';
import { FileText, Loader2 } from 'lucide-react';
import { Button } from '@/components/ui/button';
import {
  Dialog,
  DialogContent,
  DialogDescription,
  DialogFooter,
  DialogHeader,
  DialogTitle,
  DialogTrigger,
} from '@/components/ui/dialog';
import { Checkbox } from '@/components/ui/checkbox';
import { Label } from '@/components/ui/label';
import { toast } from 'sonner';
import {
  exportUnifiedSearchReport,
  exportDeepSearchReport,
  triggerPdfDownload,
  type ReportRequest,
  type ReportSection,
  type ReportType,
  DEFAULT_REPORT_SECTIONS,
} from '@/lib/api';
import type { ChartExportHandle } from '@/components/charts';

interface ReportExportButtonProps {
  /** Job ID for the search */
  jobId: string;
  /** Search query */
  query: string;
  /** Time window (1d, 7d, 30d) */
  timeWindow?: string;
  /** Report type */
  reportType?: ReportType;
  /** Chart refs for capturing chart images */
  chartRefs?: Record<string, React.RefObject<ChartExportHandle>>;
  /** Button variant */
  variant?: 'default' | 'outline' | 'ghost' | 'secondary';
  /** Button size */
  size?: 'default' | 'sm' | 'lg' | 'icon';
  /** Additional CSS classes */
  className?: string;
  /** Disable the button */
  disabled?: boolean;
}

interface SectionOption {
  id: ReportSection;
  label: string;
  description: string;
}

const ALL_SECTIONS: SectionOption[] = [
  { id: 'COVER', label: '표지', description: '보고서 표지 및 기본 정보' },
  { id: 'EXECUTIVE_SUMMARY', label: '요약', description: 'AI 분석 요약 및 핵심 인사이트' },
  { id: 'DATA_SOURCE', label: '데이터 소스', description: '검색 소스별 결과 분포' },
  { id: 'TREND_ANALYSIS', label: '트렌드 분석', description: '시간대별 기사 추이' },
  { id: 'KEYWORD_ANALYSIS', label: '키워드 분석', description: '주요 키워드 및 빈도' },
  { id: 'SENTIMENT_ANALYSIS', label: '감정 분석', description: '긍정/부정/중립 분포' },
  { id: 'RELIABILITY', label: '신뢰도 분석', description: '출처별 신뢰도 평가' },
  { id: 'BIAS_ANALYSIS', label: '편향성 분석', description: '정치적/이념적 편향 분석' },
  { id: 'FACTCHECK', label: '팩트체크', description: '주요 주장 검증 결과' },
  { id: 'EVIDENCE_LIST', label: '증거 목록', description: '수집된 증거 및 출처' },
  { id: 'DETAILED_RESULTS', label: '상세 결과', description: '개별 기사 상세 정보' },
];

/**
 * PDF 보고서 내보내기 버튼 컴포넌트
 * 
 * 차트 이미지를 캡처하고 PDF 보고서를 생성합니다.
 */
export function ReportExportButton({
  jobId,
  query,
  timeWindow = '7d',
  reportType = 'UNIFIED_SEARCH',
  chartRefs,
  variant = 'default',
  size = 'default',
  className,
  disabled = false,
}: ReportExportButtonProps) {
  const [isOpen, setIsOpen] = useState(false);
  const [isExporting, setIsExporting] = useState(false);
  const [selectedSections, setSelectedSections] = useState<ReportSection[]>(
    DEFAULT_REPORT_SECTIONS[reportType]
  );

  const captureChartImages = useCallback((): Record<string, string> => {
    const images: Record<string, string> = {};
    
    if (chartRefs) {
      for (const [key, ref] of Object.entries(chartRefs)) {
        if (ref.current) {
          const base64 = ref.current.toBase64();
          if (base64) {
            images[key] = base64;
          }
        }
      }
    }
    
    return images;
  }, [chartRefs]);

  const handleExport = async () => {
    setIsExporting(true);
    
    try {
      // Capture chart images
      const chartImages = captureChartImages();
      
      const request: ReportRequest = {
        reportType,
        targetId: jobId,
        query,
        timeWindow,
        includeSections: selectedSections,
        chartImages,
        language: 'ko',
      };

      let blob: Blob;
      
      if (reportType === 'DEEP_SEARCH') {
        blob = await exportDeepSearchReport(jobId, request);
      } else {
        blob = await exportUnifiedSearchReport(jobId, request);
      }

      // Generate filename
      const timestamp = new Date().toISOString().slice(0, 10).replace(/-/g, '');
      const safeQuery = query.replace(/[^가-힣a-zA-Z0-9]/g, '_').slice(0, 30);
      const typeLabel = reportType === 'DEEP_SEARCH' ? 'DeepSearch' : '통합검색';
      const filename = `NewsInsight_${typeLabel}_${safeQuery}_${timestamp}.pdf`;

      // Trigger download
      triggerPdfDownload(blob, filename);
      
      toast.success('PDF 보고서가 다운로드되었습니다.');
      setIsOpen(false);
    } catch (error) {
      console.error('Report export failed:', error);
      toast.error('보고서 생성에 실패했습니다. 다시 시도해주세요.');
    } finally {
      setIsExporting(false);
    }
  };

  const toggleSection = (sectionId: ReportSection) => {
    setSelectedSections((prev) =>
      prev.includes(sectionId)
        ? prev.filter((s) => s !== sectionId)
        : [...prev, sectionId]
    );
  };

  const selectAll = () => {
    setSelectedSections(ALL_SECTIONS.map((s) => s.id));
  };

  const selectDefault = () => {
    setSelectedSections(DEFAULT_REPORT_SECTIONS[reportType]);
  };

  const availableSections = ALL_SECTIONS.filter((section) => {
    // Filter sections based on report type
    if (reportType === 'UNIFIED_SEARCH') {
      return section.id !== 'EVIDENCE_LIST';
    }
    if (reportType === 'DEEP_SEARCH') {
      return section.id !== 'TREND_ANALYSIS' && section.id !== 'KEYWORD_ANALYSIS';
    }
    return true;
  });

  return (
    <Dialog open={isOpen} onOpenChange={setIsOpen}>
      <DialogTrigger asChild>
        <Button
          variant={variant}
          size={size}
          className={className}
          disabled={disabled || !jobId}
        >
          <FileText className="h-4 w-4 mr-2" />
          PDF 보고서
        </Button>
      </DialogTrigger>
      <DialogContent className="sm:max-w-[500px]">
        <DialogHeader>
          <DialogTitle>PDF 보고서 내보내기</DialogTitle>
          <DialogDescription>
            보고서에 포함할 섹션을 선택하세요.
          </DialogDescription>
        </DialogHeader>

        <div className="py-4">
          {/* Quick actions */}
          <div className="flex gap-2 mb-4">
            <Button variant="outline" size="sm" onClick={selectAll}>
              전체 선택
            </Button>
            <Button variant="outline" size="sm" onClick={selectDefault}>
              기본값
            </Button>
          </div>

          {/* Section selection */}
          <div className="space-y-3 max-h-[300px] overflow-y-auto pr-2">
            {availableSections.map((section) => (
              <div
                key={section.id}
                className="flex items-start space-x-3 p-2 rounded-lg hover:bg-muted/50 transition-colors"
              >
                <Checkbox
                  id={section.id}
                  checked={selectedSections.includes(section.id)}
                  onCheckedChange={() => toggleSection(section.id)}
                />
                <div className="flex-1">
                  <Label
                    htmlFor={section.id}
                    className="text-sm font-medium cursor-pointer"
                  >
                    {section.label}
                  </Label>
                  <p className="text-xs text-muted-foreground">
                    {section.description}
                  </p>
                </div>
              </div>
            ))}
          </div>

          {/* Summary */}
          <div className="mt-4 pt-4 border-t text-sm text-muted-foreground">
            {selectedSections.length}개 섹션 선택됨
          </div>
        </div>

        <DialogFooter>
          <Button variant="outline" onClick={() => setIsOpen(false)}>
            취소
          </Button>
          <Button
            onClick={handleExport}
            disabled={isExporting || selectedSections.length === 0}
          >
            {isExporting ? (
              <>
                <Loader2 className="h-4 w-4 mr-2 animate-spin" />
                생성 중...
              </>
            ) : (
              <>
                <FileText className="h-4 w-4 mr-2" />
                내보내기
              </>
            )}
          </Button>
        </DialogFooter>
      </DialogContent>
    </Dialog>
  );
}

export default ReportExportButton;

```

---

## frontend/src/components/SearchBar.tsx

```tsx
import { useState } from "react";
import { Search } from "lucide-react";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from "@/components/ui/select";
import { Card } from "@/components/ui/card";

interface SearchBarProps {
  onSearch: (query: string, window: string) => void;
  isLoading?: boolean;
}

export function SearchBar({ onSearch, isLoading = false }: SearchBarProps) {
  const [query, setQuery] = useState("");
  const [window, setWindow] = useState("7d");

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault();
    if (query.trim()) {
      onSearch(query.trim(), window);
    }
  };

  return (
    <Card className="p-6 shadow-elegant card-hover">
      <form onSubmit={handleSubmit} className="space-y-4">
        <div className="flex flex-col sm:flex-row gap-4">
          <div className="flex-1">
            <Input
              type="text"
              placeholder="분석하고 싶은 키워드를 입력하세요..."
              value={query}
              onChange={(e) => setQuery(e.target.value)}
              disabled={isLoading}
              className="h-12 text-base"
            />
          </div>
          <div className="w-full sm:w-40">
            <Select value={window} onValueChange={setWindow} disabled={isLoading}>
              <SelectTrigger className="h-12">
                <SelectValue />
              </SelectTrigger>
              <SelectContent className="bg-card z-50">
                <SelectItem value="1d">최근 1일</SelectItem>
                <SelectItem value="7d">최근 7일</SelectItem>
                <SelectItem value="30d">최근 30일</SelectItem>
              </SelectContent>
            </Select>
          </div>
          <Button
            type="submit"
            disabled={isLoading || !query.trim()}
            variant="gradient"
            size="lg"
            className="w-full sm:w-auto"
          >
            {isLoading ? (
              <>
                <div className="h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent" />
                분석 중...
              </>
            ) : (
              <>
                <Search className="h-5 w-5" />
                분석하기
              </>
            )}
          </Button>
        </div>
      </form>
    </Card>
  );
}

```

---

## frontend/src/components/SearchHistoryPanel.tsx

```tsx
import { useState, useEffect, useCallback } from 'react';
import { useSearchHistory, useSearchHistorySSE } from '@/hooks/useSearchHistory';
import type { SearchHistoryRecord, SearchHistoryType } from '@/lib/api';
import { updateSearchNotes, getSearchHistoryById } from '@/lib/api';
import { formatDistanceToNow } from 'date-fns';
import { ko } from 'date-fns/locale';
import { toast } from 'sonner';

interface SearchHistoryPanelProps {
  onSelectSearch?: (search: SearchHistoryRecord) => void;
  onDeriveSearch?: (search: SearchHistoryRecord) => void;
  className?: string;
  enableRealtime?: boolean;
}

const searchTypeLabels: Record<SearchHistoryType, string> = {
  UNIFIED: '통합검색',
  DEEP_SEARCH: '딥서치',
  FACT_CHECK: '팩트체크',
  BROWSER_AGENT: '브라우저 에이전트',
};

const searchTypeColors: Record<SearchHistoryType, string> = {
  UNIFIED: 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200',
  DEEP_SEARCH: 'bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200',
  FACT_CHECK: 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200',
  BROWSER_AGENT: 'bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200',
};

export function SearchHistoryPanel({
  onSelectSearch,
  onDeriveSearch,
  className = '',
  enableRealtime = true,
}: SearchHistoryPanelProps) {
  const {
    history,
    loading,
    error,
    currentPage,
    totalPages,
    totalElements,
    loadHistory,
    loadBookmarked,
    searchHistory,
    toggleBookmark,
    deleteSearch,
    loadDerivedSearches,
  } = useSearchHistory({ pageSize: 10 });

  const [filter, setFilter] = useState<SearchHistoryType | 'all' | 'bookmarked'>('all');
  const [searchQuery, setSearchQuery] = useState('');
  const [expandedId, setExpandedId] = useState<number | null>(null);
  const [derivedSearches, setDerivedSearches] = useState<Record<number, SearchHistoryRecord[]>>({});
  const [localHistory, setLocalHistory] = useState<SearchHistoryRecord[]>([]);
  const [newItemIds, setNewItemIds] = useState<Set<number>>(new Set());
  
  // Notes editing state
  const [editingNotesId, setEditingNotesId] = useState<number | null>(null);
  const [notesValue, setNotesValue] = useState('');
  const [savingNotes, setSavingNotes] = useState(false);

  // Sync local history with server history
  useEffect(() => {
    setLocalHistory(history);
  }, [history]);

  // SSE real-time updates
  const { connected: sseConnected } = useSearchHistorySSE({
    enabled: enableRealtime,
    onNewSearch: useCallback((newSearch: SearchHistoryRecord) => {
      // Only add if we're on page 0 and filter matches
      if (currentPage === 0) {
        const matchesFilter = 
          filter === 'all' || 
          (filter === 'bookmarked' && newSearch.bookmarked) ||
          filter === newSearch.searchType;
        
        if (matchesFilter && !newSearch.parentSearchId) {
          setLocalHistory(prev => {
            // Prevent duplicates
            if (prev.some(item => item.id === newSearch.id)) {
              return prev;
            }
            // Add to the beginning
            return [newSearch, ...prev];
          });
          // Mark as new for highlight animation
          setNewItemIds(prev => new Set([...prev, newSearch.id]));
          // Remove highlight after animation
          setTimeout(() => {
            setNewItemIds(prev => {
              const next = new Set(prev);
              next.delete(newSearch.id);
              return next;
            });
          }, 3000);
        }
      }
    }, [currentPage, filter]),
    onUpdatedSearch: useCallback((updatedSearch: SearchHistoryRecord) => {
      setLocalHistory(prev => prev.map(item => 
        item.id === updatedSearch.id ? updatedSearch : item
      ));
    }, []),
    onDeletedSearch: useCallback((id: number) => {
      setLocalHistory(prev => prev.filter(item => item.id !== id));
    }, []),
  });

  // Load initial data
  useEffect(() => {
    loadHistory(0);
  }, [loadHistory]);

  // Handle filter change
  const handleFilterChange = useCallback((newFilter: SearchHistoryType | 'all' | 'bookmarked') => {
    setFilter(newFilter);
    setSearchQuery('');
    if (newFilter === 'bookmarked') {
      loadBookmarked(0);
    } else if (newFilter === 'all') {
      loadHistory(0);
    } else {
      loadHistory(0, newFilter);
    }
  }, [loadHistory, loadBookmarked]);

  // Handle search
  const handleSearch = useCallback((e: React.FormEvent) => {
    e.preventDefault();
    if (searchQuery.trim()) {
      searchHistory(searchQuery.trim(), 0);
    } else {
      loadHistory(0);
    }
  }, [searchQuery, searchHistory, loadHistory]);

  // Handle page change
  const handlePageChange = useCallback((page: number) => {
    if (searchQuery.trim()) {
      searchHistory(searchQuery.trim(), page);
    } else if (filter === 'bookmarked') {
      loadBookmarked(page);
    } else if (filter === 'all') {
      loadHistory(page);
    } else {
      loadHistory(page, filter);
    }
  }, [searchQuery, filter, searchHistory, loadBookmarked, loadHistory]);

  // Handle expand to show derived searches
  const handleExpand = useCallback(async (id: number) => {
    if (expandedId === id) {
      setExpandedId(null);
      return;
    }
    setExpandedId(id);
    if (!derivedSearches[id]) {
      const derived = await loadDerivedSearches(id);
      setDerivedSearches(prev => ({ ...prev, [id]: derived }));
    }
  }, [expandedId, derivedSearches, loadDerivedSearches]);

  // Handle bookmark toggle
  const handleToggleBookmark = useCallback(async (id: number, e: React.MouseEvent) => {
    e.stopPropagation();
    await toggleBookmark(id);
  }, [toggleBookmark]);

  // Handle delete
  const handleDelete = useCallback(async (id: number, e: React.MouseEvent) => {
    e.stopPropagation();
    if (window.confirm('이 검색 기록을 삭제하시겠습니까?')) {
      await deleteSearch(id);
    }
  }, [deleteSearch]);

  // Handle notes editing
  const handleStartEditNotes = useCallback((item: SearchHistoryRecord, e: React.MouseEvent) => {
    e.stopPropagation();
    setEditingNotesId(item.id);
    setNotesValue(item.notes || '');
  }, []);

  const handleSaveNotes = useCallback(async (id: number, e: React.MouseEvent) => {
    e.stopPropagation();
    setSavingNotes(true);
    try {
      const updated = await updateSearchNotes(id, notesValue);
      setLocalHistory(prev => prev.map(item => 
        item.id === id ? { ...item, notes: updated.notes } : item
      ));
      setEditingNotesId(null);
      setNotesValue('');
    } catch (err) {
      console.error('Failed to save notes:', err);
      alert('노트 저장에 실패했습니다.');
    } finally {
      setSavingNotes(false);
    }
  }, [notesValue]);

  const handleCancelEditNotes = useCallback((e: React.MouseEvent) => {
    e.stopPropagation();
    setEditingNotesId(null);
    setNotesValue('');
  }, []);

  // Export AI report from search history
  const handleExportAiReport = useCallback(async (item: SearchHistoryRecord, format: 'markdown' | 'html' | 'text', e: React.MouseEvent) => {
    e.stopPropagation();
    
    try {
      // Fetch full record with aiSummary if not already loaded
      let aiContent: string | undefined;
      
      if (item.aiSummary && typeof item.aiSummary === 'object') {
        const summary = item.aiSummary as Record<string, unknown>;
        aiContent = summary.content as string || summary.summary as string;
      }
      
      // If no content in the current item, fetch from server
      if (!aiContent && item.id) {
        const fullRecord = await getSearchHistoryById(item.id);
        if (fullRecord.aiSummary && typeof fullRecord.aiSummary === 'object') {
          const summary = fullRecord.aiSummary as Record<string, unknown>;
          aiContent = summary.content as string || summary.summary as string;
        }
      }
      
      if (!aiContent) {
        toast.error('내보낼 AI 분석 내용이 없습니다.');
        return;
      }
      
      const timestamp = new Date().toISOString().slice(0, 10).replace(/-/g, '');
      const safeQuery = item.query.replace(/[^가-힣a-zA-Z0-9]/g, '_').slice(0, 30);
      const baseFilename = `NewsInsight_${searchTypeLabels[item.searchType]}_${safeQuery}_${timestamp}`;
      
      let content: string;
      let mimeType: string;
      let extension: string;
      
      if (format === 'markdown') {
        content = `# NewsInsight AI 분석 보고서

**검색어**: ${item.query}  
**검색 유형**: ${searchTypeLabels[item.searchType]}  
**생성 시간**: ${new Date(item.createdAt).toLocaleString('ko-KR')}

---

${aiContent}

---

*이 보고서는 NewsInsight AI에 의해 자동 생성되었습니다.*
`;
        mimeType = 'text/markdown;charset=utf-8';
        extension = 'md';
      } else if (format === 'html') {
        content = `<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NewsInsight AI 분석 - ${item.query}</title>
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans KR', sans-serif; max-width: 800px; margin: 0 auto; padding: 2rem; line-height: 1.6; }
    h1 { color: #7c3aed; border-bottom: 2px solid #7c3aed; padding-bottom: 0.5rem; }
    h2, h3 { color: #374151; margin-top: 1.5rem; }
    .meta { color: #6b7280; font-size: 0.9rem; margin-bottom: 1.5rem; }
    pre { background: #f3f4f6; padding: 1rem; border-radius: 0.5rem; overflow-x: auto; }
  </style>
</head>
<body>
  <h1>NewsInsight AI 분석 보고서</h1>
  <div class="meta">
    <p><strong>검색어:</strong> ${item.query}</p>
    <p><strong>검색 유형:</strong> ${searchTypeLabels[item.searchType]}</p>
    <p><strong>생성 시간:</strong> ${new Date(item.createdAt).toLocaleString('ko-KR')}</p>
  </div>
  <hr>
  <div class="content">
    ${aiContent.replace(/\n/g, '<br>')}
  </div>
  <hr>
  <footer style="color: #9ca3af; font-size: 0.8rem; text-align: center; margin-top: 2rem;">
    이 보고서는 NewsInsight AI에 의해 자동 생성되었습니다.
  </footer>
</body>
</html>`;
        mimeType = 'text/html;charset=utf-8';
        extension = 'html';
      } else {
        // Plain text
        content = `NewsInsight AI 분석 보고서
========================================

검색어: ${item.query}
검색 유형: ${searchTypeLabels[item.searchType]}
생성 시간: ${new Date(item.createdAt).toLocaleString('ko-KR')}

========================================

${aiContent.replace(/[#*`]/g, '')}

========================================

이 보고서는 NewsInsight AI에 의해 자동 생성되었습니다.
`;
        mimeType = 'text/plain;charset=utf-8';
        extension = 'txt';
      }
      
      // Download file
      const blob = new Blob([content], { type: mimeType });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `${baseFilename}.${extension}`;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
      
      toast.success(`${format === 'markdown' ? 'Markdown' : format === 'html' ? 'HTML' : '텍스트'} 파일이 다운로드되었습니다.`);
    } catch (err) {
      console.error('Failed to export AI report:', err);
      toast.error('AI 보고서 내보내기에 실패했습니다.');
    }
  }, []);

  // Check if item has AI content
  const hasAiContent = useCallback((item: SearchHistoryRecord): boolean => {
    if (!item.aiSummary || typeof item.aiSummary !== 'object') return false;
    const summary = item.aiSummary as Record<string, unknown>;
    return !!(summary.content || summary.summary);
  }, []);

  // Render a single history item
  const renderHistoryItem = (item: SearchHistoryRecord, isChild = false) => {
    const isNew = newItemIds.has(item.id);
    
    return (
      <div
        key={item.id}
        className={`
          border rounded-lg p-3 cursor-pointer transition-all
          hover:border-blue-300 hover:shadow-sm
          ${isChild ? 'ml-6 border-l-4 border-l-purple-400' : ''}
          ${expandedId === item.id ? 'border-blue-500 bg-blue-50 dark:bg-blue-950' : 'border-gray-200 dark:border-gray-700'}
          ${isNew ? 'animate-pulse border-green-400 bg-green-50 dark:bg-green-950' : ''}
        `}
        onClick={() => onSelectSearch?.(item)}
      >
      <div className="flex items-start justify-between gap-2">
        <div className="flex-1 min-w-0">
          {/* Type badge and query */}
          <div className="flex items-center gap-2 mb-1">
            <span className={`text-xs px-2 py-0.5 rounded ${searchTypeColors[item.searchType]}`}>
              {searchTypeLabels[item.searchType]}
            </span>
            {item.depthLevel && item.depthLevel > 0 && (
              <span className="text-xs text-purple-600 dark:text-purple-400">
                드릴다운 Lv.{item.depthLevel}
              </span>
            )}
            {!item.success && (
              <span className="text-xs px-2 py-0.5 rounded bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200">
                실패
              </span>
            )}
          </div>
          
          {/* Query */}
          <p className="font-medium text-gray-900 dark:text-gray-100 truncate" title={item.query}>
            {item.query}
          </p>
          
          {/* Stats */}
          <div className="flex items-center gap-3 mt-1 text-xs text-gray-500 dark:text-gray-400">
            <span>결과: {item.resultCount ?? 0}건</span>
            {item.credibilityScore !== undefined && (
              <span>신뢰도: {Math.round(item.credibilityScore)}%</span>
            )}
            {item.durationMs !== undefined && (
              <span>{(item.durationMs / 1000).toFixed(1)}초</span>
            )}
            <span>
              {formatDistanceToNow(new Date(item.createdAt), { addSuffix: true, locale: ko })}
            </span>
          </div>
        </div>
        
        {/* Actions */}
        <div className="flex items-center gap-1">
          <button
            onClick={(e) => handleToggleBookmark(item.id, e)}
            className={`p-1.5 rounded hover:bg-gray-100 dark:hover:bg-gray-800 ${
              item.bookmarked ? 'text-yellow-500' : 'text-gray-400'
            }`}
            title={item.bookmarked ? '북마크 해제' : '북마크'}
          >
            <svg className="w-4 h-4" fill={item.bookmarked ? 'currentColor' : 'none'} stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z" />
            </svg>
          </button>
          
          {/* Notes button */}
          <button
            onClick={(e) => handleStartEditNotes(item, e)}
            className={`p-1.5 rounded hover:bg-gray-100 dark:hover:bg-gray-800 ${
              item.notes ? 'text-amber-500' : 'text-gray-400'
            }`}
            title={item.notes ? '노트 편집' : '노트 추가'}
          >
            <svg className="w-4 h-4" fill={item.notes ? 'currentColor' : 'none'} stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
            </svg>
          </button>
          
          {/* Export AI Report dropdown */}
          {hasAiContent(item) && (
            <div className="relative group">
              <button
                onClick={(e) => e.stopPropagation()}
                className="p-1.5 rounded hover:bg-gray-100 dark:hover:bg-gray-800 text-green-500 hover:text-green-600"
                title="AI 보고서 내보내기"
              >
                <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />
                </svg>
              </button>
              {/* Dropdown menu */}
              <div className="absolute right-0 top-full mt-1 w-40 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-10">
                <button
                  onClick={(e) => handleExportAiReport(item, 'markdown', e)}
                  className="w-full px-3 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 rounded-t-lg flex items-center gap-2"
                >
                  <svg className="w-4 h-4 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                  </svg>
                  Markdown
                </button>
                <button
                  onClick={(e) => handleExportAiReport(item, 'html', e)}
                  className="w-full px-3 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2"
                >
                  <svg className="w-4 h-4 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
                  </svg>
                  HTML
                </button>
                <button
                  onClick={(e) => handleExportAiReport(item, 'text', e)}
                  className="w-full px-3 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-700 rounded-b-lg flex items-center gap-2"
                >
                  <svg className="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                  </svg>
                  텍스트
                </button>
              </div>
            </div>
          )}
          
          {onDeriveSearch && (
            <button
              onClick={(e) => {
                e.stopPropagation();
                onDeriveSearch(item);
              }}
              className="p-1.5 rounded hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-400 hover:text-blue-500"
              title="파생 검색"
            >
              <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M13 7l5 5m0 0l-5 5m5-5H6" />
              </svg>
            </button>
          )}
          
          <button
            onClick={(e) => handleExpand(item.id)}
            className="p-1.5 rounded hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-400"
            title="드릴다운 기록 보기"
          >
            <svg className={`w-4 h-4 transition-transform ${expandedId === item.id ? 'rotate-180' : ''}`} fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
            </svg>
          </button>
          
          <button
            onClick={(e) => handleDelete(item.id, e)}
            className="p-1.5 rounded hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-400 hover:text-red-500"
            title="삭제"
          >
            <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
            </svg>
          </button>
        </div>
      </div>
      
      {/* Notes display/edit section */}
      {(item.notes || editingNotesId === item.id) && (
        <div className="mt-2 pt-2 border-t border-gray-200 dark:border-gray-700" onClick={(e) => e.stopPropagation()}>
          {editingNotesId === item.id ? (
            <div className="space-y-2">
              <textarea
                value={notesValue}
                onChange={(e) => setNotesValue(e.target.value)}
                placeholder="검색에 대한 메모를 입력하세요..."
                className="w-full px-2 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 resize-none"
                rows={3}
                autoFocus
              />
              <div className="flex justify-end gap-2">
                <button
                  onClick={handleCancelEditNotes}
                  className="px-2 py-1 text-xs rounded bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"
                >
                  취소
                </button>
                <button
                  onClick={(e) => handleSaveNotes(item.id, e)}
                  disabled={savingNotes}
                  className="px-2 py-1 text-xs rounded bg-blue-500 text-white hover:bg-blue-600 disabled:opacity-50"
                >
                  {savingNotes ? '저장 중...' : '저장'}
                </button>
              </div>
            </div>
          ) : (
            <div 
              className="text-xs text-gray-600 dark:text-gray-400 bg-amber-50 dark:bg-amber-900/20 p-2 rounded cursor-pointer hover:bg-amber-100 dark:hover:bg-amber-900/30"
              onClick={(e) => handleStartEditNotes(item, e)}
              title="클릭하여 편집"
            >
              <div className="flex items-start gap-1">
                <svg className="w-3 h-3 mt-0.5 flex-shrink-0 text-amber-500" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                </svg>
                <span className="whitespace-pre-wrap">{item.notes}</span>
              </div>
            </div>
          )}
        </div>
      )}
      
      {/* Expanded: Show derived searches */}
      {expandedId === item.id && derivedSearches[item.id] && derivedSearches[item.id].length > 0 && (
        <div className="mt-3 pt-3 border-t border-gray-200 dark:border-gray-700 space-y-2">
          <p className="text-xs text-gray-500 dark:text-gray-400 mb-2">파생 검색 ({derivedSearches[item.id].length}건)</p>
          {derivedSearches[item.id].map(derived => renderHistoryItem(derived, true))}
        </div>
      )}
    </div>
  )};

  return (
    <div className={`flex flex-col h-full ${className}`}>
      {/* Header */}
      <div className="border-b border-gray-200 dark:border-gray-700 pb-3 mb-3">
        <div className="flex items-center justify-between mb-3">
          <h3 className="text-lg font-semibold text-gray-900 dark:text-gray-100">
            검색 기록
          </h3>
          {/* SSE connection status */}
          {enableRealtime && (
            <div className="flex items-center gap-1.5">
              <span 
                className={`w-2 h-2 rounded-full ${sseConnected ? 'bg-green-500' : 'bg-red-500'}`}
                title={sseConnected ? '실시간 연결됨' : '연결 끊김'}
              />
              <span className="text-xs text-gray-400">
                {sseConnected ? '실시간' : '오프라인'}
              </span>
            </div>
          )}
        </div>
        
        {/* Search input */}
        <form onSubmit={handleSearch} className="mb-3">
          <div className="relative">
            <input
              type="text"
              value={searchQuery}
              onChange={(e) => setSearchQuery(e.target.value)}
              placeholder="검색 기록 검색..."
              className="w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"
            />
            <button
              type="submit"
              className="absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600"
            >
              <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
              </svg>
            </button>
          </div>
        </form>
        
        {/* Filter buttons */}
        <div className="flex flex-wrap gap-1.5">
          {(['all', 'bookmarked', 'UNIFIED', 'DEEP_SEARCH', 'FACT_CHECK', 'BROWSER_AGENT'] as const).map((f) => (
            <button
              key={f}
              onClick={() => handleFilterChange(f)}
              className={`px-2.5 py-1 text-xs rounded-full transition-colors ${
                filter === f
                  ? 'bg-blue-500 text-white'
                  : 'bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700'
              }`}
            >
              {f === 'all' ? '전체' : f === 'bookmarked' ? '북마크' : searchTypeLabels[f]}
            </button>
          ))}
        </div>
      </div>
      
      {/* Stats */}
      <div className="text-xs text-gray-500 dark:text-gray-400 mb-2">
        총 {totalElements}건 {localHistory.length > history.length && `(+${localHistory.length - history.length} 새 항목)`}
      </div>
      
      {/* History list */}
      <div className="flex-1 overflow-y-auto space-y-2">
        {loading ? (
          <div className="flex items-center justify-center py-8">
            <div className="animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"></div>
          </div>
        ) : error ? (
          <div className="text-center py-8 text-red-500">
            <p>{error}</p>
            <button
              onClick={() => loadHistory(0)}
              className="mt-2 text-sm text-blue-500 hover:underline"
            >
              다시 시도
            </button>
          </div>
        ) : localHistory.length === 0 ? (
          <div className="text-center py-8 text-gray-500 dark:text-gray-400">
            <p>검색 기록이 없습니다</p>
          </div>
        ) : (
          localHistory.filter(item => !item.parentSearchId).map(item => renderHistoryItem(item))
        )}
      </div>
      
      {/* Pagination */}
      {totalPages > 1 && (
        <div className="flex items-center justify-center gap-2 pt-3 border-t border-gray-200 dark:border-gray-700 mt-3">
          <button
            onClick={() => handlePageChange(currentPage - 1)}
            disabled={currentPage === 0}
            className="px-3 py-1 text-sm rounded border border-gray-300 dark:border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-800"
          >
            이전
          </button>
          <span className="text-sm text-gray-600 dark:text-gray-400">
            {currentPage + 1} / {totalPages}
          </span>
          <button
            onClick={() => handlePageChange(currentPage + 1)}
            disabled={currentPage >= totalPages - 1}
            className="px-3 py-1 text-sm rounded border border-gray-300 dark:border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 dark:hover:bg-gray-800"
          >
            다음
          </button>
        </div>
      )}
    </div>
  );
}

export default SearchHistoryPanel;

```

---

## frontend/src/components/SearchInputWithSuggestions.tsx

```tsx
import { useState, useRef, useEffect, useCallback, forwardRef } from "react";
import {
  Search,
  Clock,
  TrendingUp,
  X,
  Sparkles,
  Loader2,
} from "lucide-react";
import { Input } from "@/components/ui/input";
import { Button } from "@/components/ui/button";
import { Badge } from "@/components/ui/badge";
import {
  Command,
  CommandEmpty,
  CommandGroup,
  CommandItem,
  CommandList,
  CommandSeparator,
} from "@/components/ui/command";
import {
  Popover,
  PopoverContent,
  PopoverTrigger,
} from "@/components/ui/popover";
import { cn } from "@/lib/utils";
import { useSearchSuggestions, SearchSuggestion } from "@/hooks/useSearchSuggestions";

interface SearchInputWithSuggestionsProps {
  /** 현재 검색어 */
  value: string;
  /** 검색어 변경 핸들러 */
  onChange: (value: string) => void;
  /** 검색 실행 핸들러 */
  onSearch: (query: string) => void;
  /** 플레이스홀더 */
  placeholder?: string;
  /** 로딩 중 여부 */
  isLoading?: boolean;
  /** 비활성화 여부 */
  disabled?: boolean;
  /** 기본 제안 키워드 */
  defaultSuggestions?: string[];
  /** 트렌딩 키워드 */
  trendingKeywords?: string[];
  /** 추가 CSS 클래스 */
  className?: string;
  /** 입력 필드 크기 */
  size?: "sm" | "default" | "lg";
}

const typeConfig: Record<SearchSuggestion["type"], { icon: typeof Clock; label: string; color: string }> = {
  history: { icon: Clock, label: "최근", color: "text-muted-foreground" },
  trending: { icon: TrendingUp, label: "트렌딩", color: "text-orange-500" },
  suggestion: { icon: Sparkles, label: "추천", color: "text-blue-500" },
};

export const SearchInputWithSuggestions = forwardRef<HTMLInputElement, SearchInputWithSuggestionsProps>(
  (
    {
      value,
      onChange,
      onSearch,
      placeholder = "검색어를 입력하세요...",
      isLoading = false,
      disabled = false,
      defaultSuggestions = [
        "AI 기술 동향",
        "기후변화",
        "경제 전망",
        "의료 혁신",
        "우주 탐사",
        "사이버 보안",
        "전기차",
        "반도체",
      ],
      trendingKeywords = [],
      className,
      size = "default",
    },
    ref
  ) => {
    const [open, setOpen] = useState(false);
    const [inputFocused, setInputFocused] = useState(false);
    const inputRef = useRef<HTMLInputElement>(null);
    const containerRef = useRef<HTMLDivElement>(null);

    const {
      recentSearches,
      addToHistory,
      removeFromHistory,
      clearHistory,
      getSuggestions,
    } = useSearchSuggestions({
      defaultSuggestions,
      trendingKeywords,
    });

    const suggestions = getSuggestions(value);

    // 검색 실행
    const handleSearch = useCallback(
      (query: string) => {
        if (!query.trim()) return;
        addToHistory(query);
        onSearch(query);
        setOpen(false);
      },
      [addToHistory, onSearch]
    );

    // 엔터 키 핸들러
    const handleKeyDown = useCallback(
      (e: React.KeyboardEvent) => {
        if (e.key === "Enter" && value.trim()) {
          e.preventDefault();
          handleSearch(value);
        }
        if (e.key === "Escape") {
          setOpen(false);
          inputRef.current?.blur();
        }
        // 아래 화살표로 제안 목록 포커스
        if (e.key === "ArrowDown" && suggestions.length > 0) {
          e.preventDefault();
          setOpen(true);
        }
      },
      [value, handleSearch, suggestions.length]
    );

    // 제안 선택
    const handleSelect = useCallback(
      (suggestion: SearchSuggestion) => {
        onChange(suggestion.text);
        handleSearch(suggestion.text);
      },
      [onChange, handleSearch]
    );

    // 클릭 외부 감지
    useEffect(() => {
      const handleClickOutside = (e: MouseEvent) => {
        if (containerRef.current && !containerRef.current.contains(e.target as Node)) {
          setOpen(false);
        }
      };
      document.addEventListener("mousedown", handleClickOutside);
      return () => document.removeEventListener("mousedown", handleClickOutside);
    }, []);

    // 입력 포커스 시 열기
    useEffect(() => {
      if (inputFocused && (suggestions.length > 0 || recentSearches.length > 0)) {
        setOpen(true);
      }
    }, [inputFocused, suggestions.length, recentSearches.length]);

    const inputSizeClass = size === "sm" ? "h-9 text-sm" : size === "lg" ? "h-12 text-lg" : "h-10";
    const iconSizeClass = size === "sm" ? "h-4 w-4" : size === "lg" ? "h-6 w-6" : "h-5 w-5";

    return (
      <div ref={containerRef} className={cn("relative", className)}>
        <Popover open={open} onOpenChange={setOpen}>
          <PopoverTrigger asChild>
            <div className="relative">
              {/* 검색 아이콘 */}
              <Search
                className={cn(
                  "absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",
                  iconSizeClass
                )}
              />

              {/* 입력 필드 */}
              <Input
                ref={ref || inputRef}
                type="text"
                value={value}
                onChange={(e) => onChange(e.target.value)}
                onFocus={() => setInputFocused(true)}
                onBlur={() => setInputFocused(false)}
                onKeyDown={handleKeyDown}
                placeholder={placeholder}
                disabled={disabled || isLoading}
                className={cn(
                  "pl-10 pr-20",
                  inputSizeClass,
                  open && "ring-2 ring-primary/20"
                )}
              />

              {/* 오른쪽 액션 버튼들 */}
              <div className="absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-1">
                {/* 클리어 버튼 */}
                {value && !isLoading && (
                  <Button
                    type="button"
                    variant="ghost"
                    size="icon"
                    className="h-6 w-6"
                    onClick={() => onChange("")}
                    tabIndex={-1}
                  >
                    <X className="h-4 w-4" />
                    <span className="sr-only">검색어 지우기</span>
                  </Button>
                )}

                {/* 검색 버튼 */}
                <Button
                  type="button"
                  size="sm"
                  disabled={!value.trim() || isLoading}
                  onClick={() => handleSearch(value)}
                  className="h-7"
                >
                  {isLoading ? (
                    <Loader2 className="h-4 w-4 animate-spin" />
                  ) : (
                    "검색"
                  )}
                </Button>
              </div>
            </div>
          </PopoverTrigger>

          <PopoverContent
            className="w-[var(--radix-popover-trigger-width)] p-0"
            align="start"
            sideOffset={4}
            onOpenAutoFocus={(e) => e.preventDefault()}
          >
            <Command>
              <CommandList>
                {/* 검색 결과 없음 */}
                {suggestions.length === 0 && recentSearches.length === 0 && (
                  <CommandEmpty>검색어를 입력하세요</CommandEmpty>
                )}

                {/* 제안 목록 */}
                {suggestions.length > 0 && (
                  <CommandGroup heading="검색 제안">
                    {suggestions.map((suggestion, index) => {
                      const config = typeConfig[suggestion.type];
                      const Icon = config.icon;
                      return (
                        <CommandItem
                          key={`${suggestion.type}-${suggestion.text}-${index}`}
                          value={suggestion.text}
                          onSelect={() => handleSelect(suggestion)}
                          className="flex items-center justify-between cursor-pointer"
                        >
                          <div className="flex items-center gap-2">
                            <Icon className={cn("h-4 w-4", config.color)} />
                            <span>{suggestion.text}</span>
                          </div>
                          {suggestion.type === "history" && (
                            <Button
                              variant="ghost"
                              size="icon"
                              className="h-5 w-5 opacity-0 group-hover:opacity-100"
                              onClick={(e) => {
                                e.stopPropagation();
                                removeFromHistory(suggestion.text);
                              }}
                            >
                              <X className="h-3 w-3" />
                            </Button>
                          )}
                          {suggestion.type === "trending" && (
                            <Badge variant="secondary" className="text-xs">
                              트렌딩
                            </Badge>
                          )}
                        </CommandItem>
                      );
                    })}
                  </CommandGroup>
                )}

                {/* 최근 검색어 (입력이 없을 때만) */}
                {!value && recentSearches.length > 0 && (
                  <>
                    <CommandSeparator />
                    <CommandGroup
                      heading={
                        <div className="flex items-center justify-between">
                          <span>최근 검색어</span>
                          <Button
                            variant="ghost"
                            size="sm"
                            className="h-auto py-0 px-1 text-xs text-muted-foreground"
                            onClick={(e) => {
                              e.preventDefault();
                              clearHistory();
                            }}
                          >
                            전체 삭제
                          </Button>
                        </div>
                      }
                    >
                      {recentSearches.map((item, index) => (
                        <CommandItem
                          key={`recent-${item.text}-${index}`}
                          value={item.text}
                          onSelect={() => handleSelect(item)}
                          className="flex items-center justify-between cursor-pointer group"
                        >
                          <div className="flex items-center gap-2">
                            <Clock className="h-4 w-4 text-muted-foreground" />
                            <span>{item.text}</span>
                          </div>
                          <Button
                            variant="ghost"
                            size="icon"
                            className="h-5 w-5 opacity-0 group-hover:opacity-100"
                            onClick={(e) => {
                              e.stopPropagation();
                              removeFromHistory(item.text);
                            }}
                          >
                            <X className="h-3 w-3" />
                          </Button>
                        </CommandItem>
                      ))}
                    </CommandGroup>
                  </>
                )}

                {/* 키보드 힌트 */}
                <div className="px-2 py-1.5 text-xs text-muted-foreground border-t flex items-center gap-4">
                  <span>
                    <kbd className="px-1.5 py-0.5 rounded bg-muted font-mono text-xs">Enter</kbd>{" "}
                    검색
                  </span>
                  <span>
                    <kbd className="px-1.5 py-0.5 rounded bg-muted font-mono text-xs">Esc</kbd>{" "}
                    닫기
                  </span>
                </div>
              </CommandList>
            </Command>
          </PopoverContent>
        </Popover>
      </div>
    );
  }
);

SearchInputWithSuggestions.displayName = "SearchInputWithSuggestions";

export default SearchInputWithSuggestions;

```

---

## frontend/src/components/SentimentChart.tsx

```tsx
import { Card } from "@/components/ui/card";
import type { SentimentData } from "@/types/api";

interface SentimentChartProps {
  data: SentimentData;
}

export function SentimentChart({ data }: SentimentChartProps) {
  const total = data.pos + data.neg + data.neu;
  const posPercent = total > 0 ? ((data.pos / total) * 100).toFixed(1) : "0";
  const negPercent = total > 0 ? ((data.neg / total) * 100).toFixed(1) : "0";
  const neuPercent = total > 0 ? ((data.neu / total) * 100).toFixed(1) : "0";

  return (
    <Card className="p-6 shadow-elegant card-hover">
      <h2 className="text-xl font-bold mb-6">감성 분석</h2>
      
      {/* Bar Chart */}
      <div className="space-y-6 mb-8">
        <div className="space-y-2">
          <div className="flex items-center justify-between text-sm">
            <span className="font-medium">긍정</span>
            <span className="text-muted-foreground">{data.pos}건 ({posPercent}%)</span>
          </div>
          <div className="h-8 bg-muted rounded-full overflow-hidden">
            <div 
              className="h-full bg-success transition-all duration-500"
              style={{ width: `${posPercent}%` }}
            />
          </div>
        </div>

        <div className="space-y-2">
          <div className="flex items-center justify-between text-sm">
            <span className="font-medium">부정</span>
            <span className="text-muted-foreground">{data.neg}건 ({negPercent}%)</span>
          </div>
          <div className="h-8 bg-muted rounded-full overflow-hidden">
            <div 
              className="h-full bg-destructive transition-all duration-500"
              style={{ width: `${negPercent}%` }}
            />
          </div>
        </div>

        <div className="space-y-2">
          <div className="flex items-center justify-between text-sm">
            <span className="font-medium">중립</span>
            <span className="text-muted-foreground">{data.neu}건 ({neuPercent}%)</span>
          </div>
          <div className="h-8 bg-muted rounded-full overflow-hidden">
            <div 
              className="h-full bg-muted-foreground transition-all duration-500"
              style={{ width: `${neuPercent}%` }}
            />
          </div>
        </div>
      </div>

      {/* Stats */}
      <div className="grid grid-cols-3 gap-4 pt-6 border-t">
        <div className="text-center">
          <div className="text-2xl font-bold text-success">{data.pos}</div>
          <div className="text-xs text-muted-foreground mt-1">긍정 ({posPercent}%)</div>
        </div>
        <div className="text-center">
          <div className="text-2xl font-bold text-destructive">{data.neg}</div>
          <div className="text-xs text-muted-foreground mt-1">부정 ({negPercent}%)</div>
        </div>
        <div className="text-center">
          <div className="text-2xl font-bold text-muted-foreground">{data.neu}</div>
          <div className="text-xs text-muted-foreground mt-1">중립 ({neuPercent}%)</div>
        </div>
      </div>
    </Card>
  );
}

```

---

## frontend/src/components/TaskTemplates.tsx

```tsx
import { useState, useCallback, useMemo } from "react";
import {
  Bookmark,
  BookmarkPlus,
  Trash2,
  Play,
  Edit,
  X,
  Search,
  Globe,
  FileText,
  Database,
  ShoppingCart,
  Newspaper,
  BarChart3,
  Loader2,
  ChevronDown,
  ChevronUp,
  Star,
  Copy,
} from "lucide-react";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Badge } from "@/components/ui/badge";
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from "@/components/ui/card";
import {
  Dialog,
  DialogContent,
  DialogDescription,
  DialogFooter,
  DialogHeader,
  DialogTitle,
  DialogTrigger,
} from "@/components/ui/dialog";
import { Label } from "@/components/ui/label";
import { Textarea } from "@/components/ui/textarea";
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select";
import {
  Collapsible,
  CollapsibleContent,
  CollapsibleTrigger,
} from "@/components/ui/collapsible";
import { ScrollArea } from "@/components/ui/scroll-area";
import { cn } from "@/lib/utils";

export interface TaskTemplate {
  id: string;
  name: string;
  description: string;
  task: string;
  url?: string;
  maxSteps?: number;
  category: TaskCategory;
  icon?: string;
  isBuiltIn?: boolean;
  createdAt: string;
  usageCount?: number;
}

export type TaskCategory = 
  | "news"
  | "research"
  | "ecommerce"
  | "data"
  | "social"
  | "custom";

const CATEGORY_CONFIG: Record<TaskCategory, { label: string; icon: typeof Newspaper; color: string }> = {
  news: { label: "뉴스", icon: Newspaper, color: "text-blue-600" },
  research: { label: "연구", icon: Search, color: "text-purple-600" },
  ecommerce: { label: "쇼핑", icon: ShoppingCart, color: "text-green-600" },
  data: { label: "데이터", icon: BarChart3, color: "text-orange-600" },
  social: { label: "소셜", icon: Globe, color: "text-pink-600" },
  custom: { label: "사용자 정의", icon: FileText, color: "text-gray-600" },
};

/** 기본 제공 템플릿 */
const BUILT_IN_TEMPLATES: TaskTemplate[] = [
  {
    id: "builtin-1",
    name: "뉴스 헤드라인 수집",
    description: "뉴스 사이트에서 최신 헤드라인을 수집합니다",
    task: "Go to the news website and extract the top 10 headlines with their titles, summaries, and URLs. Format the output as a numbered list.",
    url: "",
    maxSteps: 15,
    category: "news",
    isBuiltIn: true,
    createdAt: "2024-01-01",
    usageCount: 0,
  },
  {
    id: "builtin-2",
    name: "Hacker News 인기글",
    description: "Hacker News 프론트페이지 인기글 추출",
    task: "Go to news.ycombinator.com and extract the top 10 stories with their titles, points, comment counts, and URLs.",
    url: "https://news.ycombinator.com",
    maxSteps: 10,
    category: "news",
    isBuiltIn: true,
    createdAt: "2024-01-01",
    usageCount: 0,
  },
  {
    id: "builtin-3",
    name: "Wikipedia 정보 추출",
    description: "Wikipedia에서 특정 주제 정보 수집",
    task: "Search Wikipedia for the given topic and extract the main summary, key facts, and related topics.",
    url: "https://wikipedia.org",
    maxSteps: 15,
    category: "research",
    isBuiltIn: true,
    createdAt: "2024-01-01",
    usageCount: 0,
  },
  {
    id: "builtin-4",
    name: "상품 정보 수집",
    description: "이커머스 사이트에서 상품 정보 추출",
    task: "Find product information including name, price, ratings, and reviews from the given product page or search results.",
    url: "",
    maxSteps: 20,
    category: "ecommerce",
    isBuiltIn: true,
    createdAt: "2024-01-01",
    usageCount: 0,
  },
  {
    id: "builtin-5",
    name: "트렌드 데이터 수집",
    description: "트렌드/통계 데이터 추출",
    task: "Extract trending topics, statistics, or data points from the given page. Format as structured data with dates and values.",
    url: "",
    maxSteps: 20,
    category: "data",
    isBuiltIn: true,
    createdAt: "2024-01-01",
    usageCount: 0,
  },
];

const STORAGE_KEY = "newsinsight-task-templates";

interface TaskTemplatesProps {
  /** 템플릿 선택 시 콜백 */
  onSelectTemplate: (template: TaskTemplate) => void;
  /** 현재 작업이 실행 중인지 */
  disabled?: boolean;
  /** 추가 CSS 클래스 */
  className?: string;
}

/** 로컬 스토리지에서 템플릿 로드 */
const loadTemplates = (): TaskTemplate[] => {
  try {
    const stored = localStorage.getItem(STORAGE_KEY);
    if (stored) {
      const userTemplates = JSON.parse(stored) as TaskTemplate[];
      return [...BUILT_IN_TEMPLATES, ...userTemplates];
    }
  } catch (e) {
    console.error("Failed to load templates:", e);
  }
  return BUILT_IN_TEMPLATES;
};

/** 사용자 템플릿만 저장 */
const saveTemplates = (templates: TaskTemplate[]) => {
  const userTemplates = templates.filter((t) => !t.isBuiltIn);
  localStorage.setItem(STORAGE_KEY, JSON.stringify(userTemplates));
};

export function TaskTemplates({
  onSelectTemplate,
  disabled = false,
  className,
}: TaskTemplatesProps) {
  const [templates, setTemplates] = useState<TaskTemplate[]>(loadTemplates);
  const [isOpen, setIsOpen] = useState(false);
  const [searchQuery, setSearchQuery] = useState("");
  const [selectedCategory, setSelectedCategory] = useState<TaskCategory | "all">("all");
  const [editDialogOpen, setEditDialogOpen] = useState(false);
  const [editingTemplate, setEditingTemplate] = useState<TaskTemplate | null>(null);

  // 새 템플릿 기본값
  const [newTemplate, setNewTemplate] = useState<Partial<TaskTemplate>>({
    name: "",
    description: "",
    task: "",
    url: "",
    maxSteps: 25,
    category: "custom",
  });

  // 필터링된 템플릿
  const filteredTemplates = useMemo(() => {
    return templates.filter((t) => {
      const matchesSearch =
        !searchQuery ||
        t.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
        t.description.toLowerCase().includes(searchQuery.toLowerCase()) ||
        t.task.toLowerCase().includes(searchQuery.toLowerCase());
      
      const matchesCategory =
        selectedCategory === "all" || t.category === selectedCategory;
      
      return matchesSearch && matchesCategory;
    });
  }, [templates, searchQuery, selectedCategory]);

  // 카테고리별 그룹화
  const groupedTemplates = useMemo(() => {
    const groups: Record<string, TaskTemplate[]> = {};
    filteredTemplates.forEach((t) => {
      const key = t.isBuiltIn ? "기본 제공" : "내 템플릿";
      if (!groups[key]) groups[key] = [];
      groups[key].push(t);
    });
    return groups;
  }, [filteredTemplates]);

  // 템플릿 선택
  const handleSelect = useCallback((template: TaskTemplate) => {
    // 사용 횟수 증가
    setTemplates((prev) => {
      const updated = prev.map((t) =>
        t.id === template.id
          ? { ...t, usageCount: (t.usageCount || 0) + 1 }
          : t
      );
      saveTemplates(updated);
      return updated;
    });
    
    onSelectTemplate(template);
    setIsOpen(false);
  }, [onSelectTemplate]);

  // 템플릿 저장
  const handleSave = useCallback(() => {
    if (!newTemplate.name?.trim() || !newTemplate.task?.trim()) return;

    const template: TaskTemplate = {
      id: editingTemplate?.id || `user-${Date.now()}`,
      name: newTemplate.name.trim(),
      description: newTemplate.description?.trim() || "",
      task: newTemplate.task.trim(),
      url: newTemplate.url?.trim() || undefined,
      maxSteps: newTemplate.maxSteps || 25,
      category: newTemplate.category as TaskCategory || "custom",
      isBuiltIn: false,
      createdAt: editingTemplate?.createdAt || new Date().toISOString(),
      usageCount: editingTemplate?.usageCount || 0,
    };

    setTemplates((prev) => {
      let updated: TaskTemplate[];
      if (editingTemplate) {
        updated = prev.map((t) => (t.id === template.id ? template : t));
      } else {
        updated = [...prev, template];
      }
      saveTemplates(updated);
      return updated;
    });

    setEditDialogOpen(false);
    setEditingTemplate(null);
    setNewTemplate({
      name: "",
      description: "",
      task: "",
      url: "",
      maxSteps: 25,
      category: "custom",
    });
  }, [newTemplate, editingTemplate]);

  // 템플릿 삭제
  const handleDelete = useCallback((id: string) => {
    setTemplates((prev) => {
      const updated = prev.filter((t) => t.id !== id);
      saveTemplates(updated);
      return updated;
    });
  }, []);

  // 편집 모드 시작
  const startEdit = useCallback((template: TaskTemplate) => {
    setEditingTemplate(template);
    setNewTemplate({
      name: template.name,
      description: template.description,
      task: template.task,
      url: template.url,
      maxSteps: template.maxSteps,
      category: template.category,
    });
    setEditDialogOpen(true);
  }, []);

  return (
    <Collapsible open={isOpen} onOpenChange={setIsOpen} className={className}>
      <CollapsibleTrigger asChild>
        <Button
          variant="outline"
          className="w-full justify-between"
          disabled={disabled}
        >
          <div className="flex items-center gap-2">
            <Bookmark className="h-4 w-4" />
            <span>작업 템플릿</span>
            <Badge variant="secondary" className="ml-1">
              {templates.length}
            </Badge>
          </div>
          {isOpen ? (
            <ChevronUp className="h-4 w-4" />
          ) : (
            <ChevronDown className="h-4 w-4" />
          )}
        </Button>
      </CollapsibleTrigger>

      <CollapsibleContent className="mt-3 space-y-3">
        {/* 검색 및 필터 */}
        <div className="flex gap-2">
          <div className="relative flex-1">
            <Search className="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground" />
            <Input
              value={searchQuery}
              onChange={(e) => setSearchQuery(e.target.value)}
              placeholder="템플릿 검색..."
              className="pl-9"
            />
          </div>
          <Select
            value={selectedCategory}
            onValueChange={(v) => setSelectedCategory(v as TaskCategory | "all")}
          >
            <SelectTrigger className="w-[120px]">
              <SelectValue />
            </SelectTrigger>
            <SelectContent>
              <SelectItem value="all">전체</SelectItem>
              {Object.entries(CATEGORY_CONFIG).map(([key, config]) => (
                <SelectItem key={key} value={key}>
                  {config.label}
                </SelectItem>
              ))}
            </SelectContent>
          </Select>
          
          {/* 새 템플릿 추가 */}
          <Dialog open={editDialogOpen} onOpenChange={setEditDialogOpen}>
            <DialogTrigger asChild>
              <Button
                variant="outline"
                size="icon"
                onClick={() => {
                  setEditingTemplate(null);
                  setNewTemplate({
                    name: "",
                    description: "",
                    task: "",
                    url: "",
                    maxSteps: 25,
                    category: "custom",
                  });
                }}
              >
                <BookmarkPlus className="h-4 w-4" />
              </Button>
            </DialogTrigger>
            <DialogContent className="sm:max-w-[500px]">
              <DialogHeader>
                <DialogTitle>
                  {editingTemplate ? "템플릿 수정" : "새 템플릿 만들기"}
                </DialogTitle>
                <DialogDescription>
                  자주 사용하는 작업을 템플릿으로 저장하여 빠르게 재사용하세요.
                </DialogDescription>
              </DialogHeader>
              <div className="space-y-4 py-4">
                <div className="space-y-2">
                  <Label htmlFor="name">템플릿 이름 *</Label>
                  <Input
                    id="name"
                    value={newTemplate.name}
                    onChange={(e) =>
                      setNewTemplate((p) => ({ ...p, name: e.target.value }))
                    }
                    placeholder="예: 뉴스 헤드라인 수집"
                  />
                </div>
                <div className="space-y-2">
                  <Label htmlFor="description">설명</Label>
                  <Input
                    id="description"
                    value={newTemplate.description}
                    onChange={(e) =>
                      setNewTemplate((p) => ({ ...p, description: e.target.value }))
                    }
                    placeholder="템플릿에 대한 간단한 설명"
                  />
                </div>
                <div className="space-y-2">
                  <Label htmlFor="task">작업 내용 *</Label>
                  <Textarea
                    id="task"
                    value={newTemplate.task}
                    onChange={(e) =>
                      setNewTemplate((p) => ({ ...p, task: e.target.value }))
                    }
                    placeholder="AI 에이전트가 수행할 작업을 자세히 설명하세요"
                    rows={4}
                  />
                </div>
                <div className="grid grid-cols-2 gap-4">
                  <div className="space-y-2">
                    <Label htmlFor="url">시작 URL</Label>
                    <Input
                      id="url"
                      value={newTemplate.url}
                      onChange={(e) =>
                        setNewTemplate((p) => ({ ...p, url: e.target.value }))
                      }
                      placeholder="https://..."
                    />
                  </div>
                  <div className="space-y-2">
                    <Label htmlFor="maxSteps">최대 단계</Label>
                    <Input
                      id="maxSteps"
                      type="number"
                      value={newTemplate.maxSteps}
                      onChange={(e) =>
                        setNewTemplate((p) => ({
                          ...p,
                          maxSteps: parseInt(e.target.value) || 25,
                        }))
                      }
                      min={1}
                      max={100}
                    />
                  </div>
                </div>
                <div className="space-y-2">
                  <Label>카테고리</Label>
                  <Select
                    value={newTemplate.category}
                    onValueChange={(v) =>
                      setNewTemplate((p) => ({ ...p, category: v as TaskCategory }))
                    }
                  >
                    <SelectTrigger>
                      <SelectValue />
                    </SelectTrigger>
                    <SelectContent>
                      {Object.entries(CATEGORY_CONFIG).map(([key, config]) => {
                        const Icon = config.icon;
                        return (
                          <SelectItem key={key} value={key}>
                            <div className="flex items-center gap-2">
                              <Icon className={cn("h-4 w-4", config.color)} />
                              {config.label}
                            </div>
                          </SelectItem>
                        );
                      })}
                    </SelectContent>
                  </Select>
                </div>
              </div>
              <DialogFooter>
                <Button variant="outline" onClick={() => setEditDialogOpen(false)}>
                  취소
                </Button>
                <Button
                  onClick={handleSave}
                  disabled={!newTemplate.name?.trim() || !newTemplate.task?.trim()}
                >
                  {editingTemplate ? "수정" : "저장"}
                </Button>
              </DialogFooter>
            </DialogContent>
          </Dialog>
        </div>

        {/* 템플릿 목록 */}
        <ScrollArea className="h-[300px] pr-2">
          {filteredTemplates.length === 0 ? (
            <div className="text-center py-8 text-muted-foreground">
              <Bookmark className="h-8 w-8 mx-auto mb-2 opacity-50" />
              <p>검색 결과가 없습니다</p>
            </div>
          ) : (
            <div className="space-y-4">
              {Object.entries(groupedTemplates).map(([group, items]) => (
                <div key={group}>
                  <h4 className="text-sm font-medium text-muted-foreground mb-2">
                    {group}
                  </h4>
                  <div className="space-y-2">
                    {items.map((template) => {
                      const categoryConfig = CATEGORY_CONFIG[template.category];
                      const Icon = categoryConfig.icon;
                      
                      return (
                        <div
                          key={template.id}
                          className="flex items-start gap-3 p-3 rounded-lg border bg-card hover:bg-muted/50 transition-colors"
                        >
                          <div className={cn("p-2 rounded-lg bg-muted", categoryConfig.color)}>
                            <Icon className="h-4 w-4" />
                          </div>
                          <div className="flex-1 min-w-0">
                            <div className="flex items-center gap-2">
                              <h5 className="font-medium text-sm truncate">
                                {template.name}
                              </h5>
                              {template.isBuiltIn && (
                                <Badge variant="secondary" className="text-xs shrink-0">
                                  기본
                                </Badge>
                              )}
                            </div>
                            <p className="text-xs text-muted-foreground line-clamp-1 mt-0.5">
                              {template.description || template.task}
                            </p>
                            {template.url && (
                              <p className="text-xs text-blue-600 truncate mt-0.5">
                                {template.url}
                              </p>
                            )}
                          </div>
                          <div className="flex items-center gap-1 shrink-0">
                            {/* 사용하기 */}
                            <Button
                              variant="ghost"
                              size="icon"
                              className="h-8 w-8"
                              onClick={() => handleSelect(template)}
                              title="이 템플릿 사용"
                            >
                              <Play className="h-4 w-4" />
                            </Button>
                            
                            {/* 편집 (사용자 템플릿만) */}
                            {!template.isBuiltIn && (
                              <Button
                                variant="ghost"
                                size="icon"
                                className="h-8 w-8"
                                onClick={() => startEdit(template)}
                                title="수정"
                              >
                                <Edit className="h-4 w-4" />
                              </Button>
                            )}
                            
                            {/* 삭제 (사용자 템플릿만) */}
                            {!template.isBuiltIn && (
                              <Button
                                variant="ghost"
                                size="icon"
                                className="h-8 w-8 text-destructive hover:text-destructive"
                                onClick={() => handleDelete(template.id)}
                                title="삭제"
                              >
                                <Trash2 className="h-4 w-4" />
                              </Button>
                            )}
                          </div>
                        </div>
                      );
                    })}
                  </div>
                </div>
              ))}
            </div>
          )}
        </ScrollArea>
      </CollapsibleContent>
    </Collapsible>
  );
}

export default TaskTemplates;

```

---

## frontend/src/components/ThemeToggle.tsx

```tsx
import { Moon, Sun, Monitor } from "lucide-react";
import { Button } from "@/components/ui/button";
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu";
import {
  Tooltip,
  TooltipContent,
  TooltipTrigger,
} from "@/components/ui/tooltip";
import { useTheme } from "@/contexts/ThemeContext";
import { cn } from "@/lib/utils";

interface ThemeToggleProps {
  /** 버튼 변형 */
  variant?: "icon" | "dropdown" | "switch";
  /** 크기 */
  size?: "sm" | "default" | "lg";
  /** 추가 CSS 클래스 */
  className?: string;
}

/** 아이콘만 있는 간단한 토글 버튼 */
const IconToggle = ({ size = "default", className }: Pick<ThemeToggleProps, "size" | "className">) => {
  const { resolvedTheme, toggleTheme, theme } = useTheme();

  const iconSize = size === "sm" ? "h-4 w-4" : size === "lg" ? "h-6 w-6" : "h-5 w-5";
  const buttonSize = size === "sm" ? "h-8 w-8" : size === "lg" ? "h-12 w-12" : "h-10 w-10";

  const getTooltipText = () => {
    if (theme === "light") return "다크 모드로 전환";
    if (theme === "dark") return "시스템 설정 사용";
    return "라이트 모드로 전환";
  };

  return (
    <Tooltip>
      <TooltipTrigger asChild>
        <Button
          variant="ghost"
          size="icon"
          onClick={toggleTheme}
          className={cn(buttonSize, "relative", className)}
          aria-label="테마 전환"
        >
          {theme === "system" ? (
            <Monitor className={cn(iconSize, "text-muted-foreground")} />
          ) : resolvedTheme === "dark" ? (
            <Moon className={cn(iconSize, "text-blue-400")} />
          ) : (
            <Sun className={cn(iconSize, "text-yellow-500")} />
          )}
        </Button>
      </TooltipTrigger>
      <TooltipContent>
        <p>{getTooltipText()}</p>
      </TooltipContent>
    </Tooltip>
  );
};

/** 드롭다운 메뉴 형태의 테마 선택 */
const DropdownToggle = ({ size = "default", className }: Pick<ThemeToggleProps, "size" | "className">) => {
  const { theme, setTheme, resolvedTheme } = useTheme();

  const iconSize = size === "sm" ? "h-4 w-4" : size === "lg" ? "h-6 w-6" : "h-5 w-5";

  return (
    <DropdownMenu>
      <DropdownMenuTrigger asChild>
        <Button variant="ghost" size="icon" className={className}>
          {theme === "system" ? (
            <Monitor className={cn(iconSize, "text-muted-foreground")} />
          ) : resolvedTheme === "dark" ? (
            <Moon className={cn(iconSize, "text-blue-400")} />
          ) : (
            <Sun className={cn(iconSize, "text-yellow-500")} />
          )}
          <span className="sr-only">테마 선택</span>
        </Button>
      </DropdownMenuTrigger>
      <DropdownMenuContent align="end">
        <DropdownMenuItem
          onClick={() => setTheme("light")}
          className={cn(theme === "light" && "bg-accent")}
        >
          <Sun className="h-4 w-4 mr-2 text-yellow-500" />
          라이트
        </DropdownMenuItem>
        <DropdownMenuItem
          onClick={() => setTheme("dark")}
          className={cn(theme === "dark" && "bg-accent")}
        >
          <Moon className="h-4 w-4 mr-2 text-blue-400" />
          다크
        </DropdownMenuItem>
        <DropdownMenuItem
          onClick={() => setTheme("system")}
          className={cn(theme === "system" && "bg-accent")}
        >
          <Monitor className="h-4 w-4 mr-2" />
          시스템
        </DropdownMenuItem>
      </DropdownMenuContent>
    </DropdownMenu>
  );
};

/** 스위치 형태의 토글 (라이트/다크만) */
const SwitchToggle = ({ className }: Pick<ThemeToggleProps, "className">) => {
  const { resolvedTheme, setTheme } = useTheme();
  const isDark = resolvedTheme === "dark";

  const handleToggle = () => {
    setTheme(isDark ? "light" : "dark");
  };

  return (
    <button
      role="switch"
      aria-checked={isDark}
      onClick={handleToggle}
      className={cn(
        "relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",
        isDark ? "bg-blue-600" : "bg-yellow-400",
        className
      )}
    >
      <span className="sr-only">다크 모드 {isDark ? "끄기" : "켜기"}</span>
      <span
        className={cn(
          "pointer-events-none inline-flex h-5 w-5 transform items-center justify-center rounded-full bg-white shadow-lg ring-0 transition-transform",
          isDark ? "translate-x-5" : "translate-x-0.5"
        )}
      >
        {isDark ? (
          <Moon className="h-3 w-3 text-blue-600" />
        ) : (
          <Sun className="h-3 w-3 text-yellow-500" />
        )}
      </span>
    </button>
  );
};

/** 메인 ThemeToggle 컴포넌트 */
export const ThemeToggle = ({ variant = "icon", size = "default", className }: ThemeToggleProps) => {
  switch (variant) {
    case "dropdown":
      return <DropdownToggle size={size} className={className} />;
    case "switch":
      return <SwitchToggle className={className} />;
    case "icon":
    default:
      return <IconToggle size={size} className={className} />;
  }
};

export default ThemeToggle;

```

---

## frontend/src/components/UnifiedExportMenu.tsx

```tsx
/**
 * UnifiedExportMenu - 통합 내보내기 메뉴
 * 
 * PDF 보고서, AI 분석 내보내기, 데이터 내보내기를 하나의 드롭다운으로 통합
 */

import { useState, useCallback } from 'react';
import {
  Download,
  FileText,
  FileJson,
  FileSpreadsheet,
  FileCode,
  FileType2,
  Copy,
  Check,
  ChevronDown,
  Loader2,
  Settings2,
  Clock,
  CheckCircle2,
  XCircle,
} from 'lucide-react';
import { Button } from '@/components/ui/button';
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuLabel,
  DropdownMenuSeparator,
  DropdownMenuSub,
  DropdownMenuSubContent,
  DropdownMenuSubTrigger,
  DropdownMenuTrigger,
} from '@/components/ui/dropdown-menu';
import {
  Dialog,
  DialogContent,
  DialogDescription,
  DialogFooter,
  DialogHeader,
  DialogTitle,
} from '@/components/ui/dialog';
import { Checkbox } from '@/components/ui/checkbox';
import { Label } from '@/components/ui/label';
import { toast } from 'sonner';
import {
  exportUnifiedSearchReport,
  exportDeepSearchReport,
  requestUnifiedSearchReport,
  getReportStatus,
  downloadReport,
  triggerPdfDownload,
  type ReportRequest,
  type ReportSection,
  type ReportType,
  type ReportMetadata,
  DEFAULT_REPORT_SECTIONS,
} from '@/lib/api';
import { useExport, type ExportFormat, type ExportableSearchResult, type ExportOptions } from '@/hooks/useExport';
import type { ChartExportHandle } from '@/components/charts';

// ============================================
// Types
// ============================================

interface UnifiedExportMenuProps {
  /** Job ID for PDF report generation */
  jobId?: string;
  /** Search query */
  query: string;
  /** Report type */
  reportType?: ReportType;
  /** Time window */
  timeWindow?: string;
  /** AI analysis content (markdown) for analysis export */
  aiContent?: string;
  /** Structured data for JSON/CSV export */
  data?: ExportableSearchResult[];
  /** Chart refs for capturing chart images */
  chartRefs?: Record<string, React.RefObject<ChartExportHandle>>;
  /** Export options */
  exportOptions?: ExportOptions;
  /** Button variant */
  variant?: 'default' | 'outline' | 'ghost' | 'secondary';
  /** Button size */
  size?: 'default' | 'sm' | 'lg' | 'icon';
  /** Additional CSS classes */
  className?: string;
  /** Disable the button */
  disabled?: boolean;
  /** Show icon only */
  iconOnly?: boolean;
}

interface SectionOption {
  id: ReportSection;
  label: string;
  description: string;
}

// ============================================
// Constants
// ============================================

const ALL_SECTIONS: SectionOption[] = [
  { id: 'COVER', label: '표지', description: '보고서 표지 및 기본 정보' },
  { id: 'EXECUTIVE_SUMMARY', label: '요약', description: 'AI 분석 요약 및 핵심 인사이트' },
  { id: 'DATA_SOURCE', label: '데이터 소스', description: '검색 소스별 결과 분포' },
  { id: 'TREND_ANALYSIS', label: '트렌드 분석', description: '시간대별 기사 추이' },
  { id: 'KEYWORD_ANALYSIS', label: '키워드 분석', description: '주요 키워드 및 빈도' },
  { id: 'SENTIMENT_ANALYSIS', label: '감정 분석', description: '긍정/부정/중립 분포' },
  { id: 'RELIABILITY', label: '신뢰도 분석', description: '출처별 신뢰도 평가' },
  { id: 'BIAS_ANALYSIS', label: '편향성 분석', description: '정치적/이념적 편향 분석' },
  { id: 'FACTCHECK', label: '팩트체크', description: '주요 주장 검증 결과' },
  { id: 'EVIDENCE_LIST', label: '증거 목록', description: '수집된 증거 및 출처' },
  { id: 'DETAILED_RESULTS', label: '상세 결과', description: '개별 기사 상세 정보' },
];

// ============================================
// Utility Functions
// ============================================

/**
 * Generate HTML report from markdown content
 */
const generateHtmlReport = (content: string, query: string): string => {
  const timestamp = new Date().toLocaleString('ko-KR');
  
  return `<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NewsInsight AI 분석 - ${query}</title>
  <style>
    :root {
      --primary: #7c3aed;
      --primary-light: #a78bfa;
      --bg: #ffffff;
      --text: #1f2937;
      --text-muted: #6b7280;
      --border: #e5e7eb;
    }
    
    @media (prefers-color-scheme: dark) {
      :root {
        --bg: #111827;
        --text: #f9fafb;
        --text-muted: #9ca3af;
        --border: #374151;
      }
    }
    
    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Noto Sans KR', sans-serif;
      line-height: 1.7;
      color: var(--text);
      background: var(--bg);
      max-width: 900px;
      margin: 0 auto;
      padding: 2rem;
    }
    
    header {
      text-align: center;
      padding-bottom: 2rem;
      margin-bottom: 2rem;
      border-bottom: 2px solid var(--primary);
    }
    
    header h1 {
      color: var(--primary);
      font-size: 1.5rem;
      margin-bottom: 0.5rem;
    }
    
    header .query {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }
    
    header .meta {
      color: var(--text-muted);
      font-size: 0.875rem;
    }
    
    h2, h3 {
      margin: 1.5rem 0 1rem;
      border-left: 4px solid var(--primary);
      padding-left: 1rem;
    }
    
    h2 { font-size: 1.25rem; }
    h3 { font-size: 1rem; }
    
    p { margin: 0.75rem 0; }
    
    ul, ol { padding-left: 1.5rem; margin: 0.75rem 0; }
    li { margin: 0.5rem 0; }
    
    strong { font-weight: 600; }
    
    a { color: var(--primary); text-decoration: none; }
    a:hover { text-decoration: underline; }
    
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 1rem 0;
      font-size: 0.9rem;
    }
    
    th, td {
      padding: 0.75rem 1rem;
      text-align: left;
      border-bottom: 1px solid var(--border);
    }
    
    th { background: var(--border); font-weight: 600; }
    
    blockquote {
      margin: 1rem 0;
      padding: 0.75rem 1rem;
      border-left: 4px solid var(--primary-light);
      background: rgba(124, 58, 237, 0.05);
      font-style: italic;
    }
    
    code {
      background: var(--border);
      padding: 0.125rem 0.375rem;
      border-radius: 0.25rem;
      font-size: 0.875em;
    }
    
    hr {
      border: none;
      border-top: 2px dashed var(--border);
      margin: 2rem 0;
    }
    
    footer {
      margin-top: 3rem;
      padding-top: 1.5rem;
      border-top: 1px solid var(--border);
      text-align: center;
      color: var(--text-muted);
      font-size: 0.875rem;
    }
    
    @media print {
      body { padding: 1rem; }
      h2 { break-after: avoid; }
      table { break-inside: avoid; }
    }
  </style>
</head>
<body>
  <header>
    <h1>NewsInsight AI 분석 보고서</h1>
    <div class="query">"${query}"</div>
    <div class="meta">생성 시간: ${timestamp}</div>
  </header>
  
  <main>
    ${markdownToHtml(content)}
  </main>
  
  <footer>
    <p>이 보고서는 NewsInsight AI에 의해 자동 생성되었습니다.</p>
    <p>모든 정보는 참고용이며, 최종 판단은 사용자의 몫입니다.</p>
  </footer>
</body>
</html>`;
};

/**
 * Simple markdown to HTML conversion
 */
const markdownToHtml = (md: string): string => {
  return md
    .replace(/^### \[([^\]]+)\] (.+)$/gm, '<h3>$1: $2</h3>')
    .replace(/^### (.+)$/gm, '<h3>$1</h3>')
    .replace(/^## \[([^\]]+)\] (.+)$/gm, '<h2>$1: $2</h2>')
    .replace(/^## (.+)$/gm, '<h2>$1</h2>')
    .replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>')
    .replace(/\*(.+?)\*/g, '<em>$1</em>')
    .replace(/\[([^\]]+)\]\(([^)]+)\)/g, '<a href="$2" target="_blank">$1</a>')
    .replace(/^- (.+)$/gm, '<li>$1</li>')
    .replace(/(<li>.*<\/li>\n?)+/gs, '<ul>$&</ul>')
    .replace(/^> (.+)$/gm, '<blockquote>$1</blockquote>')
    .replace(/`([^`]+)`/g, '<code>$1</code>')
    .replace(/^---$/gm, '<hr>')
    .replace(/^(?!<[a-z])(.*[^\n])$/gm, '<p>$1</p>')
    .replace(/<p>\s*<\/p>/g, '');
};

/**
 * Download file utility
 */
const downloadFile = (content: string, filename: string, mimeType: string) => {
  const blob = new Blob([content], { type: mimeType });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = filename;
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
  URL.revokeObjectURL(url);
};

// ============================================
// Component
// ============================================

/**
 * Unified Export Menu Component
 * 
 * Combines PDF report, AI analysis export, and data export into a single dropdown.
 */
export function UnifiedExportMenu({
  jobId,
  query,
  reportType = 'UNIFIED_SEARCH',
  timeWindow = '7d',
  aiContent,
  data,
  chartRefs,
  exportOptions = {},
  variant = 'outline',
  size = 'default',
  className,
  disabled = false,
  iconOnly = false,
}: UnifiedExportMenuProps) {
  const [isExporting, setIsExporting] = useState(false);
  const [copied, setCopied] = useState(false);
  const [pdfDialogOpen, setPdfDialogOpen] = useState(false);
  const [selectedSections, setSelectedSections] = useState<ReportSection[]>(
    DEFAULT_REPORT_SECTIONS[reportType]
  );
  
  // Async export state
  const [asyncExportMode, setAsyncExportMode] = useState(false);
  const [asyncReportStatus, setAsyncReportStatus] = useState<ReportMetadata | null>(null);
  const [asyncProgressDialogOpen, setAsyncProgressDialogOpen] = useState(false);
  
  const { exportData, copyToClipboard } = useExport();
  
  // Generate base filename
  const timestamp = new Date().toISOString().slice(0, 10).replace(/-/g, '');
  const safeQuery = query.replace(/[^가-힣a-zA-Z0-9]/g, '_').slice(0, 30);
  const typeLabel = reportType === 'DEEP_SEARCH' ? 'DeepSearch' : '통합검색';
  const baseFilename = `NewsInsight_${typeLabel}_${safeQuery}_${timestamp}`;

  // Capture chart images for PDF
  const captureChartImages = useCallback((): Record<string, string> => {
    const images: Record<string, string> = {};
    if (chartRefs) {
      for (const [key, ref] of Object.entries(chartRefs)) {
        if (ref.current) {
          const base64 = ref.current.toBase64();
          if (base64) {
            images[key] = base64;
          }
        }
      }
    }
    return images;
  }, [chartRefs]);

  // PDF Export with dialog
  const handlePdfExport = async () => {
    if (!jobId) {
      toast.error('PDF 내보내기는 검색 작업 ID가 필요합니다.');
      return;
    }
    
    setIsExporting(true);
    try {
      const chartImages = captureChartImages();
      
      const request: ReportRequest = {
        reportType,
        targetId: jobId,
        query,
        timeWindow,
        includeSections: selectedSections,
        chartImages,
        language: 'ko',
      };

      let blob: Blob;
      if (reportType === 'DEEP_SEARCH') {
        blob = await exportDeepSearchReport(jobId, request);
      } else {
        blob = await exportUnifiedSearchReport(jobId, request);
      }

      triggerPdfDownload(blob, `${baseFilename}.pdf`);
      toast.success('PDF 보고서가 다운로드되었습니다.');
      setPdfDialogOpen(false);
    } catch (error) {
      console.error('PDF export failed:', error);
      toast.error('PDF 보고서 생성에 실패했습니다.');
    } finally {
      setIsExporting(false);
    }
  };

  // Async PDF Export with polling (for large reports)
  const handleAsyncPdfExport = async () => {
    if (!jobId) {
      toast.error('PDF 내보내기는 검색 작업 ID가 필요합니다.');
      return;
    }
    
    setIsExporting(true);
    setAsyncProgressDialogOpen(true);
    setPdfDialogOpen(false);
    
    try {
      const chartImages = captureChartImages();
      
      const request: ReportRequest = {
        reportType,
        targetId: jobId,
        query,
        timeWindow,
        includeSections: selectedSections,
        chartImages,
        language: 'ko',
      };

      // Request async report generation
      const initialStatus = await requestUnifiedSearchReport(jobId, request);
      setAsyncReportStatus(initialStatus);
      
      if (initialStatus.status === 'COMPLETED' && initialStatus.reportId) {
        // Report was cached or generated immediately
        const blob = await downloadReport(initialStatus.reportId);
        triggerPdfDownload(blob, `${baseFilename}.pdf`);
        toast.success('PDF 보고서가 다운로드되었습니다.');
        setAsyncProgressDialogOpen(false);
        setAsyncReportStatus(null);
        return;
      }
      
      // Poll for completion
      const reportId = initialStatus.reportId;
      const maxWaitMs = 120000; // 2 minutes
      const pollIntervalMs = 2000; // 2 seconds
      const startTime = Date.now();
      
      while (Date.now() - startTime < maxWaitMs) {
        await new Promise(resolve => setTimeout(resolve, pollIntervalMs));
        
        const status = await getReportStatus(reportId);
        setAsyncReportStatus(status);
        
        if (status.status === 'COMPLETED') {
          const blob = await downloadReport(reportId);
          triggerPdfDownload(blob, `${baseFilename}.pdf`);
          toast.success('PDF 보고서가 다운로드되었습니다.');
          setAsyncProgressDialogOpen(false);
          setAsyncReportStatus(null);
          return;
        }
        
        if (status.status === 'FAILED' || status.status === 'EXPIRED') {
          throw new Error(status.errorMessage || '보고서 생성에 실패했습니다.');
        }
      }
      
      throw new Error('보고서 생성 시간이 초과되었습니다.');
    } catch (error) {
      console.error('Async PDF export failed:', error);
      toast.error(error instanceof Error ? error.message : 'PDF 보고서 생성에 실패했습니다.');
      setAsyncReportStatus(null);
    } finally {
      setIsExporting(false);
    }
  };

  // Cancel/close async progress dialog
  const handleCancelAsyncExport = () => {
    setAsyncProgressDialogOpen(false);
    setAsyncReportStatus(null);
    setIsExporting(false);
  };

  // AI Content exports
  const handleMarkdownExport = useCallback(() => {
    if (!aiContent) {
      toast.error('내보낼 AI 분석 내용이 없습니다.');
      return;
    }
    
    const mdContent = `# NewsInsight AI 분석 보고서

**검색어**: ${query}  
**생성 시간**: ${new Date().toLocaleString('ko-KR')}

---

${aiContent}

---

*이 보고서는 NewsInsight AI에 의해 자동 생성되었습니다.*
`;
    downloadFile(mdContent, `${baseFilename}_AI분석.md`, 'text/markdown;charset=utf-8');
    toast.success('Markdown 파일이 다운로드되었습니다.');
  }, [aiContent, query, baseFilename]);

  const handleHtmlExport = useCallback(() => {
    if (!aiContent) {
      toast.error('내보낼 AI 분석 내용이 없습니다.');
      return;
    }
    
    const htmlContent = generateHtmlReport(aiContent, query);
    downloadFile(htmlContent, `${baseFilename}_AI분석.html`, 'text/html;charset=utf-8');
    toast.success('HTML 파일이 다운로드되었습니다.');
  }, [aiContent, query, baseFilename]);

  const handleTextExport = useCallback(() => {
    if (!aiContent) {
      toast.error('내보낼 AI 분석 내용이 없습니다.');
      return;
    }
    
    const plainText = aiContent
      .replace(/#{1,6}\s/g, '')
      .replace(/\*\*(.+?)\*\*/g, '$1')
      .replace(/\*(.+?)\*/g, '$1')
      .replace(/\[([^\]]+)\]\([^)]+\)/g, '$1')
      .replace(/`([^`]+)`/g, '$1')
      .replace(/\|/g, ' | ');
    
    const textContent = `NewsInsight AI 분석 보고서
========================================

검색어: ${query}
생성 시간: ${new Date().toLocaleString('ko-KR')}

========================================

${plainText}

========================================

이 보고서는 NewsInsight AI에 의해 자동 생성되었습니다.
`;
    downloadFile(textContent, `${baseFilename}_AI분석.txt`, 'text/plain;charset=utf-8');
    toast.success('텍스트 파일이 다운로드되었습니다.');
  }, [aiContent, query, baseFilename]);

  // Data exports (JSON/CSV)
  const handleDataExport = (format: ExportFormat) => {
    if (!data || data.length === 0) {
      toast.error('내보낼 데이터가 없습니다.');
      return;
    }
    exportData(data, format, { ...exportOptions, filename: baseFilename });
  };

  // Clipboard
  const handleCopy = async (type: 'ai' | 'data') => {
    try {
      if (type === 'ai' && aiContent) {
        await navigator.clipboard.writeText(aiContent);
      } else if (type === 'data' && data) {
        await copyToClipboard(data, 'json');
      } else {
        toast.error('복사할 내용이 없습니다.');
        return;
      }
      setCopied(true);
      toast.success('클립보드에 복사되었습니다.');
      setTimeout(() => setCopied(false), 2000);
    } catch {
      toast.error('복사에 실패했습니다.');
    }
  };

  // Section selection for PDF
  const toggleSection = (sectionId: ReportSection) => {
    setSelectedSections((prev) =>
      prev.includes(sectionId)
        ? prev.filter((s) => s !== sectionId)
        : [...prev, sectionId]
    );
  };

  const selectAllSections = () => {
    setSelectedSections(ALL_SECTIONS.map((s) => s.id));
  };

  const selectDefaultSections = () => {
    setSelectedSections(DEFAULT_REPORT_SECTIONS[reportType]);
  };

  const availableSections = ALL_SECTIONS.filter((section) => {
    if (reportType === 'UNIFIED_SEARCH') {
      return section.id !== 'EVIDENCE_LIST';
    }
    if (reportType === 'DEEP_SEARCH') {
      return section.id !== 'TREND_ANALYSIS' && section.id !== 'KEYWORD_ANALYSIS';
    }
    return true;
  });

  const hasAnyContent = jobId || aiContent || (data && data.length > 0);
  const isDisabled = disabled || !hasAnyContent;

  return (
    <>
      <DropdownMenu>
        <DropdownMenuTrigger asChild>
          <Button
            variant={variant}
            size={size}
            disabled={isDisabled || isExporting}
            className={className}
            aria-label="내보내기"
          >
            {isExporting ? (
              <Loader2 className="h-4 w-4 animate-spin" />
            ) : (
              <Download className="h-4 w-4" />
            )}
            {!iconOnly && (
              <>
                <span className="ml-2">내보내기</span>
                <ChevronDown className="ml-1 h-3 w-3" />
              </>
            )}
          </Button>
        </DropdownMenuTrigger>
        <DropdownMenuContent align="end" className="w-56">
          {/* PDF Report Section */}
          {jobId && (
            <>
              <DropdownMenuLabel className="flex items-center gap-2">
                <FileText className="h-4 w-4 text-red-600" />
                PDF 보고서
              </DropdownMenuLabel>
              <DropdownMenuItem onClick={() => setPdfDialogOpen(true)}>
                <Settings2 className="h-4 w-4 mr-2" />
                PDF 보고서 생성...
              </DropdownMenuItem>
              <DropdownMenuSeparator />
            </>
          )}

          {/* AI Analysis Export Section */}
          {aiContent && (
            <>
              <DropdownMenuLabel className="flex items-center gap-2">
                <FileCode className="h-4 w-4 text-purple-600" />
                AI 분석 내보내기
              </DropdownMenuLabel>
              <DropdownMenuItem onClick={handleMarkdownExport}>
                <FileCode className="h-4 w-4 mr-2 text-blue-600" />
                Markdown (.md)
              </DropdownMenuItem>
              <DropdownMenuItem onClick={handleHtmlExport}>
                <FileType2 className="h-4 w-4 mr-2 text-orange-600" />
                HTML 웹페이지
              </DropdownMenuItem>
              <DropdownMenuItem onClick={handleTextExport}>
                <FileText className="h-4 w-4 mr-2 text-gray-600" />
                텍스트 (.txt)
              </DropdownMenuItem>
              <DropdownMenuItem onClick={() => handleCopy('ai')}>
                {copied ? (
                  <Check className="h-4 w-4 mr-2 text-green-600" />
                ) : (
                  <Copy className="h-4 w-4 mr-2" />
                )}
                AI 분석 복사
              </DropdownMenuItem>
              <DropdownMenuSeparator />
            </>
          )}

          {/* Data Export Section */}
          {data && data.length > 0 && (
            <>
              <DropdownMenuLabel className="flex items-center gap-2">
                <FileJson className="h-4 w-4 text-yellow-600" />
                데이터 내보내기
              </DropdownMenuLabel>
              <DropdownMenuItem onClick={() => handleDataExport('json')}>
                <FileJson className="h-4 w-4 mr-2 text-yellow-600" />
                JSON으로 내보내기
              </DropdownMenuItem>
              <DropdownMenuItem onClick={() => handleDataExport('csv')}>
                <FileSpreadsheet className="h-4 w-4 mr-2 text-green-600" />
                CSV로 내보내기
              </DropdownMenuItem>
              <DropdownMenuItem onClick={() => handleDataExport('markdown')}>
                <FileCode className="h-4 w-4 mr-2 text-blue-600" />
                Markdown 테이블
              </DropdownMenuItem>
              <DropdownMenuSeparator />
              <DropdownMenuItem onClick={() => handleCopy('data')}>
                {copied ? (
                  <Check className="h-4 w-4 mr-2 text-green-600" />
                ) : (
                  <Copy className="h-4 w-4 mr-2" />
                )}
                데이터 복사 (JSON)
              </DropdownMenuItem>
            </>
          )}

          {/* Fallback if nothing is available */}
          {!hasAnyContent && (
            <DropdownMenuItem disabled>
              내보낼 내용이 없습니다
            </DropdownMenuItem>
          )}
        </DropdownMenuContent>
      </DropdownMenu>

      {/* PDF Section Selection Dialog */}
      <Dialog open={pdfDialogOpen} onOpenChange={setPdfDialogOpen}>
        <DialogContent className="sm:max-w-[500px]">
          <DialogHeader>
            <DialogTitle>PDF 보고서 내보내기</DialogTitle>
            <DialogDescription>
              보고서에 포함할 섹션을 선택하세요.
            </DialogDescription>
          </DialogHeader>

          <div className="py-4">
            {/* Quick actions */}
            <div className="flex gap-2 mb-4">
              <Button variant="outline" size="sm" onClick={selectAllSections}>
                전체 선택
              </Button>
              <Button variant="outline" size="sm" onClick={selectDefaultSections}>
                기본값
              </Button>
            </div>

            {/* Section selection */}
            <div className="space-y-3 max-h-[300px] overflow-y-auto pr-2">
              {availableSections.map((section) => (
                <div
                  key={section.id}
                  className="flex items-start space-x-3 p-2 rounded-lg hover:bg-muted/50 transition-colors"
                >
                  <Checkbox
                    id={section.id}
                    checked={selectedSections.includes(section.id)}
                    onCheckedChange={() => toggleSection(section.id)}
                  />
                  <div className="flex-1">
                    <Label
                      htmlFor={section.id}
                      className="text-sm font-medium cursor-pointer"
                    >
                      {section.label}
                    </Label>
                    <p className="text-xs text-muted-foreground">
                      {section.description}
                    </p>
                  </div>
                </div>
              ))}
            </div>

            {/* Summary */}
            <div className="mt-4 pt-4 border-t text-sm text-muted-foreground">
              {selectedSections.length}개 섹션 선택됨
            </div>

            {/* Async mode toggle */}
            <div className="mt-4 pt-4 border-t">
              <div className="flex items-start space-x-3 p-2 rounded-lg hover:bg-muted/50 transition-colors">
                <Checkbox
                  id="async-mode"
                  checked={asyncExportMode}
                  onCheckedChange={(checked) => setAsyncExportMode(!!checked)}
                />
                <div className="flex-1">
                  <Label htmlFor="async-mode" className="text-sm font-medium cursor-pointer flex items-center gap-2">
                    <Clock className="h-4 w-4" />
                    백그라운드 생성
                  </Label>
                  <p className="text-xs text-muted-foreground">
                    대용량 보고서의 경우 백그라운드에서 생성하고 완료 시 다운로드합니다.
                  </p>
                </div>
              </div>
            </div>
          </div>

          <DialogFooter>
            <Button variant="outline" onClick={() => setPdfDialogOpen(false)}>
              취소
            </Button>
            <Button
              onClick={asyncExportMode ? handleAsyncPdfExport : handlePdfExport}
              disabled={isExporting || selectedSections.length === 0}
            >
              {isExporting ? (
                <>
                  <Loader2 className="h-4 w-4 mr-2 animate-spin" />
                  생성 중...
                </>
              ) : asyncExportMode ? (
                <>
                  <Clock className="h-4 w-4 mr-2" />
                  백그라운드 생성
                </>
              ) : (
                <>
                  <FileText className="h-4 w-4 mr-2" />
                  내보내기
                </>
              )}
            </Button>
          </DialogFooter>
        </DialogContent>
      </Dialog>

      {/* Async Export Progress Dialog */}
      <Dialog open={asyncProgressDialogOpen} onOpenChange={(open) => !open && handleCancelAsyncExport()}>
        <DialogContent className="sm:max-w-[400px]">
          <DialogHeader>
            <DialogTitle className="flex items-center gap-2">
              {asyncReportStatus?.status === 'COMPLETED' ? (
                <CheckCircle2 className="h-5 w-5 text-green-500" />
              ) : asyncReportStatus?.status === 'FAILED' ? (
                <XCircle className="h-5 w-5 text-red-500" />
              ) : (
                <Loader2 className="h-5 w-5 animate-spin text-primary" />
              )}
              PDF 보고서 생성 중
            </DialogTitle>
            <DialogDescription>
              보고서를 생성하고 있습니다. 완료되면 자동으로 다운로드됩니다.
            </DialogDescription>
          </DialogHeader>

          <div className="py-6">
            {/* Status display */}
            <div className="flex flex-col items-center gap-4">
              {asyncReportStatus?.status === 'GENERATING' && (
                <>
                  <div className="w-full bg-muted rounded-full h-2 overflow-hidden">
                    <div 
                      className="h-full bg-primary rounded-full animate-pulse"
                      style={{ width: '60%' }}
                    />
                  </div>
                  <p className="text-sm text-muted-foreground">보고서 생성 중...</p>
                </>
              )}
              
              {asyncReportStatus?.status === 'PENDING' && (
                <>
                  <div className="w-full bg-muted rounded-full h-2 overflow-hidden">
                    <div 
                      className="h-full bg-primary/50 rounded-full animate-pulse"
                      style={{ width: '30%' }}
                    />
                  </div>
                  <p className="text-sm text-muted-foreground">대기 중...</p>
                </>
              )}
              
              {asyncReportStatus?.status === 'COMPLETED' && (
                <p className="text-sm text-green-600">생성 완료! 다운로드 중...</p>
              )}
              
              {asyncReportStatus?.status === 'FAILED' && (
                <p className="text-sm text-red-600">
                  {asyncReportStatus.errorMessage || '보고서 생성에 실패했습니다.'}
                </p>
              )}
              
              {!asyncReportStatus && (
                <>
                  <div className="w-full bg-muted rounded-full h-2 overflow-hidden">
                    <div 
                      className="h-full bg-primary/30 rounded-full animate-pulse"
                      style={{ width: '10%' }}
                    />
                  </div>
                  <p className="text-sm text-muted-foreground">요청 중...</p>
                </>
              )}
            </div>

            {/* Report info */}
            {asyncReportStatus && (
              <div className="mt-4 pt-4 border-t text-xs text-muted-foreground space-y-1">
                <p>보고서 ID: {asyncReportStatus.reportId}</p>
                {asyncReportStatus.pageCount && (
                  <p>페이지 수: {asyncReportStatus.pageCount}</p>
                )}
                {asyncReportStatus.generationTimeMs && (
                  <p>생성 시간: {(asyncReportStatus.generationTimeMs / 1000).toFixed(1)}초</p>
                )}
              </div>
            )}
          </div>

          <DialogFooter>
            <Button variant="outline" onClick={handleCancelAsyncExport}>
              {asyncReportStatus?.status === 'FAILED' ? '닫기' : '취소'}
            </Button>
          </DialogFooter>
        </DialogContent>
      </Dialog>
    </>
  );
}

export default UnifiedExportMenu;

```

---

## frontend/src/components/UrlClaimExtractor.tsx

```tsx
import { useState, useCallback } from "react";
import {
  Link as LinkIcon,
  Loader2,
  AlertCircle,
  X,
  Sparkles,
  FileText,
  Globe,
  ArrowRight,
} from "lucide-react";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Badge } from "@/components/ui/badge";
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from "@/components/ui/card";
import { Alert, AlertDescription } from "@/components/ui/alert";
import { Checkbox } from "@/components/ui/checkbox";
import { cn } from "@/lib/utils";
import { extractClaimsFromUrl } from "@/lib/api";

interface ExtractedClaim {
  id: string;
  text: string;
  confidence: number;
  context?: string;
  selected: boolean;
}

interface UrlClaimExtractorProps {
  /** URL 추출 후 선택된 주장들을 전달하는 콜백 */
  onClaimsExtracted: (claims: string[]) => void;
  /** 현재 분석 중인지 여부 */
  disabled?: boolean;
  /** 추가 CSS 클래스 */
  className?: string;
}

/** URL 유효성 검사 */
const isValidUrl = (url: string): boolean => {
  try {
    const parsed = new URL(url);
    return parsed.protocol === "http:" || parsed.protocol === "https:";
  } catch {
    return false;
  }
};

/** 신뢰도에 따른 색상 */
const getConfidenceColor = (confidence: number): string => {
  if (confidence >= 0.8) return "text-green-600";
  if (confidence >= 0.5) return "text-yellow-600";
  return "text-orange-600";
};

export function UrlClaimExtractor({
  onClaimsExtracted,
  disabled = false,
  className,
}: UrlClaimExtractorProps) {
  const [url, setUrl] = useState("");
  const [isExtracting, setIsExtracting] = useState(false);
  const [extractedClaims, setExtractedClaims] = useState<ExtractedClaim[]>([]);
  const [error, setError] = useState<string | null>(null);
  const [pageTitle, setPageTitle] = useState<string | null>(null);

  // URL에서 주장 추출 - 실제 백엔드 API 호출
  const extractClaims = useCallback(async () => {
    if (!url.trim() || !isValidUrl(url)) {
      setError("올바른 URL을 입력해주세요.");
      return;
    }

    setIsExtracting(true);
    setError(null);
    setExtractedClaims([]);
    setPageTitle(null);

    try {
      // 실제 백엔드 API 호출
      const response = await extractClaimsFromUrl({ 
        url: url.trim(),
        maxClaims: 10,
        minConfidence: 0.5
      });
      
      if (response.message && response.claims.length === 0) {
        setError(response.message);
        return;
      }

      if (response.claims && Array.isArray(response.claims)) {
        setExtractedClaims(
          response.claims.map((claim) => ({
            id: claim.id,
            text: claim.text,
            confidence: claim.confidence || 0.7,
            context: claim.context,
            selected: true, // 기본적으로 모두 선택
          }))
        );
        setPageTitle(response.pageTitle || null);
      } else {
        setError("주장을 추출할 수 없습니다.");
      }
    } catch (err) {
      console.error("Claim extraction failed:", err);
      const errorMessage = err instanceof Error ? err.message : "알 수 없는 오류가 발생했습니다.";
      setError(`주장 추출 실패: ${errorMessage}`);
    } finally {
      setIsExtracting(false);
    }
  }, [url]);

  // 주장 선택 토글
  const toggleClaim = useCallback((id: string) => {
    setExtractedClaims((prev) =>
      prev.map((claim) =>
        claim.id === id ? { ...claim, selected: !claim.selected } : claim
      )
    );
  }, []);

  // 모두 선택/해제
  const toggleAll = useCallback((selected: boolean) => {
    setExtractedClaims((prev) =>
      prev.map((claim) => ({ ...claim, selected }))
    );
  }, []);

  // 선택된 주장 적용
  const applyClaims = useCallback(() => {
    const selectedClaims = extractedClaims
      .filter((c) => c.selected)
      .map((c) => c.text);
    
    if (selectedClaims.length === 0) {
      setError("최소 1개 이상의 주장을 선택해주세요.");
      return;
    }

    onClaimsExtracted(selectedClaims);
    
    // 초기화
    setUrl("");
    setExtractedClaims([]);
    setPageTitle(null);
  }, [extractedClaims, onClaimsExtracted]);

  // 취소/초기화
  const handleReset = useCallback(() => {
    setUrl("");
    setExtractedClaims([]);
    setError(null);
    setPageTitle(null);
  }, []);

  const selectedCount = extractedClaims.filter((c) => c.selected).length;
  const hasResults = extractedClaims.length > 0;

  return (
    <Card className={cn("border-dashed border-2 border-muted-foreground/25", className)}>
      <CardHeader className="pb-3">
        <div className="flex items-center gap-2">
          <Globe className="h-5 w-5 text-blue-600" />
          <CardTitle className="text-lg">URL에서 주장 추출</CardTitle>
          <Badge variant="secondary" className="text-xs">AI 자동 추출</Badge>
        </div>
        <CardDescription>
          뉴스 기사나 웹페이지 URL을 입력하면 AI가 자동으로 검증할 수 있는 주장들을 추출합니다.
        </CardDescription>
      </CardHeader>

      <CardContent className="space-y-4">
        {/* URL 입력 */}
        {!hasResults && (
          <div className="flex gap-2">
            <div className="relative flex-1">
              <LinkIcon className="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground" />
              <Input
                value={url}
                onChange={(e) => {
                  setUrl(e.target.value);
                  setError(null);
                }}
                placeholder="https://news.example.com/article/..."
                disabled={disabled || isExtracting}
                className="pl-10"
              />
            </div>
            <Button
              onClick={extractClaims}
              disabled={disabled || isExtracting || !url.trim()}
            >
              {isExtracting ? (
                <>
                  <Loader2 className="h-4 w-4 mr-2 animate-spin" />
                  추출 중...
                </>
              ) : (
                <>
                  <Sparkles className="h-4 w-4 mr-2" />
                  추출
                </>
              )}
            </Button>
          </div>
        )}

        {/* 에러 메시지 */}
        {error && (
          <Alert variant="destructive">
            <AlertCircle className="h-4 w-4" />
            <AlertDescription>{error}</AlertDescription>
          </Alert>
        )}

        {/* 추출 중 상태 */}
        {isExtracting && (
          <div className="flex items-center justify-center py-8 text-muted-foreground">
            <div className="text-center space-y-3">
              <Loader2 className="h-8 w-8 animate-spin mx-auto text-primary" />
              <div>
                <p className="font-medium">URL 분석 중...</p>
                <p className="text-sm">페이지에서 검증 가능한 주장을 찾고 있습니다.</p>
              </div>
            </div>
          </div>
        )}

        {/* 추출 결과 */}
        {hasResults && !isExtracting && (
          <div className="space-y-4">
            {/* 페이지 정보 */}
            {pageTitle && (
              <div className="flex items-center gap-2 p-3 rounded-lg bg-muted/50">
                <FileText className="h-4 w-4 text-muted-foreground" />
                <span className="text-sm font-medium truncate">{pageTitle}</span>
                <Badge variant="outline" className="ml-auto shrink-0">
                  {extractedClaims.length}개 주장 발견
                </Badge>
              </div>
            )}

            {/* 선택 컨트롤 */}
            <div className="flex items-center justify-between">
              <div className="flex items-center gap-4">
                <Button
                  variant="ghost"
                  size="sm"
                  onClick={() => toggleAll(true)}
                  disabled={selectedCount === extractedClaims.length}
                >
                  모두 선택
                </Button>
                <Button
                  variant="ghost"
                  size="sm"
                  onClick={() => toggleAll(false)}
                  disabled={selectedCount === 0}
                >
                  모두 해제
                </Button>
              </div>
              <span className="text-sm text-muted-foreground">
                {selectedCount}개 선택됨
              </span>
            </div>

            {/* 주장 목록 */}
            <div className="space-y-2 max-h-[300px] overflow-y-auto pr-2">
              {extractedClaims.map((claim) => (
                <div
                  key={claim.id}
                  className={cn(
                    "p-3 rounded-lg border transition-colors cursor-pointer",
                    claim.selected
                      ? "border-primary bg-primary/5"
                      : "border-muted hover:border-muted-foreground/50"
                  )}
                  onClick={() => toggleClaim(claim.id)}
                >
                  <div className="flex items-start gap-3">
                    <Checkbox
                      checked={claim.selected}
                      onCheckedChange={() => toggleClaim(claim.id)}
                      className="mt-0.5"
                    />
                    <div className="flex-1 min-w-0">
                      <p className="text-sm">{claim.text}</p>
                      <div className="flex items-center gap-2 mt-1">
                        <span className={cn("text-xs", getConfidenceColor(claim.confidence))}>
                          신뢰도: {Math.round(claim.confidence * 100)}%
                        </span>
                        {claim.context && (
                          <span className="text-xs text-muted-foreground">
                            • {claim.context}
                          </span>
                        )}
                      </div>
                    </div>
                  </div>
                </div>
              ))}
            </div>

            {/* 액션 버튼 */}
            <div className="flex gap-2 pt-2">
              <Button
                variant="outline"
                onClick={handleReset}
                className="flex-1"
              >
                <X className="h-4 w-4 mr-2" />
                취소
              </Button>
              <Button
                onClick={applyClaims}
                disabled={selectedCount === 0}
                className="flex-1"
              >
                <ArrowRight className="h-4 w-4 mr-2" />
                {selectedCount}개 주장 적용
              </Button>
            </div>
          </div>
        )}

        {/* 빈 상태 안내 */}
        {!hasResults && !isExtracting && !error && (
          <p className="text-xs text-muted-foreground text-center py-2">
            URL을 입력하고 "추출" 버튼을 클릭하세요. AI가 자동으로 사실 확인이 필요한 주장들을 찾아냅니다.
          </p>
        )}
      </CardContent>
    </Card>
  );
}

export default UrlClaimExtractor;

```

---

## frontend/src/components/UrlTree.tsx

```tsx
import React, { useState, useCallback, useMemo, useRef } from 'react';
import {
  Folder,
  FolderOpen,
  File,
  Link,
  ChevronRight,
  ChevronDown,
  MoreHorizontal,
  Trash2,
  Edit,
  FolderPlus,
  Plus,
  Check,
  X,
  GripVertical,
  ExternalLink,
  Clock,
} from 'lucide-react';
import { cn } from '@/lib/utils';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Checkbox } from '@/components/ui/checkbox';
import { Badge } from '@/components/ui/badge';
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuSeparator,
  DropdownMenuTrigger,
} from '@/components/ui/dropdown-menu';
import {
  Tooltip,
  TooltipContent,
  TooltipTrigger,
} from '@/components/ui/tooltip';
import type { TreeItem, FolderItem, UrlItem, SelectedItems } from '@/hooks/useUrlCollection';

// ============================================
// Drag & Drop Context
// ============================================

interface DragState {
  draggedItemId: string | null;
  draggedItemType: 'folder' | 'url' | null;
  dropTargetId: string | null;
  dropPosition: 'before' | 'inside' | 'after' | null;
}

// ============================================
// Tree Item Component
// ============================================

interface TreeNodeProps {
  item: TreeItem;
  depth: number;
  selectedItems: SelectedItems;
  onToggleFolder: (id: string) => void;
  onToggleSelection: (id: string, type: 'folder' | 'url') => void;
  onDelete: (id: string) => void;
  onUpdate: (id: string, updates: Partial<UrlItem | FolderItem>) => void;
  onAddFolder: (parentId: string) => void;
  onAddUrl: (parentId: string) => void;
  onSelectAll: (folderId: string) => void;
  onMoveItem?: (itemId: string, targetFolderId: string) => void;
  dragState: DragState;
  onDragStart: (id: string, type: 'folder' | 'url') => void;
  onDragEnd: () => void;
  onDragOver: (id: string, position: 'before' | 'inside' | 'after') => void;
  onDrop: (targetId: string) => void;
}

const TreeNode: React.FC<TreeNodeProps> = ({
  item,
  depth,
  selectedItems,
  onToggleFolder,
  onToggleSelection,
  onDelete,
  onUpdate,
  onAddFolder,
  onAddUrl,
  onSelectAll,
  onMoveItem,
  dragState,
  onDragStart,
  onDragEnd,
  onDragOver,
  onDrop,
}) => {
  const [isEditing, setIsEditing] = useState(false);
  const [editName, setEditName] = useState(item.name);
  const nodeRef = useRef<HTMLDivElement>(null);

  const isSelected = item.type === 'folder' 
    ? selectedItems.folders.has(item.id)
    : selectedItems.urls.has(item.id);

  const isDragging = dragState.draggedItemId === item.id;
  const isDropTarget = dragState.dropTargetId === item.id;
  const dropPosition = isDropTarget ? dragState.dropPosition : null;

  const handleDragStart = (e: React.DragEvent) => {
    e.stopPropagation();
    e.dataTransfer.effectAllowed = 'move';
    e.dataTransfer.setData('text/plain', item.id);
    onDragStart(item.id, item.type);
  };

  const handleDragEnd = (e: React.DragEvent) => {
    e.preventDefault();
    onDragEnd();
  };

  const handleDragOver = (e: React.DragEvent) => {
    e.preventDefault();
    e.stopPropagation();
    
    if (dragState.draggedItemId === item.id) return;
    
    // Don't allow dropping a folder into itself or its children
    if (dragState.draggedItemType === 'folder' && item.type === 'folder') {
      // This is a simplified check - a full check would verify ancestry
    }

    const rect = nodeRef.current?.getBoundingClientRect();
    if (!rect) return;

    const y = e.clientY - rect.top;
    const height = rect.height;

    // For folders, allow dropping inside
    if (item.type === 'folder') {
      if (y < height * 0.25) {
        onDragOver(item.id, 'before');
      } else if (y > height * 0.75) {
        onDragOver(item.id, 'after');
      } else {
        onDragOver(item.id, 'inside');
      }
    } else {
      // For URLs, only allow before/after
      if (y < height * 0.5) {
        onDragOver(item.id, 'before');
      } else {
        onDragOver(item.id, 'after');
      }
    }
  };

  const handleDrop = (e: React.DragEvent) => {
    e.preventDefault();
    e.stopPropagation();
    onDrop(item.id);
  };

  const handleDragLeave = (e: React.DragEvent) => {
    e.preventDefault();
  };

  const handleSaveEdit = () => {
    if (editName.trim()) {
      onUpdate(item.id, { name: editName.trim() });
    }
    setIsEditing(false);
  };

  const handleCancelEdit = () => {
    setEditName(item.name);
    setIsEditing(false);
  };

  const handleKeyDown = (e: React.KeyboardEvent) => {
    if (e.key === 'Enter') {
      handleSaveEdit();
    } else if (e.key === 'Escape') {
      handleCancelEdit();
    }
  };

  if (item.type === 'folder') {
    const folder = item as FolderItem;
    return (
      <div>
        <div
          ref={nodeRef}
          draggable={!isEditing}
          onDragStart={handleDragStart}
          onDragEnd={handleDragEnd}
          onDragOver={handleDragOver}
          onDrop={handleDrop}
          onDragLeave={handleDragLeave}
          className={cn(
            'group flex items-center gap-1 py-1.5 px-2 rounded-md hover:bg-muted/50 cursor-pointer transition-colors',
            isSelected && 'bg-primary/10 hover:bg-primary/20',
            isDragging && 'opacity-50 bg-muted',
            isDropTarget && dropPosition === 'inside' && 'ring-2 ring-primary ring-inset bg-primary/5',
            isDropTarget && dropPosition === 'before' && 'border-t-2 border-primary',
            isDropTarget && dropPosition === 'after' && 'border-b-2 border-primary'
          )}
          style={{ paddingLeft: `${depth * 16 + 8}px` }}
        >
          {/* Drag Handle */}
          <GripVertical className="h-4 w-4 text-muted-foreground/50 shrink-0 cursor-grab active:cursor-grabbing opacity-0 group-hover:opacity-100 transition-opacity" />

          {/* Expand/Collapse */}
          <button
            onClick={() => onToggleFolder(folder.id)}
            className="p-0.5 hover:bg-muted rounded"
          >
            {folder.isExpanded ? (
              <ChevronDown className="h-4 w-4 text-muted-foreground" />
            ) : (
              <ChevronRight className="h-4 w-4 text-muted-foreground" />
            )}
          </button>

          {/* Checkbox */}
          <Checkbox
            checked={isSelected}
            onCheckedChange={() => onToggleSelection(folder.id, 'folder')}
            className="mr-1"
          />

          {/* Icon */}
          {folder.isExpanded ? (
            <FolderOpen className="h-4 w-4 text-yellow-600 shrink-0" />
          ) : (
            <Folder className="h-4 w-4 text-yellow-600 shrink-0" />
          )}

          {/* Name */}
          {isEditing ? (
            <div className="flex items-center gap-1 flex-1">
              <Input
                value={editName}
                onChange={(e) => setEditName(e.target.value)}
                onKeyDown={handleKeyDown}
                className="h-6 text-sm py-0"
                autoFocus
              />
              <Button size="icon" variant="ghost" className="h-6 w-6" onClick={handleSaveEdit}>
                <Check className="h-3 w-3" />
              </Button>
              <Button size="icon" variant="ghost" className="h-6 w-6" onClick={handleCancelEdit}>
                <X className="h-3 w-3" />
              </Button>
            </div>
          ) : (
            <span
              className="flex-1 text-sm font-medium truncate"
              onDoubleClick={() => setIsEditing(true)}
            >
              {folder.name}
            </span>
          )}

          {/* Item count */}
          <Badge variant="secondary" className="text-xs h-5 px-1.5">
            {folder.children.length}
          </Badge>

          {/* Actions */}
          <DropdownMenu>
            <DropdownMenuTrigger asChild>
              <Button
                size="icon"
                variant="ghost"
                className="h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity"
              >
                <MoreHorizontal className="h-4 w-4" />
              </Button>
            </DropdownMenuTrigger>
            <DropdownMenuContent align="end">
              <DropdownMenuItem onClick={() => onAddFolder(folder.id)}>
                <FolderPlus className="h-4 w-4 mr-2" />
                하위 폴더 추가
              </DropdownMenuItem>
              <DropdownMenuItem onClick={() => onAddUrl(folder.id)}>
                <Plus className="h-4 w-4 mr-2" />
                URL 추가
              </DropdownMenuItem>
              <DropdownMenuItem onClick={() => onSelectAll(folder.id)}>
                <Check className="h-4 w-4 mr-2" />
                전체 선택
              </DropdownMenuItem>
              <DropdownMenuSeparator />
              <DropdownMenuItem onClick={() => setIsEditing(true)}>
                <Edit className="h-4 w-4 mr-2" />
                이름 변경
              </DropdownMenuItem>
              <DropdownMenuItem
                onClick={() => onDelete(folder.id)}
                className="text-destructive focus:text-destructive"
              >
                <Trash2 className="h-4 w-4 mr-2" />
                삭제
              </DropdownMenuItem>
            </DropdownMenuContent>
          </DropdownMenu>
        </div>

        {/* Children */}
        {folder.isExpanded && (
          <div>
            {folder.children.map((child) => (
              <TreeNode
                key={child.id}
                item={child}
                depth={depth + 1}
                selectedItems={selectedItems}
                onToggleFolder={onToggleFolder}
                onToggleSelection={onToggleSelection}
                onDelete={onDelete}
                onUpdate={onUpdate}
                onAddFolder={onAddFolder}
                onAddUrl={onAddUrl}
                onSelectAll={onSelectAll}
                onMoveItem={onMoveItem}
                dragState={dragState}
                onDragStart={onDragStart}
                onDragEnd={onDragEnd}
                onDragOver={onDragOver}
                onDrop={onDrop}
              />
            ))}
          </div>
        )}
      </div>
    );
  }

  // URL item
  const url = item as UrlItem;
  return (
    <div
      ref={nodeRef}
      draggable={!isEditing}
      onDragStart={handleDragStart}
      onDragEnd={handleDragEnd}
      onDragOver={handleDragOver}
      onDrop={handleDrop}
      onDragLeave={handleDragLeave}
      className={cn(
        'group flex items-center gap-1 py-1.5 px-2 rounded-md hover:bg-muted/50 cursor-pointer transition-colors',
        isSelected && 'bg-primary/10 hover:bg-primary/20',
        isDragging && 'opacity-50 bg-muted',
        isDropTarget && dropPosition === 'before' && 'border-t-2 border-primary',
        isDropTarget && dropPosition === 'after' && 'border-b-2 border-primary'
      )}
      style={{ paddingLeft: `${depth * 16 + 28}px` }}
    >
      {/* Drag Handle */}
      <GripVertical className="h-4 w-4 text-muted-foreground/50 shrink-0 cursor-grab active:cursor-grabbing opacity-0 group-hover:opacity-100 transition-opacity" />

      {/* Checkbox */}
      <Checkbox
        checked={isSelected}
        onCheckedChange={() => onToggleSelection(url.id, 'url')}
        className="mr-1"
      />

      {/* Icon */}
      <Link className="h-4 w-4 text-blue-600 shrink-0" />

      {/* Name & URL */}
      {isEditing ? (
        <div className="flex items-center gap-1 flex-1">
          <Input
            value={editName}
            onChange={(e) => setEditName(e.target.value)}
            onKeyDown={handleKeyDown}
            className="h-6 text-sm py-0"
            autoFocus
          />
          <Button size="icon" variant="ghost" className="h-6 w-6" onClick={handleSaveEdit}>
            <Check className="h-3 w-3" />
          </Button>
          <Button size="icon" variant="ghost" className="h-6 w-6" onClick={handleCancelEdit}>
            <X className="h-3 w-3" />
          </Button>
        </div>
      ) : (
        <Tooltip>
          <TooltipTrigger asChild>
            <span
              className="flex-1 text-sm truncate"
              onDoubleClick={() => setIsEditing(true)}
            >
              {url.name}
            </span>
          </TooltipTrigger>
          <TooltipContent side="right" className="max-w-xs">
            <p className="text-xs break-all">{url.url}</p>
            {url.description && (
              <p className="text-xs text-muted-foreground mt-1">{url.description}</p>
            )}
          </TooltipContent>
        </Tooltip>
      )}

      {/* Tags */}
      {url.tags && url.tags.length > 0 && (
        <div className="hidden sm:flex gap-1">
          {url.tags.slice(0, 2).map((tag) => (
            <Badge key={tag} variant="outline" className="text-xs h-5 px-1">
              {tag}
            </Badge>
          ))}
        </div>
      )}

      {/* Last analyzed indicator */}
      {url.lastAnalyzedAt && (
        <Tooltip>
          <TooltipTrigger>
            <Clock className="h-3 w-3 text-green-600" />
          </TooltipTrigger>
          <TooltipContent>
            마지막 분석: {new Date(url.lastAnalyzedAt).toLocaleString('ko-KR')}
          </TooltipContent>
        </Tooltip>
      )}

      {/* External link */}
      <a
        href={url.url}
        target="_blank"
        rel="noopener noreferrer"
        onClick={(e) => e.stopPropagation()}
        className="opacity-0 group-hover:opacity-100 transition-opacity"
      >
        <ExternalLink className="h-3.5 w-3.5 text-muted-foreground hover:text-foreground" />
      </a>

      {/* Actions */}
      <DropdownMenu>
        <DropdownMenuTrigger asChild>
          <Button
            size="icon"
            variant="ghost"
            className="h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity"
          >
            <MoreHorizontal className="h-4 w-4" />
          </Button>
        </DropdownMenuTrigger>
        <DropdownMenuContent align="end">
          <DropdownMenuItem onClick={() => setIsEditing(true)}>
            <Edit className="h-4 w-4 mr-2" />
            이름 변경
          </DropdownMenuItem>
          <DropdownMenuItem
            onClick={() => {
              navigator.clipboard.writeText(url.url);
            }}
          >
            <Link className="h-4 w-4 mr-2" />
            URL 복사
          </DropdownMenuItem>
          <DropdownMenuSeparator />
          <DropdownMenuItem
            onClick={() => onDelete(url.id)}
            className="text-destructive focus:text-destructive"
          >
            <Trash2 className="h-4 w-4 mr-2" />
            삭제
          </DropdownMenuItem>
        </DropdownMenuContent>
      </DropdownMenu>
    </div>
  );
};

// ============================================
// URL Tree Component
// ============================================

interface UrlTreeProps {
  root: FolderItem;
  selectedItems: SelectedItems;
  onToggleFolder: (id: string) => void;
  onToggleSelection: (id: string, type: 'folder' | 'url') => void;
  onDelete: (id: string) => void;
  onUpdate: (id: string, updates: Partial<UrlItem | FolderItem>) => void;
  onAddFolder: (parentId: string) => void;
  onAddUrl: (parentId: string) => void;
  onSelectAll: (folderId: string) => void;
  onMoveItem?: (itemId: string, targetFolderId: string) => void;
}

export const UrlTree: React.FC<UrlTreeProps> = ({
  root,
  selectedItems,
  onToggleFolder,
  onToggleSelection,
  onDelete,
  onUpdate,
  onAddFolder,
  onAddUrl,
  onSelectAll,
  onMoveItem,
}) => {
  // Drag & Drop state management
  const [dragState, setDragState] = useState<DragState>({
    draggedItemId: null,
    draggedItemType: null,
    dropTargetId: null,
    dropPosition: null,
  });

  const handleDragStart = useCallback((id: string, type: 'folder' | 'url') => {
    setDragState({
      draggedItemId: id,
      draggedItemType: type,
      dropTargetId: null,
      dropPosition: null,
    });
  }, []);

  const handleDragEnd = useCallback(() => {
    setDragState({
      draggedItemId: null,
      draggedItemType: null,
      dropTargetId: null,
      dropPosition: null,
    });
  }, []);

  const handleDragOver = useCallback((id: string, position: 'before' | 'inside' | 'after') => {
    setDragState(prev => ({
      ...prev,
      dropTargetId: id,
      dropPosition: position,
    }));
  }, []);

  // Find parent folder of an item
  const findParentFolder = useCallback((itemId: string, items: (UrlItem | FolderItem)[], parentId: string = 'root'): string | null => {
    for (const item of items) {
      if (item.id === itemId) {
        return parentId;
      }
      if (item.type === 'folder') {
        const found = findParentFolder(itemId, item.children, item.id);
        if (found) return found;
      }
    }
    return null;
  }, []);

  const handleDrop = useCallback((targetId: string) => {
    if (!dragState.draggedItemId || !onMoveItem) {
      handleDragEnd();
      return;
    }

    const { draggedItemId, dropPosition } = dragState;

    // Prevent dropping an item onto itself
    if (draggedItemId === targetId) {
      handleDragEnd();
      return;
    }

    // Find the target item to determine its parent
    const findItem = (items: (UrlItem | FolderItem)[]): (UrlItem | FolderItem) | null => {
      for (const item of items) {
        if (item.id === targetId) return item;
        if (item.type === 'folder') {
          const found = findItem(item.children);
          if (found) return found;
        }
      }
      return null;
    };

    const targetItem = findItem(root.children);

    if (targetItem) {
      if (dropPosition === 'inside' && targetItem.type === 'folder') {
        // Drop inside folder
        onMoveItem(draggedItemId, targetId);
      } else {
        // Drop before/after - move to parent folder
        const parentId = findParentFolder(targetId, root.children);
        if (parentId) {
          onMoveItem(draggedItemId, parentId);
        }
      }
    }

    handleDragEnd();
  }, [dragState, onMoveItem, handleDragEnd, root.children, findParentFolder]);

  if (root.children.length === 0) {
    return (
      <div className="text-center py-8 text-muted-foreground">
        <Folder className="h-12 w-12 mx-auto mb-3 opacity-50" />
        <p className="text-sm">URL이 없습니다</p>
        <p className="text-xs mt-1">폴더나 URL을 추가하세요</p>
      </div>
    );
  }

  return (
    <div className="space-y-0.5">
      {root.children.map((item) => (
        <TreeNode
          key={item.id}
          item={item}
          depth={0}
          selectedItems={selectedItems}
          onToggleFolder={onToggleFolder}
          onToggleSelection={onToggleSelection}
          onDelete={onDelete}
          onUpdate={onUpdate}
          onAddFolder={onAddFolder}
          onAddUrl={onAddUrl}
          onSelectAll={onSelectAll}
          onMoveItem={onMoveItem}
          dragState={dragState}
          onDragStart={handleDragStart}
          onDragEnd={handleDragEnd}
          onDragOver={handleDragOver}
          onDrop={handleDrop}
        />
      ))}
    </div>
  );
};

export default UrlTree;

```

---

## frontend/src/components/VirtualList.tsx

```tsx
import { useState, useRef, useCallback, useEffect, useMemo } from "react";
import { cn } from "@/lib/utils";

interface VirtualListProps<T> {
  /** 렌더링할 아이템 배열 */
  items: T[];
  /** 각 아이템의 예상 높이 (픽셀) */
  itemHeight: number;
  /** 컨테이너 높이 (픽셀 또는 CSS 값) */
  containerHeight: number | string;
  /** 오버스캔 - 화면 밖에 추가로 렌더링할 아이템 수 */
  overscan?: number;
  /** 아이템 렌더 함수 */
  renderItem: (item: T, index: number, style: React.CSSProperties) => React.ReactNode;
  /** 아이템 키 추출 함수 */
  getItemKey: (item: T, index: number) => string | number;
  /** 추가 CSS 클래스 */
  className?: string;
  /** 빈 상태 렌더링 */
  emptyState?: React.ReactNode;
  /** 로딩 상태 */
  loading?: boolean;
  /** 로딩 상태 렌더링 */
  loadingState?: React.ReactNode;
}

/**
 * 가상화된 리스트 컴포넌트
 * 대량의 데이터를 효율적으로 렌더링
 * 
 * @example
 * ``\`tsx
 * <VirtualList
 *   items={searchResults}
 *   itemHeight={80}
 *   containerHeight={600}
 *   getItemKey={(item) => item.id}
 *   renderItem={(item, index, style) => (
 *     <div style={style}>
 *       <SearchResultCard result={item} />
 *     </div>
 *   )}
 * />
 * ``\`
 */
export function VirtualList<T>({
  items,
  itemHeight,
  containerHeight,
  overscan = 3,
  renderItem,
  getItemKey,
  className,
  emptyState,
  loading,
  loadingState,
}: VirtualListProps<T>) {
  const containerRef = useRef<HTMLDivElement>(null);
  const [scrollTop, setScrollTop] = useState(0);

  // 컨테이너 높이를 픽셀로 계산
  const [containerHeightPx, setContainerHeightPx] = useState(
    typeof containerHeight === "number" ? containerHeight : 400
  );

  // 컨테이너 크기 관찰
  useEffect(() => {
    if (typeof containerHeight === "number") {
      setContainerHeightPx(containerHeight);
      return;
    }

    const container = containerRef.current;
    if (!container) return;

    const observer = new ResizeObserver((entries) => {
      for (const entry of entries) {
        setContainerHeightPx(entry.contentRect.height);
      }
    });

    observer.observe(container);
    return () => observer.disconnect();
  }, [containerHeight]);

  // 스크롤 핸들러
  const handleScroll = useCallback((event: React.UIEvent<HTMLDivElement>) => {
    setScrollTop(event.currentTarget.scrollTop);
  }, []);

  // 가상화 계산
  const virtualData = useMemo(() => {
    const totalHeight = items.length * itemHeight;
    const startIndex = Math.max(0, Math.floor(scrollTop / itemHeight) - overscan);
    const endIndex = Math.min(
      items.length - 1,
      Math.floor((scrollTop + containerHeightPx) / itemHeight) + overscan
    );

    const visibleItems = items.slice(startIndex, endIndex + 1).map((item, i) => ({
      item,
      index: startIndex + i,
      style: {
        position: "absolute" as const,
        top: (startIndex + i) * itemHeight,
        left: 0,
        right: 0,
        height: itemHeight,
      },
    }));

    return {
      totalHeight,
      startIndex,
      endIndex,
      visibleItems,
    };
  }, [items, itemHeight, containerHeightPx, scrollTop, overscan]);

  // 빈 상태 또는 로딩 상태
  if (loading) {
    return (
      <div
        className={cn("flex items-center justify-center", className)}
        style={{ height: containerHeight }}
      >
        {loadingState || <div className="text-muted-foreground">로딩 중...</div>}
      </div>
    );
  }

  if (items.length === 0) {
    return (
      <div
        className={cn("flex items-center justify-center", className)}
        style={{ height: containerHeight }}
      >
        {emptyState || <div className="text-muted-foreground">데이터가 없습니다</div>}
      </div>
    );
  }

  return (
    <div
      ref={containerRef}
      className={cn("overflow-auto relative", className)}
      style={{ height: containerHeight }}
      onScroll={handleScroll}
    >
      <div
        style={{
          height: virtualData.totalHeight,
          position: "relative",
        }}
      >
        {virtualData.visibleItems.map(({ item, index, style }) => (
          <div key={getItemKey(item, index)} style={style}>
            {renderItem(item, index, style)}
          </div>
        ))}
      </div>
    </div>
  );
}

/**
 * 무한 스크롤 훅
 * 
 * @example
 * ``\`tsx
 * const { loadMoreRef, isLoading } = useInfiniteScroll({
 *   hasMore: data?.hasNextPage,
 *   onLoadMore: () => fetchNextPage(),
 * });
 * 
 * return (
 *   <div>
 *     {items.map(item => <Item key={item.id} />)}
 *     <div ref={loadMoreRef}>
 *       {isLoading && <Spinner />}
 *     </div>
 *   </div>
 * );
 * ``\`
 */
export function useInfiniteScroll(options: {
  hasMore: boolean;
  onLoadMore: () => void;
  threshold?: number;
  rootMargin?: string;
}) {
  const { hasMore, onLoadMore, threshold = 0.1, rootMargin = "100px" } = options;
  const loadMoreRef = useRef<HTMLDivElement>(null);
  const [isLoading, setIsLoading] = useState(false);

  useEffect(() => {
    const element = loadMoreRef.current;
    if (!element || !hasMore) return;

    const observer = new IntersectionObserver(
      async (entries) => {
        const [entry] = entries;
        if (entry.isIntersecting && hasMore && !isLoading) {
          setIsLoading(true);
          try {
            await onLoadMore();
          } finally {
            setIsLoading(false);
          }
        }
      },
      { threshold, rootMargin }
    );

    observer.observe(element);
    return () => observer.disconnect();
  }, [hasMore, onLoadMore, threshold, rootMargin, isLoading]);

  return { loadMoreRef, isLoading };
}

/**
 * 지연 로딩 이미지 컴포넌트
 * 
 * @example
 * ``\`tsx
 * <LazyImage
 *   src="/image.jpg"
 *   alt="Description"
 *   className="w-full h-48 object-cover"
 * />
 * ``\`
 */
interface LazyImageProps extends React.ImgHTMLAttributes<HTMLImageElement> {
  /** 로딩 중 표시할 플레이스홀더 */
  placeholder?: React.ReactNode;
  /** 에러 시 표시할 콘텐츠 */
  fallback?: React.ReactNode;
}

export function LazyImage({
  src,
  alt,
  className,
  placeholder,
  fallback,
  ...props
}: LazyImageProps) {
  const [isLoaded, setIsLoaded] = useState(false);
  const [hasError, setHasError] = useState(false);
  const imgRef = useRef<HTMLImageElement>(null);

  useEffect(() => {
    const img = imgRef.current;
    if (!img) return;

    const observer = new IntersectionObserver(
      (entries) => {
        const [entry] = entries;
        if (entry.isIntersecting) {
          // 실제 src 설정
          img.src = src || "";
          observer.disconnect();
        }
      },
      { rootMargin: "100px" }
    );

    observer.observe(img);
    return () => observer.disconnect();
  }, [src]);

  if (hasError && fallback) {
    return <>{fallback}</>;
  }

  return (
    <div className={cn("relative", className)}>
      {!isLoaded && !hasError && (
        <div className="absolute inset-0 flex items-center justify-center bg-muted animate-pulse">
          {placeholder || <div className="w-8 h-8 rounded-full bg-muted-foreground/20" />}
        </div>
      )}
      <img
        ref={imgRef}
        alt={alt}
        className={cn(
          "transition-opacity duration-300",
          isLoaded ? "opacity-100" : "opacity-0",
          className
        )}
        onLoad={() => setIsLoaded(true)}
        onError={() => setHasError(true)}
        {...props}
      />
    </div>
  );
}

/**
 * 디바운스 훅
 * 
 * @example
 * ``\`tsx
 * const debouncedSearch = useDebouncedCallback((query: string) => {
 *   search(query);
 * }, 300);
 * ``\`
 */
export function useDebouncedCallback<T extends (...args: any[]) => any>(
  callback: T,
  delay: number
): T {
  const timeoutRef = useRef<NodeJS.Timeout | null>(null);

  const debouncedCallback = useCallback(
    (...args: Parameters<T>) => {
      if (timeoutRef.current) {
        clearTimeout(timeoutRef.current);
      }
      timeoutRef.current = setTimeout(() => {
        callback(...args);
      }, delay);
    },
    [callback, delay]
  ) as T;

  // 클린업
  useEffect(() => {
    return () => {
      if (timeoutRef.current) {
        clearTimeout(timeoutRef.current);
      }
    };
  }, []);

  return debouncedCallback;
}

/**
 * 쓰로틀 훅
 * 
 * @example
 * ``\`tsx
 * const throttledScroll = useThrottledCallback((event) => {
 *   handleScroll(event);
 * }, 100);
 * ``\`
 */
export function useThrottledCallback<T extends (...args: any[]) => any>(
  callback: T,
  delay: number
): T {
  const lastCall = useRef(0);
  const timeoutRef = useRef<NodeJS.Timeout | null>(null);

  const throttledCallback = useCallback(
    (...args: Parameters<T>) => {
      const now = Date.now();
      const timeSinceLastCall = now - lastCall.current;

      if (timeSinceLastCall >= delay) {
        lastCall.current = now;
        callback(...args);
      } else {
        // 마지막 호출 예약
        if (timeoutRef.current) {
          clearTimeout(timeoutRef.current);
        }
        timeoutRef.current = setTimeout(() => {
          lastCall.current = Date.now();
          callback(...args);
        }, delay - timeSinceLastCall);
      }
    },
    [callback, delay]
  ) as T;

  // 클린업
  useEffect(() => {
    return () => {
      if (timeoutRef.current) {
        clearTimeout(timeoutRef.current);
      }
    };
  }, []);

  return throttledCallback;
}

export default VirtualList;

```

---

## frontend/src/components/admin/CrawlerLogsViewer.tsx

```tsx
import { useEffect, useRef, useState } from 'react';
import { cn } from '@/lib/utils';
import { 
  Terminal, 
  RefreshCw, 
  AlertCircle, 
  CheckCircle2, 
  Clock,
  Zap,
  Bug,
  Globe,
  Filter,
  Pause,
  Play,
  Trash2,
  ChevronDown,
  ChevronUp,
  Activity,
  AlertTriangle,
  Info,
} from 'lucide-react';
import { ScrollArea } from '@/components/ui/scroll-area';
import { Button } from '@/components/ui/button';
import { Badge } from '@/components/ui/badge';
import {
  DropdownMenu,
  DropdownMenuCheckboxItem,
  DropdownMenuContent,
  DropdownMenuLabel,
  DropdownMenuSeparator,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu";
import { useCrawlerLogs, type CrawlerLogEntry, type CrawlerEventType, type LogLevel } from '@/hooks/useCrawlerLogs';

interface CrawlerLogsViewerProps {
  /** 최대 표시 개수 */
  maxVisible?: number;
  /** 클래스명 */
  className?: string;
  /** 초기 활성화 여부 */
  defaultEnabled?: boolean;
}

const eventTypeConfig: Record<CrawlerEventType, {
  icon: React.ReactNode;
  color: string;
  label: string;
}> = {
  connected: {
    icon: <Activity className="h-3 w-3" />,
    color: 'text-green-500',
    label: '연결됨',
  },
  agent_start: {
    icon: <Zap className="h-3 w-3" />,
    color: 'text-yellow-500',
    label: '에이전트 시작',
  },
  agent_step: {
    icon: <Activity className="h-3 w-3" />,
    color: 'text-blue-500',
    label: '스텝',
  },
  agent_complete: {
    icon: <CheckCircle2 className="h-3 w-3" />,
    color: 'text-green-500',
    label: '완료',
  },
  agent_error: {
    icon: <AlertCircle className="h-3 w-3" />,
    color: 'text-red-500',
    label: '에러',
  },
  url_discovered: {
    icon: <Globe className="h-3 w-3" />,
    color: 'text-purple-500',
    label: 'URL 발견',
  },
  health_update: {
    icon: <Activity className="h-3 w-3" />,
    color: 'text-gray-500',
    label: '상태 업데이트',
  },
  captcha_detected: {
    icon: <Bug className="h-3 w-3" />,
    color: 'text-orange-500',
    label: '캡챠 감지',
  },
  captcha_solved: {
    icon: <CheckCircle2 className="h-3 w-3" />,
    color: 'text-green-500',
    label: '캡챠 해결',
  },
  collection_start: {
    icon: <Zap className="h-3 w-3" />,
    color: 'text-yellow-500',
    label: '수집 시작',
  },
  collection_progress: {
    icon: <RefreshCw className="h-3 w-3 animate-spin" />,
    color: 'text-blue-500',
    label: '수집 중',
  },
  collection_complete: {
    icon: <CheckCircle2 className="h-3 w-3" />,
    color: 'text-green-500',
    label: '수집 완료',
  },
  collection_error: {
    icon: <AlertCircle className="h-3 w-3" />,
    color: 'text-red-500',
    label: '수집 에러',
  },
  collection_log: {
    icon: <Terminal className="h-3 w-3" />,
    color: 'text-gray-500',
    label: '로그',
  },
};

const levelConfig: Record<LogLevel, {
  icon: React.ReactNode;
  color: string;
  bgColor: string;
}> = {
  DEBUG: {
    icon: <Bug className="h-3 w-3" />,
    color: 'text-gray-500',
    bgColor: 'bg-gray-50 dark:bg-gray-900',
  },
  INFO: {
    icon: <Info className="h-3 w-3" />,
    color: 'text-blue-500',
    bgColor: 'bg-blue-50 dark:bg-blue-950',
  },
  WARNING: {
    icon: <AlertTriangle className="h-3 w-3" />,
    color: 'text-yellow-600',
    bgColor: 'bg-yellow-50 dark:bg-yellow-950',
  },
  ERROR: {
    icon: <AlertCircle className="h-3 w-3" />,
    color: 'text-red-500',
    bgColor: 'bg-red-50 dark:bg-red-950',
  },
};

function formatTime(date: Date): string {
  return date.toLocaleTimeString('ko-KR', {
    hour: '2-digit',
    minute: '2-digit',
    second: '2-digit',
  });
}

function LogEntry({ log, expanded, onToggle }: { 
  log: CrawlerLogEntry; 
  expanded: boolean;
  onToggle: () => void;
}) {
  const eventConfig = eventTypeConfig[log.eventType] || eventTypeConfig.collection_log;
  const levelCfg = levelConfig[log.level] || levelConfig.INFO;
  
  return (
    <div className={cn(
      'font-mono text-xs border-b border-border/50 transition-all duration-200',
      'hover:bg-muted/50',
      levelCfg.bgColor
    )}>
      <div 
        className="flex items-start gap-2 p-2 cursor-pointer"
        onClick={onToggle}
      >
        {/* Timestamp */}
        <span className="text-muted-foreground whitespace-nowrap flex items-center gap-1">
          <Clock className="h-3 w-3" />
          {formatTime(log.timestamp)}
        </span>
        
        {/* Level Badge */}
        <Badge 
          variant="outline" 
          className={cn('text-[10px] px-1 py-0', levelCfg.color)}
        >
          {log.level}
        </Badge>
        
        {/* Source */}
        <Badge variant="secondary" className="text-[10px] px-1 py-0 max-w-[100px] truncate">
          {log.source}
        </Badge>
        
        {/* Event Type Icon */}
        <span className={cn('flex-shrink-0', eventConfig.color)}>
          {eventConfig.icon}
        </span>
        
        {/* Message */}
        <span className="flex-1 text-foreground truncate">
          {log.message}
        </span>
        
        {/* Expand Toggle */}
        {log.data && Object.keys(log.data).length > 2 && (
          <button className="text-muted-foreground hover:text-foreground">
            {expanded ? <ChevronUp className="h-3 w-3" /> : <ChevronDown className="h-3 w-3" />}
          </button>
        )}
      </div>
      
      {/* Expanded Details */}
      {expanded && log.data && (
        <div className="px-2 pb-2 pl-24">
          <pre className="text-[10px] text-muted-foreground bg-muted/50 p-2 rounded overflow-x-auto">
            {JSON.stringify(log.data, null, 2)}
          </pre>
        </div>
      )}
    </div>
  );
}

function ConnectionStatus({ status }: { status: 'connecting' | 'connected' | 'disconnected' | 'error' }) {
  const statusConfig = {
    connecting: { color: 'bg-yellow-500', label: '연결 중...', animate: true },
    connected: { color: 'bg-green-500', label: '실시간 연결됨', animate: false },
    disconnected: { color: 'bg-gray-500', label: '연결 끊김', animate: false },
    error: { color: 'bg-red-500', label: '연결 오류', animate: false },
  };
  
  const config = statusConfig[status];
  
  return (
    <div className="flex items-center gap-2 text-xs text-muted-foreground">
      <span className={cn(
        'h-2 w-2 rounded-full',
        config.color,
        config.animate && 'animate-pulse'
      )} />
      {config.label}
    </div>
  );
}

/**
 * 실시간 크롤러 로그 뷰어 컴포넌트
 * 터미널 스타일의 실시간 수집 로그 피드
 */
export function CrawlerLogsViewer({
  maxVisible = 100,
  className,
  defaultEnabled = true,
}: CrawlerLogsViewerProps) {
  const [enabled, setEnabled] = useState(defaultEnabled);
  const [filterLevels, setFilterLevels] = useState<LogLevel[]>([]);
  const [expandedIds, setExpandedIds] = useState<Set<string>>(new Set());
  const [autoScroll, setAutoScroll] = useState(true);
  const scrollRef = useRef<HTMLDivElement>(null);

  const {
    logs,
    status,
    reconnect,
    clearLogs,
    activeSources,
    sourceStatus,
  } = useCrawlerLogs({
    enabled,
    maxLogs: 500,
    filterLevels: filterLevels.length > 0 ? filterLevels : undefined,
  });

  // 자동 스크롤
  useEffect(() => {
    if (autoScroll && scrollRef.current) {
      scrollRef.current.scrollTop = 0;
    }
  }, [logs.length, autoScroll]);

  const visibleLogs = logs.slice(0, maxVisible);

  const toggleExpanded = (id: string) => {
    setExpandedIds(prev => {
      const next = new Set(prev);
      if (next.has(id)) {
        next.delete(id);
      } else {
        next.add(id);
      }
      return next;
    });
  };

  const toggleLevel = (level: LogLevel) => {
    setFilterLevels(prev => {
      if (prev.includes(level)) {
        return prev.filter(l => l !== level);
      }
      return [...prev, level];
    });
  };

  // 소스별 통계
  const runningCount = Object.values(sourceStatus).filter(s => s === 'running').length;
  const errorCount = Object.values(sourceStatus).filter(s => s === 'error').length;

  return (
    <div className={cn(
      'rounded-xl border bg-card shadow-sm flex flex-col h-full',
      className
    )}>
      {/* Header */}
      <div className="flex items-center justify-between p-3 border-b bg-muted/30">
        <div className="flex items-center gap-2">
          <Terminal className="h-4 w-4 text-primary" />
          <h3 className="font-semibold text-sm">실시간 수집 로그</h3>
          {logs.length > 0 && (
            <Badge variant="secondary" className="text-xs">
              {logs.length}
            </Badge>
          )}
          {runningCount > 0 && (
            <Badge variant="default" className="text-xs bg-yellow-500">
              {runningCount} 수집 중
            </Badge>
          )}
          {errorCount > 0 && (
            <Badge variant="destructive" className="text-xs">
              {errorCount} 에러
            </Badge>
          )}
        </div>
        
        <div className="flex items-center gap-2">
          <ConnectionStatus status={status} />
          
          {/* Level Filter */}
          <DropdownMenu>
            <DropdownMenuTrigger asChild>
              <Button variant="ghost" size="sm" className="h-7 px-2">
                <Filter className="h-3 w-3 mr-1" />
                필터
                {filterLevels.length > 0 && (
                  <Badge variant="secondary" className="ml-1 text-[10px] px-1">
                    {filterLevels.length}
                  </Badge>
                )}
              </Button>
            </DropdownMenuTrigger>
            <DropdownMenuContent align="end">
              <DropdownMenuLabel>로그 레벨</DropdownMenuLabel>
              <DropdownMenuSeparator />
              {(['DEBUG', 'INFO', 'WARNING', 'ERROR'] as LogLevel[]).map(level => (
                <DropdownMenuCheckboxItem
                  key={level}
                  checked={filterLevels.includes(level)}
                  onCheckedChange={() => toggleLevel(level)}
                >
                  <span className={levelConfig[level].color}>{level}</span>
                </DropdownMenuCheckboxItem>
              ))}
            </DropdownMenuContent>
          </DropdownMenu>
          
          {/* Controls */}
          <Button
            variant="ghost"
            size="sm"
            className="h-7 px-2"
            onClick={() => setEnabled(!enabled)}
          >
            {enabled ? <Pause className="h-3 w-3" /> : <Play className="h-3 w-3" />}
          </Button>
          
          <Button
            variant="ghost"
            size="sm"
            className="h-7 px-2"
            onClick={clearLogs}
            disabled={logs.length === 0}
          >
            <Trash2 className="h-3 w-3" />
          </Button>
          
          {status !== 'connected' && (
            <Button
              variant="ghost"
              size="sm"
              className="h-7 px-2"
              onClick={reconnect}
            >
              <RefreshCw className="h-3 w-3" />
            </Button>
          )}
        </div>
      </div>

      {/* Active Sources Bar */}
      {activeSources.length > 0 && (
        <div className="flex items-center gap-2 px-3 py-2 border-b bg-muted/20 overflow-x-auto">
          <span className="text-xs text-muted-foreground whitespace-nowrap">활성 소스:</span>
          {activeSources.map(source => {
            const status = sourceStatus[source] || 'idle';
            const statusColors = {
              idle: 'bg-gray-500',
              running: 'bg-yellow-500 animate-pulse',
              complete: 'bg-green-500',
              error: 'bg-red-500',
            };
            return (
              <Badge 
                key={source} 
                variant="outline" 
                className="text-[10px] flex items-center gap-1"
              >
                <span className={cn('h-1.5 w-1.5 rounded-full', statusColors[status])} />
                {source}
              </Badge>
            );
          })}
        </div>
      )}
      
      {/* Log Stream */}
      <ScrollArea className="flex-1" ref={scrollRef}>
        <div className="divide-y divide-border/30">
          {visibleLogs.length === 0 ? (
            <div className="flex flex-col items-center justify-center py-12 text-muted-foreground">
              {status === 'connected' ? (
                <>
                  <Terminal className="h-8 w-8 mb-2 animate-pulse" />
                  <p className="text-sm">수집 로그 대기 중...</p>
                  <p className="text-xs mt-1">Browser Agent가 작업을 시작하면 로그가 표시됩니다</p>
                </>
              ) : status === 'connecting' ? (
                <>
                  <RefreshCw className="h-8 w-8 mb-2 animate-spin" />
                  <p className="text-sm">크롤러 서비스에 연결 중...</p>
                </>
              ) : (
                <>
                  <AlertCircle className="h-8 w-8 mb-2" />
                  <p className="text-sm">연결 대기 중...</p>
                  <Button 
                    variant="outline" 
                    size="sm" 
                    className="mt-2"
                    onClick={reconnect}
                  >
                    재연결
                  </Button>
                </>
              )}
            </div>
          ) : (
            visibleLogs.map((log) => (
              <LogEntry 
                key={log.id} 
                log={log} 
                expanded={expandedIds.has(log.id)}
                onToggle={() => toggleExpanded(log.id)}
              />
            ))
          )}
        </div>
      </ScrollArea>
      
      {/* Footer */}
      {logs.length > maxVisible && (
        <div className="p-2 border-t text-center bg-muted/20">
          <span className="text-xs text-muted-foreground">
            + {logs.length - maxVisible}개 더 있음
          </span>
        </div>
      )}
    </div>
  );
}

export default CrawlerLogsViewer;

```

---

## frontend/src/components/admin/JobStatusBadge.tsx

```tsx
import { cn } from '@/lib/utils';
import { Badge } from '@/components/ui/badge';
import {
  CheckCircle2,
  AlertCircle,
  Clock,
  Loader2,
  XCircle,
} from 'lucide-react';
import type { CollectionJobStatus } from '@/lib/api/collection';

interface JobStatusBadgeProps {
  status: CollectionJobStatus;
  /** 추가 텍스트 */
  label?: string;
  /** 사이즈 */
  size?: 'sm' | 'default';
  /** 클래스명 */
  className?: string;
}

const statusConfig: Record<CollectionJobStatus, {
  icon: React.ReactNode;
  label: string;
  variant: 'default' | 'secondary' | 'destructive' | 'outline';
  className: string;
}> = {
  PENDING: {
    icon: <Clock className="h-3 w-3" />,
    label: '대기 중',
    variant: 'secondary',
    className: 'bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300 border-yellow-200',
  },
  RUNNING: {
    icon: <Loader2 className="h-3 w-3 animate-spin" />,
    label: '수집 중',
    variant: 'default',
    className: 'bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300 border-blue-200',
  },
  COMPLETED: {
    icon: <CheckCircle2 className="h-3 w-3" />,
    label: '완료',
    variant: 'secondary',
    className: 'bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300 border-green-200',
  },
  FAILED: {
    icon: <AlertCircle className="h-3 w-3" />,
    label: '실패',
    variant: 'destructive',
    className: 'bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300 border-red-200',
  },
  CANCELLED: {
    icon: <XCircle className="h-3 w-3" />,
    label: '취소됨',
    variant: 'outline',
    className: 'bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300 border-gray-200',
  },
};

/**
 * 수집 작업 상태 배지 컴포넌트
 */
export function JobStatusBadge({
  status,
  label,
  size = 'default',
  className,
}: JobStatusBadgeProps) {
  const config = statusConfig[status];
  
  return (
    <Badge
      variant={config.variant}
      className={cn(
        'flex items-center gap-1',
        config.className,
        size === 'sm' && 'text-xs px-1.5 py-0',
        className
      )}
    >
      {config.icon}
      {label || config.label}
    </Badge>
  );
}

export default JobStatusBadge;

```

---

## frontend/src/components/admin/LiveCounter.tsx

```tsx
import { useEffect, useRef, useState } from 'react';
import { cn } from '@/lib/utils';
import { TrendingUp, TrendingDown, Minus } from 'lucide-react';

interface LiveCounterProps {
  /** 현재 값 */
  value: number;
  /** 이전 값 (변화량 계산용) */
  previousValue?: number;
  /** 라벨 */
  label: string;
  /** 아이콘 */
  icon?: React.ReactNode;
  /** 서브 텍스트 */
  subtitle?: string;
  /** 변화량 표시 여부 */
  showChange?: boolean;
  /** 로딩 상태 */
  isLoading?: boolean;
  /** 숫자 포맷 함수 */
  formatValue?: (value: number) => string;
  /** 클래스명 */
  className?: string;
}

/**
 * 실시간 카운터 컴포넌트
 * 값이 변경될 때 롤링 애니메이션 효과 적용
 */
export function LiveCounter({
  value,
  previousValue,
  label,
  icon,
  subtitle,
  showChange = true,
  isLoading = false,
  formatValue = (v) => v.toLocaleString(),
  className,
}: LiveCounterProps) {
  const [displayValue, setDisplayValue] = useState(value);
  const [isAnimating, setIsAnimating] = useState(false);
  const prevValueRef = useRef(value);

  // 값 변경 시 롤링 애니메이션
  useEffect(() => {
    if (value === prevValueRef.current) return;

    setIsAnimating(true);
    const startValue = prevValueRef.current;
    const endValue = value;
    const duration = 500; // ms
    const startTime = Date.now();

    const animate = () => {
      const elapsed = Date.now() - startTime;
      const progress = Math.min(elapsed / duration, 1);
      
      // easeOutQuad
      const eased = 1 - (1 - progress) * (1 - progress);
      const current = Math.round(startValue + (endValue - startValue) * eased);
      
      setDisplayValue(current);

      if (progress < 1) {
        requestAnimationFrame(animate);
      } else {
        setIsAnimating(false);
        prevValueRef.current = value;
      }
    };

    requestAnimationFrame(animate);
  }, [value]);

  const change = previousValue !== undefined ? value - previousValue : 0;
  const changePercent = previousValue && previousValue !== 0
    ? ((value - previousValue) / previousValue * 100).toFixed(1)
    : null;

  return (
    <div className={cn(
      'rounded-xl border bg-card p-6 shadow-sm transition-all duration-300',
      isAnimating && 'ring-2 ring-primary/20',
      className
    )}>
      <div className="flex flex-row items-center justify-between space-y-0 pb-2">
        <div className="tracking-tight text-sm font-medium text-muted-foreground">
          {label}
        </div>
        {icon && <div className="text-muted-foreground">{icon}</div>}
      </div>
      
      <div className="flex items-baseline gap-2">
        {isLoading ? (
          <div className="h-8 w-24 animate-pulse rounded bg-muted" />
        ) : (
          <div className={cn(
            'text-2xl font-bold transition-colors duration-300',
            isAnimating && 'text-primary'
          )}>
            {formatValue(displayValue)}
          </div>
        )}
        
        {showChange && change !== 0 && !isLoading && (
          <div className={cn(
            'flex items-center text-xs font-medium',
            change > 0 ? 'text-green-600' : 'text-red-600'
          )}>
            {change > 0 ? (
              <TrendingUp className="h-3 w-3 mr-0.5" />
            ) : (
              <TrendingDown className="h-3 w-3 mr-0.5" />
            )}
            {change > 0 ? '+' : ''}{change.toLocaleString()}
            {changePercent && ` (${changePercent}%)`}
          </div>
        )}
        
        {showChange && change === 0 && previousValue !== undefined && !isLoading && (
          <div className="flex items-center text-xs font-medium text-muted-foreground">
            <Minus className="h-3 w-3 mr-0.5" />
            변화 없음
          </div>
        )}
      </div>
      
      {subtitle && (
        <p className="text-xs text-muted-foreground mt-1">{subtitle}</p>
      )}
    </div>
  );
}

export default LiveCounter;

```

---

## frontend/src/components/admin/LiveStream.tsx

```tsx
import { useEffect, useRef } from 'react';
import { cn } from '@/lib/utils';
import { 
  FileText, 
  RefreshCw, 
  AlertCircle, 
  CheckCircle2, 
  Clock,
  Zap,
  Database,
  Activity
} from 'lucide-react';
import type { ActivityLogEntry, DashboardEventType } from '@/hooks/useDashboardEvents';
import { ScrollArea } from '@/components/ui/scroll-area';

interface LiveStreamProps {
  /** 활동 로그 목록 */
  logs: ActivityLogEntry[];
  /** 연결 상태 */
  status: 'connecting' | 'connected' | 'disconnected' | 'error';
  /** 최대 표시 개수 */
  maxVisible?: number;
  /** 제목 */
  title?: string;
  /** 클래스명 */
  className?: string;
  /** 로그 클리어 핸들러 */
  onClear?: () => void;
}

const eventTypeConfig: Record<DashboardEventType, {
  icon: React.ReactNode;
  color: string;
  bgColor: string;
}> = {
  HEARTBEAT: {
    icon: <Activity className="h-3 w-3" />,
    color: 'text-gray-500',
    bgColor: 'bg-gray-50 dark:bg-gray-900',
  },
  NEW_DATA: {
    icon: <FileText className="h-3 w-3" />,
    color: 'text-blue-600',
    bgColor: 'bg-blue-50 dark:bg-blue-950',
  },
  SOURCE_UPDATED: {
    icon: <RefreshCw className="h-3 w-3" />,
    color: 'text-purple-600',
    bgColor: 'bg-purple-50 dark:bg-purple-950',
  },
  STATS_UPDATED: {
    icon: <Database className="h-3 w-3" />,
    color: 'text-green-600',
    bgColor: 'bg-green-50 dark:bg-green-950',
  },
  COLLECTION_STARTED: {
    icon: <Zap className="h-3 w-3" />,
    color: 'text-yellow-600',
    bgColor: 'bg-yellow-50 dark:bg-yellow-950',
  },
  COLLECTION_COMPLETED: {
    icon: <CheckCircle2 className="h-3 w-3" />,
    color: 'text-green-600',
    bgColor: 'bg-green-50 dark:bg-green-950',
  },
  ERROR: {
    icon: <AlertCircle className="h-3 w-3" />,
    color: 'text-red-600',
    bgColor: 'bg-red-50 dark:bg-red-950',
  },
};

function formatRelativeTime(date: Date): string {
  const now = new Date();
  const diff = now.getTime() - date.getTime();
  
  if (diff < 5000) return '방금';
  if (diff < 60000) return `${Math.floor(diff / 1000)}초 전`;
  if (diff < 3600000) return `${Math.floor(diff / 60000)}분 전`;
  if (diff < 86400000) return `${Math.floor(diff / 3600000)}시간 전`;
  return date.toLocaleDateString('ko-KR');
}

function LogEntry({ log }: { log: ActivityLogEntry }) {
  const config = eventTypeConfig[log.eventType] || eventTypeConfig.NEW_DATA;
  
  return (
    <div className={cn(
      'flex items-start gap-3 p-3 rounded-lg transition-all duration-300',
      'animate-in slide-in-from-top-2 fade-in',
      config.bgColor
    )}>
      <div className={cn('mt-0.5', config.color)}>
        {config.icon}
      </div>
      <div className="flex-1 min-w-0">
        <p className="text-sm text-foreground leading-snug">
          {log.message}
        </p>
        {log.data && Object.keys(log.data).length > 0 && (
          <div className="mt-1 text-xs text-muted-foreground">
            {Object.entries(log.data).slice(0, 3).map(([key, value]) => (
              <span key={key} className="mr-2">
                <span className="font-medium">{key}:</span>{' '}
                {typeof value === 'object' ? JSON.stringify(value) : String(value)}
              </span>
            ))}
          </div>
        )}
      </div>
      <div className="text-xs text-muted-foreground whitespace-nowrap flex items-center gap-1">
        <Clock className="h-3 w-3" />
        {formatRelativeTime(log.timestamp)}
      </div>
    </div>
  );
}

function ConnectionStatus({ status }: { status: LiveStreamProps['status'] }) {
  const statusConfig = {
    connecting: { color: 'bg-yellow-500', label: '연결 중...', animate: true },
    connected: { color: 'bg-green-500', label: '실시간 연결됨', animate: false },
    disconnected: { color: 'bg-gray-500', label: '연결 끊김', animate: false },
    error: { color: 'bg-red-500', label: '연결 오류', animate: false },
  };
  
  const config = statusConfig[status];
  
  return (
    <div className="flex items-center gap-2 text-xs text-muted-foreground">
      <span className={cn(
        'h-2 w-2 rounded-full',
        config.color,
        config.animate && 'animate-pulse'
      )} />
      {config.label}
    </div>
  );
}

/**
 * 실시간 활동 스트림 컴포넌트
 * 터미널 로그 스타일의 실시간 활동 피드
 */
export function LiveStream({
  logs,
  status,
  maxVisible = 20,
  title = '실시간 활동',
  className,
  onClear,
}: LiveStreamProps) {
  const scrollRef = useRef<HTMLDivElement>(null);
  
  // 새 로그가 추가되면 스크롤을 상단으로
  useEffect(() => {
    if (scrollRef.current) {
      scrollRef.current.scrollTop = 0;
    }
  }, [logs.length]);

  const visibleLogs = logs.slice(0, maxVisible);

  return (
    <div className={cn(
      'rounded-xl border bg-card shadow-sm flex flex-col',
      className
    )}>
      {/* Header */}
      <div className="flex items-center justify-between p-4 border-b">
        <div className="flex items-center gap-2">
          <Activity className="h-4 w-4 text-primary" />
          <h3 className="font-semibold">{title}</h3>
          {logs.length > 0 && (
            <span className="text-xs text-muted-foreground bg-muted px-2 py-0.5 rounded-full">
              {logs.length}
            </span>
          )}
        </div>
        <div className="flex items-center gap-3">
          <ConnectionStatus status={status} />
          {onClear && logs.length > 0 && (
            <button
              onClick={onClear}
              className="text-xs text-muted-foreground hover:text-foreground transition-colors"
            >
              지우기
            </button>
          )}
        </div>
      </div>
      
      {/* Log Stream */}
      <ScrollArea className="flex-1" ref={scrollRef}>
        <div className="p-3 space-y-2">
          {visibleLogs.length === 0 ? (
            <div className="flex flex-col items-center justify-center py-8 text-muted-foreground">
              {status === 'connected' ? (
                <>
                  <Activity className="h-8 w-8 mb-2 animate-pulse" />
                  <p className="text-sm">이벤트 대기 중...</p>
                </>
              ) : (
                <>
                  <AlertCircle className="h-8 w-8 mb-2" />
                  <p className="text-sm">연결 대기 중...</p>
                </>
              )}
            </div>
          ) : (
            visibleLogs.map((log) => (
              <LogEntry key={log.id} log={log} />
            ))
          )}
        </div>
      </ScrollArea>
      
      {/* Footer - 더 보기 */}
      {logs.length > maxVisible && (
        <div className="p-3 border-t text-center">
          <span className="text-xs text-muted-foreground">
            + {logs.length - maxVisible}개 더 있음
          </span>
        </div>
      )}
    </div>
  );
}

export default LiveStream;

```

---

## frontend/src/components/admin/SourceCard.tsx

```tsx
import { useState } from 'react';
import { cn } from '@/lib/utils';
import { Button } from '@/components/ui/button';
import { Badge } from '@/components/ui/badge';
import {
  Play,
  Pause,
  RefreshCw,
  Clock,
  CheckCircle2,
  AlertCircle,
  Loader2,
  ExternalLink,
  MoreVertical,
} from 'lucide-react';
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuTrigger,
} from '@/components/ui/dropdown-menu';
import { startCollectionForSource } from '@/lib/api/collection';
import { toast } from 'sonner';

export interface SourceInfo {
  id: number;
  name: string;
  url: string;
  sourceType: 'RSS' | 'WEB' | 'API' | 'WEBHOOK';
  active: boolean;
  lastCollectedAt?: string;
  lastError?: string;
  itemsCollectedToday?: number;
  totalItemsCollected?: number;
}

interface SourceCardProps {
  source: SourceInfo;
  /** 수집 실행 중 여부 */
  isCollecting?: boolean;
  /** 상태 변경 콜백 */
  onToggleActive?: (id: number, active: boolean) => Promise<void>;
  /** 수집 완료 콜백 */
  onCollectionComplete?: () => void;
  /** 클래스명 */
  className?: string;
}

function formatRelativeTime(dateString: string | undefined): string {
  if (!dateString) return '없음';
  
  const date = new Date(dateString);
  const now = new Date();
  const diff = now.getTime() - date.getTime();
  
  if (diff < 60000) return '방금 전';
  if (diff < 3600000) return `${Math.floor(diff / 60000)}분 전`;
  if (diff < 86400000) return `${Math.floor(diff / 3600000)}시간 전`;
  return `${Math.floor(diff / 86400000)}일 전`;
}

function getSourceTypeColor(type: SourceInfo['sourceType']): string {
  const colors: Record<SourceInfo['sourceType'], string> = {
    RSS: 'bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300',
    WEB: 'bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300',
    API: 'bg-purple-100 text-purple-700 dark:bg-purple-900 dark:text-purple-300',
    WEBHOOK: 'bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300',
  };
  return colors[type];
}

/**
 * 뉴스 소스 제어 카드
 * 소스 상태 표시 및 수집 트리거 버튼 제공
 */
export function SourceCard({
  source,
  isCollecting = false,
  onToggleActive,
  onCollectionComplete,
  className,
}: SourceCardProps) {
  const [isRunning, setIsRunning] = useState(false);
  const [isToggling, setIsToggling] = useState(false);

  const handleRunNow = async () => {
    if (isRunning || isCollecting) return;
    
    setIsRunning(true);
    try {
      await startCollectionForSource(source.id);
      toast.success(`${source.name} 수집이 시작되었습니다`);
      onCollectionComplete?.();
    } catch (e) {
      const message = e instanceof Error ? e.message : '수집 시작 실패';
      toast.error(message);
    } finally {
      setIsRunning(false);
    }
  };

  const handleToggleActive = async () => {
    if (!onToggleActive || isToggling) return;
    
    setIsToggling(true);
    try {
      await onToggleActive(source.id, !source.active);
      toast.success(source.active ? `${source.name} 비활성화됨` : `${source.name} 활성화됨`);
    } catch (e) {
      const message = e instanceof Error ? e.message : '상태 변경 실패';
      toast.error(message);
    } finally {
      setIsToggling(false);
    }
  };

  const hasError = !!source.lastError;
  const isHealthy = source.active && !hasError;

  return (
    <div className={cn(
      'rounded-lg border bg-card p-4 shadow-sm transition-all hover:shadow-md',
      !source.active && 'opacity-60',
      hasError && 'border-red-200 dark:border-red-800',
      className
    )}>
      {/* Header */}
      <div className="flex items-start justify-between gap-2">
        <div className="flex-1 min-w-0">
          <div className="flex items-center gap-2">
            <h4 className="font-medium text-sm truncate">{source.name}</h4>
            <Badge variant="secondary" className={cn('text-xs', getSourceTypeColor(source.sourceType))}>
              {source.sourceType}
            </Badge>
          </div>
          <a
            href={source.url}
            target="_blank"
            rel="noopener noreferrer"
            className="text-xs text-muted-foreground hover:text-primary flex items-center gap-1 mt-1 truncate"
          >
            {new URL(source.url).hostname}
            <ExternalLink className="h-3 w-3 flex-shrink-0" />
          </a>
        </div>
        
        <DropdownMenu>
          <DropdownMenuTrigger asChild>
            <Button variant="ghost" size="icon" className="h-8 w-8">
              <MoreVertical className="h-4 w-4" />
            </Button>
          </DropdownMenuTrigger>
          <DropdownMenuContent align="end">
            <DropdownMenuItem onClick={handleToggleActive} disabled={isToggling}>
              {source.active ? (
                <>
                  <Pause className="h-4 w-4 mr-2" />
                  비활성화
                </>
              ) : (
                <>
                  <Play className="h-4 w-4 mr-2" />
                  활성화
                </>
              )}
            </DropdownMenuItem>
            <DropdownMenuItem asChild>
              <a href={source.url} target="_blank" rel="noopener noreferrer">
                <ExternalLink className="h-4 w-4 mr-2" />
                사이트 열기
              </a>
            </DropdownMenuItem>
          </DropdownMenuContent>
        </DropdownMenu>
      </div>

      {/* Status */}
      <div className="mt-3 space-y-2">
        <div className="flex items-center justify-between text-xs">
          <span className="text-muted-foreground flex items-center gap-1">
            <Clock className="h-3 w-3" />
            마지막 수집
          </span>
          <span className={cn(
            'font-medium',
            source.lastCollectedAt ? 'text-foreground' : 'text-muted-foreground'
          )}>
            {formatRelativeTime(source.lastCollectedAt)}
          </span>
        </div>
        
        <div className="flex items-center justify-between text-xs">
          <span className="text-muted-foreground">상태</span>
          <div className="flex items-center gap-1">
            {isHealthy ? (
              <>
                <CheckCircle2 className="h-3 w-3 text-green-600" />
                <span className="text-green-600 font-medium">정상</span>
              </>
            ) : hasError ? (
              <>
                <AlertCircle className="h-3 w-3 text-red-600" />
                <span className="text-red-600 font-medium" title={source.lastError}>
                  오류
                </span>
              </>
            ) : (
              <>
                <Pause className="h-3 w-3 text-gray-500" />
                <span className="text-gray-500 font-medium">비활성</span>
              </>
            )}
          </div>
        </div>

        {source.itemsCollectedToday !== undefined && (
          <div className="flex items-center justify-between text-xs">
            <span className="text-muted-foreground">오늘 수집</span>
            <span className="font-medium">{source.itemsCollectedToday.toLocaleString()}건</span>
          </div>
        )}
      </div>

      {/* Error Message */}
      {hasError && (
        <div className="mt-2 p-2 rounded bg-red-50 dark:bg-red-950 text-xs text-red-600 dark:text-red-400 line-clamp-2">
          {source.lastError}
        </div>
      )}

      {/* Action Button */}
      <div className="mt-3">
        <Button
          variant="outline"
          size="sm"
          className="w-full"
          onClick={handleRunNow}
          disabled={!source.active || isRunning || isCollecting}
        >
          {isRunning || isCollecting ? (
            <>
              <Loader2 className="h-4 w-4 mr-2 animate-spin" />
              수집 중...
            </>
          ) : (
            <>
              <RefreshCw className="h-4 w-4 mr-2" />
              지금 수집
            </>
          )}
        </Button>
      </div>
    </div>
  );
}

export default SourceCard;

```

---

## frontend/src/components/charts/KeywordBarChart.tsx

```tsx
import { useRef, forwardRef, useImperativeHandle } from 'react';
import { Bar } from 'react-chartjs-2';
import {
  Chart as ChartJS,
  CategoryScale,
  LinearScale,
  BarElement,
  Tooltip,
  Legend,
  type ChartOptions,
} from 'chart.js';

// Register Chart.js components
ChartJS.register(CategoryScale, LinearScale, BarElement, Tooltip, Legend);

export interface KeywordBarChartProps {
  keywords: Array<{ keyword: string; count: number }>;
  title?: string;
  maxItems?: number;
  horizontal?: boolean;
  className?: string;
}

export interface ChartExportHandle {
  toBase64: () => string | null;
}

export const KeywordBarChart = forwardRef<ChartExportHandle, KeywordBarChartProps>(
  ({ keywords, title = '주요 키워드', maxItems = 10, horizontal = true, className }, ref) => {
    const chartRef = useRef<ChartJS<'bar'>>(null);

    useImperativeHandle(ref, () => ({
      toBase64: () => {
        if (chartRef.current) {
          return chartRef.current.toBase64Image();
        }
        return null;
      },
    }));

    // Sort and limit keywords
    const sortedKeywords = [...keywords]
      .sort((a, b) => b.count - a.count)
      .slice(0, maxItems);

    const data = {
      labels: sortedKeywords.map((k) => k.keyword),
      datasets: [
        {
          label: '언급 횟수',
          data: sortedKeywords.map((k) => k.count),
          backgroundColor: 'rgba(59, 130, 246, 0.7)',
          borderColor: 'rgba(59, 130, 246, 1)',
          borderWidth: 1,
          borderRadius: 4,
        },
      ],
    };

    const options: ChartOptions<'bar'> = {
      responsive: true,
      maintainAspectRatio: true,
      indexAxis: horizontal ? 'y' : 'x',
      plugins: {
        legend: {
          display: false,
        },
        title: {
          display: !!title,
          text: title,
          font: {
            size: 16,
            weight: 'bold',
          },
          padding: {
            bottom: 20,
          },
        },
        tooltip: {
          callbacks: {
            label: (context) => `${context.parsed.x || context.parsed.y}건`,
          },
        },
      },
      scales: {
        x: {
          beginAtZero: true,
          grid: {
            display: !horizontal,
          },
          ticks: {
            precision: 0,
          },
        },
        y: {
          grid: {
            display: horizontal,
          },
          ticks: {
            font: {
              size: 11,
            },
          },
        },
      },
    };

    return (
      <div className={className}>
        <Bar ref={chartRef} data={data} options={options} />
      </div>
    );
  }
);

KeywordBarChart.displayName = 'KeywordBarChart';

```

---

## frontend/src/components/charts/ReliabilityGauge.tsx

```tsx
import { useRef, forwardRef, useImperativeHandle } from 'react';
import { Doughnut } from 'react-chartjs-2';
import {
  Chart as ChartJS,
  ArcElement,
  Tooltip,
  Legend,
  type ChartOptions,
} from 'chart.js';

// Register Chart.js components
ChartJS.register(ArcElement, Tooltip, Legend);

export interface ReliabilityGaugeProps {
  score: number;  // 0-100
  title?: string;
  showLabel?: boolean;
  className?: string;
}

export interface ChartExportHandle {
  toBase64: () => string | null;
}

const getGradeInfo = (score: number) => {
  if (score >= 80) return { label: '높음', color: 'rgba(34, 197, 94, 0.8)', borderColor: 'rgba(34, 197, 94, 1)' };
  if (score >= 50) return { label: '중간', color: 'rgba(234, 179, 8, 0.8)', borderColor: 'rgba(234, 179, 8, 1)' };
  return { label: '낮음', color: 'rgba(239, 68, 68, 0.8)', borderColor: 'rgba(239, 68, 68, 1)' };
};

export const ReliabilityGauge = forwardRef<ChartExportHandle, ReliabilityGaugeProps>(
  ({ score, title = '신뢰도', showLabel = true, className }, ref) => {
    const chartRef = useRef<ChartJS<'doughnut'>>(null);

    useImperativeHandle(ref, () => ({
      toBase64: () => {
        if (chartRef.current) {
          return chartRef.current.toBase64Image();
        }
        return null;
      },
    }));

    const gradeInfo = getGradeInfo(score);
    const remaining = 100 - score;

    const data = {
      labels: ['신뢰도', ''],
      datasets: [
        {
          data: [score, remaining],
          backgroundColor: [gradeInfo.color, 'rgba(229, 231, 235, 0.5)'],
          borderColor: [gradeInfo.borderColor, 'rgba(229, 231, 235, 0.8)'],
          borderWidth: 2,
          circumference: 270,
          rotation: 225,
        },
      ],
    };

    const options: ChartOptions<'doughnut'> = {
      responsive: true,
      maintainAspectRatio: true,
      cutout: '70%',
      plugins: {
        legend: {
          display: false,
        },
        title: {
          display: !!title,
          text: title,
          font: {
            size: 16,
            weight: 'bold',
          },
          padding: {
            bottom: 10,
          },
        },
        tooltip: {
          enabled: false,
        },
      },
    };

    return (
      <div className={`relative ${className}`}>
        <Doughnut ref={chartRef} data={data} options={options} />
        {showLabel && (
          <div className="absolute inset-0 flex flex-col items-center justify-center pointer-events-none">
            <div className="text-3xl font-bold" style={{ color: gradeInfo.borderColor }}>
              {score}
            </div>
            <div className="text-sm text-muted-foreground">{gradeInfo.label}</div>
          </div>
        )}
      </div>
    );
  }
);

ReliabilityGauge.displayName = 'ReliabilityGauge';

```

---

## frontend/src/components/charts/SentimentPieChart.tsx

```tsx
import { useRef, forwardRef, useImperativeHandle } from 'react';
import { Pie } from 'react-chartjs-2';
import {
  Chart as ChartJS,
  ArcElement,
  Tooltip,
  Legend,
  type ChartOptions,
} from 'chart.js';

// Register Chart.js components
ChartJS.register(ArcElement, Tooltip, Legend);

export interface SentimentPieChartProps {
  positive: number;
  negative: number;
  neutral: number;
  title?: string;
  showLegend?: boolean;
  className?: string;
}

export interface ChartExportHandle {
  toBase64: () => string | null;
}

export const SentimentPieChart = forwardRef<ChartExportHandle, SentimentPieChartProps>(
  ({ positive, negative, neutral, title = '감성 분포', showLegend = true, className }, ref) => {
    const chartRef = useRef<ChartJS<'pie'>>(null);

    useImperativeHandle(ref, () => ({
      toBase64: () => {
        if (chartRef.current) {
          return chartRef.current.toBase64Image();
        }
        return null;
      },
    }));

    const data = {
      labels: ['긍정', '부정', '중립'],
      datasets: [
        {
          data: [positive, negative, neutral],
          backgroundColor: [
            'rgba(34, 197, 94, 0.8)',   // Green
            'rgba(239, 68, 68, 0.8)',    // Red
            'rgba(156, 163, 175, 0.8)',  // Gray
          ],
          borderColor: [
            'rgba(34, 197, 94, 1)',
            'rgba(239, 68, 68, 1)',
            'rgba(156, 163, 175, 1)',
          ],
          borderWidth: 2,
        },
      ],
    };

    const options: ChartOptions<'pie'> = {
      responsive: true,
      maintainAspectRatio: true,
      plugins: {
        legend: {
          display: showLegend,
          position: 'bottom',
          labels: {
            padding: 20,
            usePointStyle: true,
            font: {
              size: 12,
            },
          },
        },
        title: {
          display: !!title,
          text: title,
          font: {
            size: 16,
            weight: 'bold',
          },
          padding: {
            bottom: 20,
          },
        },
        tooltip: {
          callbacks: {
            label: (context) => {
              const total = positive + negative + neutral;
              const value = context.parsed;
              const percentage = total > 0 ? ((value / total) * 100).toFixed(1) : '0';
              return `${context.label}: ${value}건 (${percentage}%)`;
            },
          },
        },
      },
    };

    return (
      <div className={className}>
        <Pie ref={chartRef} data={data} options={options} />
      </div>
    );
  }
);

SentimentPieChart.displayName = 'SentimentPieChart';

```

---

## frontend/src/components/charts/SourceDistributionChart.tsx

```tsx
import { useRef, forwardRef, useImperativeHandle } from 'react';
import { Doughnut } from 'react-chartjs-2';
import {
  Chart as ChartJS,
  ArcElement,
  Tooltip,
  Legend,
  type ChartOptions,
} from 'chart.js';

// Register Chart.js components
ChartJS.register(ArcElement, Tooltip, Legend);

export interface SourceDistributionChartProps {
  sources: Array<{ source: string; count: number }>;
  title?: string;
  maxItems?: number;
  className?: string;
}

export interface ChartExportHandle {
  toBase64: () => string | null;
}

const COLORS = [
  'rgba(59, 130, 246, 0.8)',   // Blue
  'rgba(34, 197, 94, 0.8)',    // Green
  'rgba(234, 179, 8, 0.8)',    // Yellow
  'rgba(239, 68, 68, 0.8)',    // Red
  'rgba(168, 85, 247, 0.8)',   // Purple
  'rgba(20, 184, 166, 0.8)',   // Teal
  'rgba(249, 115, 22, 0.8)',   // Orange
  'rgba(236, 72, 153, 0.8)',   // Pink
  'rgba(107, 114, 128, 0.8)',  // Gray
  'rgba(139, 92, 246, 0.8)',   // Violet
];

const BORDER_COLORS = [
  'rgba(59, 130, 246, 1)',
  'rgba(34, 197, 94, 1)',
  'rgba(234, 179, 8, 1)',
  'rgba(239, 68, 68, 1)',
  'rgba(168, 85, 247, 1)',
  'rgba(20, 184, 166, 1)',
  'rgba(249, 115, 22, 1)',
  'rgba(236, 72, 153, 1)',
  'rgba(107, 114, 128, 1)',
  'rgba(139, 92, 246, 1)',
];

export const SourceDistributionChart = forwardRef<ChartExportHandle, SourceDistributionChartProps>(
  ({ sources, title = '출처별 분포', maxItems = 8, className }, ref) => {
    const chartRef = useRef<ChartJS<'doughnut'>>(null);

    useImperativeHandle(ref, () => ({
      toBase64: () => {
        if (chartRef.current) {
          return chartRef.current.toBase64Image();
        }
        return null;
      },
    }));

    // Sort and limit sources
    const sortedSources = [...sources]
      .sort((a, b) => b.count - a.count)
      .slice(0, maxItems);

    // Group remaining sources as "기타"
    if (sources.length > maxItems) {
      const otherCount = sources
        .sort((a, b) => b.count - a.count)
        .slice(maxItems)
        .reduce((sum, s) => sum + s.count, 0);
      if (otherCount > 0) {
        sortedSources.push({ source: '기타', count: otherCount });
      }
    }

    const data = {
      labels: sortedSources.map((s) => s.source),
      datasets: [
        {
          data: sortedSources.map((s) => s.count),
          backgroundColor: sortedSources.map((_, i) => COLORS[i % COLORS.length]),
          borderColor: sortedSources.map((_, i) => BORDER_COLORS[i % BORDER_COLORS.length]),
          borderWidth: 2,
        },
      ],
    };

    const options: ChartOptions<'doughnut'> = {
      responsive: true,
      maintainAspectRatio: true,
      cutout: '50%',
      plugins: {
        legend: {
          display: true,
          position: 'right',
          labels: {
            padding: 15,
            usePointStyle: true,
            font: {
              size: 11,
            },
          },
        },
        title: {
          display: !!title,
          text: title,
          font: {
            size: 16,
            weight: 'bold',
          },
          padding: {
            bottom: 20,
          },
        },
        tooltip: {
          callbacks: {
            label: (context) => {
              const total = sortedSources.reduce((sum, s) => sum + s.count, 0);
              const percentage = total > 0 ? ((context.parsed / total) * 100).toFixed(1) : '0';
              return `${context.label}: ${context.parsed}건 (${percentage}%)`;
            },
          },
        },
      },
    };

    return (
      <div className={className}>
        <Doughnut ref={chartRef} data={data} options={options} />
      </div>
    );
  }
);

SourceDistributionChart.displayName = 'SourceDistributionChart';

```

---

## frontend/src/components/charts/TrendLineChart.tsx

```tsx
import { useRef, forwardRef, useImperativeHandle } from 'react';
import { Line } from 'react-chartjs-2';
import {
  Chart as ChartJS,
  CategoryScale,
  LinearScale,
  PointElement,
  LineElement,
  Tooltip,
  Legend,
  Filler,
  type ChartOptions,
} from 'chart.js';

// Register Chart.js components
ChartJS.register(
  CategoryScale,
  LinearScale,
  PointElement,
  LineElement,
  Tooltip,
  Legend,
  Filler
);

export interface TrendDataPoint {
  date: string;
  count: number;
}

export interface TrendLineChartProps {
  data: TrendDataPoint[];
  title?: string;
  showArea?: boolean;
  color?: string;
  className?: string;
}

export interface ChartExportHandle {
  toBase64: () => string | null;
}

export const TrendLineChart = forwardRef<ChartExportHandle, TrendLineChartProps>(
  ({ data, title = '시간대별 트렌드', showArea = true, color = 'rgb(59, 130, 246)', className }, ref) => {
    const chartRef = useRef<ChartJS<'line'>>(null);

    useImperativeHandle(ref, () => ({
      toBase64: () => {
        if (chartRef.current) {
          return chartRef.current.toBase64Image();
        }
        return null;
      },
    }));

    const chartData = {
      labels: data.map((d) => d.date),
      datasets: [
        {
          label: '기사 수',
          data: data.map((d) => d.count),
          borderColor: color,
          backgroundColor: showArea ? `${color}33` : 'transparent',
          fill: showArea,
          tension: 0.4,
          pointBackgroundColor: color,
          pointBorderColor: '#fff',
          pointBorderWidth: 2,
          pointRadius: 4,
          pointHoverRadius: 6,
        },
      ],
    };

    const options: ChartOptions<'line'> = {
      responsive: true,
      maintainAspectRatio: true,
      plugins: {
        legend: {
          display: false,
        },
        title: {
          display: !!title,
          text: title,
          font: {
            size: 16,
            weight: 'bold',
          },
          padding: {
            bottom: 20,
          },
        },
        tooltip: {
          mode: 'index',
          intersect: false,
          callbacks: {
            label: (context) => `${context.parsed.y}건`,
          },
        },
      },
      scales: {
        x: {
          grid: {
            display: false,
          },
          ticks: {
            maxRotation: 45,
            minRotation: 0,
          },
        },
        y: {
          beginAtZero: true,
          grid: {
            color: 'rgba(0, 0, 0, 0.1)',
          },
          ticks: {
            precision: 0,
          },
        },
      },
      interaction: {
        mode: 'nearest',
        axis: 'x',
        intersect: false,
      },
    };

    return (
      <div className={className}>
        <Line ref={chartRef} data={chartData} options={options} />
      </div>
    );
  }
);

TrendLineChart.displayName = 'TrendLineChart';

```

---

## frontend/src/components/charts/index.ts

```ts
/**
 * Chart components for PDF report generation
 * These components use Chart.js and provide a toBase64() method
 * for exporting chart images to be included in PDF reports.
 */

export { SentimentPieChart, type SentimentPieChartProps } from './SentimentPieChart';
export { KeywordBarChart, type KeywordBarChartProps } from './KeywordBarChart';
export { TrendLineChart, type TrendLineChartProps, type TrendDataPoint } from './TrendLineChart';
export { ReliabilityGauge, type ReliabilityGaugeProps } from './ReliabilityGauge';
export { SourceDistributionChart, type SourceDistributionChartProps } from './SourceDistributionChart';

// Common export handle interface
export type { ChartExportHandle } from './SentimentPieChart';

```

---

## frontend/src/components/dashboard/LiveNewsTicker.tsx

```tsx
import { useEffect, useState, useCallback } from "react";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";
import { ExternalLink, TrendingUp, Clock, RefreshCw, AlertCircle } from "lucide-react";
import { ScrollArea } from "@/components/ui/scroll-area";
import { Button } from "@/components/ui/button";
import { Skeleton } from "@/components/ui/skeleton";
import { listCollectedData, type CollectedDataDTO } from "@/lib/api/data";

interface NewsItem {
  id: string;
  title: string;
  source: string;
  time: string;
  url: string;
  category: string;
  originalData?: CollectedDataDTO;
}

/**
 * 수집된 데이터를 뉴스 아이템으로 변환
 */
const transformToNewsItem = (data: CollectedDataDTO): NewsItem => {
  // metadata에서 source 이름 추출 (API returns snake_case: source_name)
  const sourceName = (data.metadata?.source_name as string) || 
                     (data.metadata?.sourceName as string) || 
                     (data.metadata?.source as string) || 
                     `Source #${data.sourceId}`;
  
  // metadata에서 카테고리 추출 (tags 배열 또는 category)
  const tags = data.metadata?.tags as string[] | undefined;
  const category = (tags && tags.length > 0 ? tags[0] : null) ||
                   (data.metadata?.category as string) || 
                   (data.metadata?.section as string) || 
                   '일반';
  
  // 시간 포맷팅
  const time = data.publishedDate 
    ? new Date(data.publishedDate).toLocaleTimeString('ko-KR', { hour: '2-digit', minute: '2-digit' })
    : new Date(data.collectedAt).toLocaleTimeString('ko-KR', { hour: '2-digit', minute: '2-digit' });

  return {
    id: data.id.toString(),
    title: data.title || '제목 없음',
    source: sourceName,
    time,
    url: data.url || '#',
    category,
    originalData: data,
  };
};

export function LiveNewsTicker() {
  const [news, setNews] = useState<NewsItem[]>([]);
  const [isLoading, setIsLoading] = useState(true);
  const [error, setError] = useState<string | null>(null);
  const [lastFetchTime, setLastFetchTime] = useState<Date | null>(null);

  // 데이터 로드 함수
  const fetchNews = useCallback(async (showLoading = true) => {
    if (showLoading) setIsLoading(true);
    setError(null);
    
    try {
      // 최근 수집된 데이터 20개 조회
      const result = await listCollectedData(0, 20);
      const newsItems = result.content.map(transformToNewsItem);
      setNews(newsItems);
      setLastFetchTime(new Date());
    } catch (e) {
      console.error('Failed to fetch news:', e);
      setError('뉴스를 불러오는데 실패했습니다.');
    } finally {
      setIsLoading(false);
    }
  }, []);

  // 초기 로드
  useEffect(() => {
    fetchNews();
  }, [fetchNews]);

  // 30초마다 자동 새로고침
  useEffect(() => {
    const interval = setInterval(() => {
      fetchNews(false); // 로딩 표시 없이 백그라운드 업데이트
    }, 30000);

    return () => clearInterval(interval);
  }, [fetchNews]);

  // 뉴스 클릭 핸들러
  const handleNewsClick = (item: NewsItem, e: React.MouseEvent) => {
    if (!item.url || item.url === '#') {
      e.preventDefault();
      // URL이 없으면 상세 페이지로 이동하거나 모달 표시
      // 추후 상세 보기 기능 추가 가능
      return;
    }
    // 외부 URL은 새 탭에서 열기
  };

  // 로딩 상태
  if (isLoading && news.length === 0) {
    return (
      <Card className="h-full">
        <CardHeader className="pb-2">
          <CardTitle className="text-lg font-bold flex items-center gap-2">
            <TrendingUp className="h-5 w-5 text-red-500" />
            실시간 뉴스 브리핑
          </CardTitle>
        </CardHeader>
        <CardContent>
          <div className="space-y-4">
            {[1, 2, 3, 4, 5].map(i => (
              <div key={i} className="p-3 rounded-lg border">
                <Skeleton className="h-4 w-24 mb-2" />
                <Skeleton className="h-5 w-full" />
              </div>
            ))}
          </div>
        </CardContent>
      </Card>
    );
  }

  // 에러 상태
  if (error && news.length === 0) {
    return (
      <Card className="h-full">
        <CardHeader className="pb-2">
          <CardTitle className="text-lg font-bold flex items-center gap-2">
            <TrendingUp className="h-5 w-5 text-red-500" />
            실시간 뉴스 브리핑
          </CardTitle>
        </CardHeader>
        <CardContent className="flex flex-col items-center justify-center h-[300px] gap-4">
          <AlertCircle className="h-12 w-12 text-muted-foreground" />
          <p className="text-muted-foreground">{error}</p>
          <Button variant="outline" size="sm" onClick={() => fetchNews()}>
            <RefreshCw className="h-4 w-4 mr-2" />
            다시 시도
          </Button>
        </CardContent>
      </Card>
    );
  }

  // 데이터 없음 상태
  if (news.length === 0) {
    return (
      <Card className="h-full">
        <CardHeader className="pb-2">
          <CardTitle className="text-lg font-bold flex items-center gap-2">
            <TrendingUp className="h-5 w-5 text-red-500" />
            실시간 뉴스 브리핑
          </CardTitle>
        </CardHeader>
        <CardContent className="flex flex-col items-center justify-center h-[300px] gap-4">
          <p className="text-muted-foreground">수집된 뉴스가 없습니다.</p>
          <Button variant="outline" size="sm" onClick={() => fetchNews()}>
            <RefreshCw className="h-4 w-4 mr-2" />
            새로고침
          </Button>
        </CardContent>
      </Card>
    );
  }

  return (
    <Card className="h-full">
      <CardHeader className="pb-2">
        <div className="flex items-center justify-between">
          <CardTitle className="text-lg font-bold flex items-center gap-2">
            <TrendingUp className="h-5 w-5 text-red-500" />
            실시간 뉴스 브리핑
          </CardTitle>
          <div className="flex items-center gap-2">
            {lastFetchTime && (
              <span className="text-xs text-muted-foreground">
                {lastFetchTime.toLocaleTimeString('ko-KR', { hour: '2-digit', minute: '2-digit' })} 업데이트
              </span>
            )}
            <Badge variant="outline" className="animate-pulse text-red-500 border-red-200 bg-red-50 dark:bg-red-950 dark:border-red-800">
              LIVE
            </Badge>
          </div>
        </div>
      </CardHeader>
      <CardContent>
        <ScrollArea className="h-[380px] pr-4">
          <div className="space-y-3">
            {news.map((item, index) => (
              <a
                key={item.id}
                href={item.url}
                target="_blank"
                rel="noopener noreferrer"
                onClick={(e) => handleNewsClick(item, e)}
                className={`
                  block p-3 rounded-lg border bg-card transition-all cursor-pointer
                  hover:bg-accent/50 hover:border-primary/30 hover:shadow-sm
                  ${index === 0 ? 'border-l-4 border-l-red-500 shadow-sm' : ''}
                `}
              >
                <div className="flex items-center justify-between text-xs text-muted-foreground mb-1">
                  <div className="flex items-center gap-2">
                    <Badge variant="secondary" className="text-[10px] h-5">
                      {item.category}
                    </Badge>
                    <span className="font-medium text-primary/80">{item.source}</span>
                  </div>
                  <div className="flex items-center gap-1">
                    <Clock className="h-3 w-3" />
                    {item.time}
                  </div>
                </div>
                <div className="font-medium flex items-start gap-1 text-sm leading-snug">
                  <span className="flex-1 line-clamp-2">{item.title}</span>
                  {item.url && item.url !== '#' && (
                    <ExternalLink className="h-3 w-3 mt-0.5 opacity-50 flex-shrink-0" />
                  )}
                </div>
              </a>
            ))}
          </div>
        </ScrollArea>
      </CardContent>
    </Card>
  );
}

```

---

## frontend/src/components/dashboard/MCPAnalysisPanel.tsx

```tsx
/**
 * MCP Analysis Panel
 *
 * 종합적인 MCP 분석 결과를 표시하는 대시보드 패널
 * - 편향도 게이지
 * - 신뢰도 점수
 * - 감성 분포
 * - 주요 토픽
 */

import { useState } from 'react';
import { AlertCircle, CheckCircle2, Loader2, RefreshCw, TrendingUp } from 'lucide-react';
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Progress } from '@/components/ui/progress';
import { Badge } from '@/components/ui/badge';
import { Skeleton } from '@/components/ui/skeleton';
import { Alert, AlertDescription } from '@/components/ui/alert';
import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';
import { cn } from '@/lib/utils';
import {
  analyzeComprehensive,
  getBiasLabel,
  getBiasColor,
  getReliabilityLabel,
  getReliabilityColor,
  getSentimentLabel,
  getSentimentColor,
  type ComprehensiveAnalysisResult,
  type BiasAnalysisData,
  type FactcheckAnalysisData,
  type SentimentAnalysisData,
  type TopicAnalysisData,
} from '@/lib/api/mcp';

interface MCPAnalysisPanelProps {
  keyword: string;
  days?: number;
  className?: string;
  onAnalysisComplete?: (result: ComprehensiveAnalysisResult) => void;
}

export function MCPAnalysisPanel({
  keyword,
  days = 7,
  className,
  onAnalysisComplete,
}: MCPAnalysisPanelProps) {
  const [isLoading, setIsLoading] = useState(false);
  const [result, setResult] = useState<ComprehensiveAnalysisResult | null>(null);
  const [error, setError] = useState<string | null>(null);

  const runAnalysis = async () => {
    setIsLoading(true);
    setError(null);

    try {
      const analysisResult = await analyzeComprehensive({ keyword, days });
      setResult(analysisResult);
      onAnalysisComplete?.(analysisResult);
    } catch (err) {
      setError(err instanceof Error ? err.message : '분석 중 오류가 발생했습니다');
    } finally {
      setIsLoading(false);
    }
  };

  // 로딩 상태
  if (isLoading) {
    return (
      <Card className={className}>
        <CardHeader>
          <CardTitle className="flex items-center gap-2">
            <Loader2 className="h-5 w-5 animate-spin" />
            분석 중...
          </CardTitle>
          <CardDescription>"{keyword}"에 대한 종합 분석을 수행하고 있습니다</CardDescription>
        </CardHeader>
        <CardContent className="space-y-4">
          <Skeleton className="h-24 w-full" />
          <Skeleton className="h-24 w-full" />
        </CardContent>
      </Card>
    );
  }

  // 에러 상태
  if (error) {
    return (
      <Card className={cn('border-destructive/50', className)}>
        <CardContent className="py-6">
          <Alert variant="destructive">
            <AlertCircle className="h-4 w-4" />
            <AlertDescription>{error}</AlertDescription>
          </Alert>
          <Button variant="outline" size="sm" onClick={runAnalysis} className="mt-4">
            <RefreshCw className="h-4 w-4 mr-2" />
            다시 시도
          </Button>
        </CardContent>
      </Card>
    );
  }

  // 초기 상태 또는 결과 없음
  if (!result) {
    return (
      <Card className={className}>
        <CardHeader>
          <CardTitle>MCP 종합 분석</CardTitle>
          <CardDescription>
            "{keyword}"에 대한 편향도, 신뢰도, 감성, 토픽을 분석합니다
          </CardDescription>
        </CardHeader>
        <CardContent>
          <Button onClick={runAnalysis} className="w-full">
            <TrendingUp className="h-4 w-4 mr-2" />
            분석 시작
          </Button>
        </CardContent>
      </Card>
    );
  }

  // 결과 렌더링
  const { results } = result;
  const biasData = 'data' in results.bias ? (results.bias.data as BiasAnalysisData) : null;
  const factcheckData =
    'data' in results.factcheck ? (results.factcheck.data as FactcheckAnalysisData) : null;
  const sentimentData =
    'data' in results.sentiment ? (results.sentiment.data as SentimentAnalysisData) : null;
  const topicData = 'data' in results.topic ? (results.topic.data as TopicAnalysisData) : null;

  return (
    <Card className={className}>
      <CardHeader>
        <div className="flex items-center justify-between">
          <div>
            <CardTitle>MCP 종합 분석 결과</CardTitle>
            <CardDescription>
              "{keyword}" · 최근 {days}일
            </CardDescription>
          </div>
          <div className="flex items-center gap-2">
            <Badge variant={result.success ? 'default' : 'secondary'}>
              {Math.round(result.success_rate * 100)}% 성공
            </Badge>
            <Button variant="ghost" size="icon" onClick={runAnalysis}>
              <RefreshCw className="h-4 w-4" />
            </Button>
          </div>
        </div>
      </CardHeader>
      <CardContent>
        <Tabs defaultValue="bias" className="w-full">
          <TabsList className="grid w-full grid-cols-4">
            <TabsTrigger value="bias">편향도</TabsTrigger>
            <TabsTrigger value="factcheck">신뢰도</TabsTrigger>
            <TabsTrigger value="sentiment">감성</TabsTrigger>
            <TabsTrigger value="topic">토픽</TabsTrigger>
          </TabsList>

          {/* 편향도 탭 */}
          <TabsContent value="bias" className="mt-4">
            {biasData ? (
              <BiasAnalysisCard data={biasData} />
            ) : (
              <ErrorMessage message={'error' in results.bias ? results.bias.error : '데이터 없음'} />
            )}
          </TabsContent>

          {/* 신뢰도 탭 */}
          <TabsContent value="factcheck" className="mt-4">
            {factcheckData ? (
              <FactcheckAnalysisCard data={factcheckData} />
            ) : (
              <ErrorMessage
                message={'error' in results.factcheck ? results.factcheck.error : '데이터 없음'}
              />
            )}
          </TabsContent>

          {/* 감성 탭 */}
          <TabsContent value="sentiment" className="mt-4">
            {sentimentData ? (
              <SentimentAnalysisCard data={sentimentData} />
            ) : (
              <ErrorMessage
                message={'error' in results.sentiment ? results.sentiment.error : '데이터 없음'}
              />
            )}
          </TabsContent>

          {/* 토픽 탭 */}
          <TabsContent value="topic" className="mt-4">
            {topicData ? (
              <TopicAnalysisCard data={topicData} />
            ) : (
              <ErrorMessage
                message={'error' in results.topic ? results.topic.error : '데이터 없음'}
              />
            )}
          </TabsContent>
        </Tabs>
      </CardContent>
    </Card>
  );
}

// ─────────────────────────────────────────────
// Sub Components
// ─────────────────────────────────────────────

function ErrorMessage({ message }: { message: string }) {
  return (
    <Alert variant="destructive">
      <AlertCircle className="h-4 w-4" />
      <AlertDescription>{message}</AlertDescription>
    </Alert>
  );
}

function BiasAnalysisCard({ data }: { data: BiasAnalysisData }) {
  const biasPercent = ((data.overall_bias + 1) / 2) * 100; // -1~1 → 0~100

  return (
    <div className="space-y-4">
      {/* 편향도 게이지 */}
      <div className="space-y-2">
        <div className="flex justify-between text-sm">
          <span className="text-blue-600">진보</span>
          <span className="font-medium">{getBiasLabel(data.overall_bias)}</span>
          <span className="text-red-600">보수</span>
        </div>
        <div className="relative h-3 bg-gradient-to-r from-blue-500 via-gray-300 to-red-500 rounded-full">
          <div
            className="absolute top-1/2 -translate-y-1/2 w-4 h-4 bg-white border-2 border-gray-800 rounded-full shadow"
            style={{ left: `calc(${biasPercent}% - 8px)` }}
          />
        </div>
      </div>

      {/* 통계 */}
      <div className="grid grid-cols-2 gap-4">
        <div className="p-3 rounded-lg bg-muted">
          <div className="text-xs text-muted-foreground">객관성 점수</div>
          <div className="text-lg font-semibold">{(data.objectivity_score * 100).toFixed(0)}%</div>
        </div>
        <div className="p-3 rounded-lg bg-muted">
          <div className="text-xs text-muted-foreground">신뢰도</div>
          <div className="text-lg font-semibold">{(data.confidence * 100).toFixed(0)}%</div>
        </div>
      </div>

      {/* 언론사 분포 */}
      {data.source_distribution && Object.keys(data.source_distribution).length > 0 && (
        <div>
          <h4 className="text-sm font-medium mb-2">언론사별 분포</h4>
          <div className="space-y-1">
            {Object.entries(data.source_distribution)
              .slice(0, 5)
              .map(([source, count]) => (
                <div key={source} className="flex items-center justify-between text-sm">
                  <span className="text-muted-foreground">{source}</span>
                  <Badge variant="secondary">{count}건</Badge>
                </div>
              ))}
          </div>
        </div>
      )}
    </div>
  );
}

function FactcheckAnalysisCard({ data }: { data: FactcheckAnalysisData }) {
  const reliabilityPercent = data.reliability_score * 100;

  return (
    <div className="space-y-4">
      {/* 신뢰도 점수 */}
      <div className="text-center p-4 rounded-lg bg-muted">
        <div className="text-3xl font-bold" style={{ color: `var(--${getReliabilityColor(data.reliability_score)})` }}>
          {reliabilityPercent.toFixed(0)}%
        </div>
        <div className="text-sm text-muted-foreground">
          {getReliabilityLabel(data.reliability_score)}
        </div>
      </div>

      {/* 검증 현황 */}
      <div className="grid grid-cols-2 gap-4">
        <div className="p-3 rounded-lg bg-green-50 dark:bg-green-900/20">
          <div className="flex items-center gap-2">
            <CheckCircle2 className="h-4 w-4 text-green-600" />
            <span className="text-xs text-muted-foreground">검증된 주장</span>
          </div>
          <div className="text-lg font-semibold text-green-600">{data.verified_claims}</div>
        </div>
        <div className="p-3 rounded-lg bg-yellow-50 dark:bg-yellow-900/20">
          <div className="flex items-center gap-2">
            <AlertCircle className="h-4 w-4 text-yellow-600" />
            <span className="text-xs text-muted-foreground">미검증 주장</span>
          </div>
          <div className="text-lg font-semibold text-yellow-600">{data.unverified_claims}</div>
        </div>
      </div>

      {/* 인용 품질 */}
      <div>
        <div className="flex justify-between text-sm mb-1">
          <span>인용 품질</span>
          <span>{(data.citation_quality * 100).toFixed(0)}%</span>
        </div>
        <Progress value={data.citation_quality * 100} />
      </div>
    </div>
  );
}

function SentimentAnalysisCard({ data }: { data: SentimentAnalysisData }) {
  const total = data.distribution.positive + data.distribution.negative + data.distribution.neutral;
  const posPercent = total > 0 ? (data.distribution.positive / total) * 100 : 0;
  const negPercent = total > 0 ? (data.distribution.negative / total) * 100 : 0;
  const neuPercent = total > 0 ? (data.distribution.neutral / total) * 100 : 0;

  return (
    <div className="space-y-4">
      {/* 전체 감성 */}
      <div className="text-center p-4 rounded-lg bg-muted">
        <Badge
          variant="outline"
          className={cn(
            'text-lg px-4 py-1',
            data.overall_sentiment === 'positive' && 'border-green-500 text-green-600',
            data.overall_sentiment === 'negative' && 'border-red-500 text-red-600',
            data.overall_sentiment === 'neutral' && 'border-gray-500 text-gray-600'
          )}
        >
          {getSentimentLabel(data.overall_sentiment)}
        </Badge>
        <div className="text-sm text-muted-foreground mt-2">
          점수: {(data.sentiment_score * 100).toFixed(0)} · 신뢰도: {(data.confidence * 100).toFixed(0)}%
        </div>
      </div>

      {/* 분포 차트 */}
      <div className="space-y-3">
        <div className="space-y-1">
          <div className="flex justify-between text-sm">
            <span className="text-green-600">긍정</span>
            <span>{posPercent.toFixed(1)}%</span>
          </div>
          <div className="h-2 bg-muted rounded-full overflow-hidden">
            <div className="h-full bg-green-500" style={{ width: `${posPercent}%` }} />
          </div>
        </div>
        <div className="space-y-1">
          <div className="flex justify-between text-sm">
            <span className="text-gray-600">중립</span>
            <span>{neuPercent.toFixed(1)}%</span>
          </div>
          <div className="h-2 bg-muted rounded-full overflow-hidden">
            <div className="h-full bg-gray-400" style={{ width: `${neuPercent}%` }} />
          </div>
        </div>
        <div className="space-y-1">
          <div className="flex justify-between text-sm">
            <span className="text-red-600">부정</span>
            <span>{negPercent.toFixed(1)}%</span>
          </div>
          <div className="h-2 bg-muted rounded-full overflow-hidden">
            <div className="h-full bg-red-500" style={{ width: `${negPercent}%` }} />
          </div>
        </div>
      </div>
    </div>
  );
}

function TopicAnalysisCard({ data }: { data: TopicAnalysisData }) {
  return (
    <div className="space-y-4">
      {/* 주요 토픽 */}
      <div>
        <h4 className="text-sm font-medium mb-2">주요 토픽</h4>
        <div className="flex flex-wrap gap-2">
          {data.main_topics.slice(0, 8).map((topic, idx) => (
            <Badge key={idx} variant={idx < 3 ? 'default' : 'secondary'}>
              {topic.topic}
              <span className="ml-1 opacity-70">{(topic.relevance * 100).toFixed(0)}%</span>
            </Badge>
          ))}
        </div>
      </div>

      {/* 관련 엔티티 */}
      {data.related_entities && data.related_entities.length > 0 && (
        <div>
          <h4 className="text-sm font-medium mb-2">관련 인물/기관</h4>
          <div className="flex flex-wrap gap-1">
            {data.related_entities.slice(0, 10).map((entity, idx) => (
              <Badge key={idx} variant="outline" className="text-xs">
                {entity}
              </Badge>
            ))}
          </div>
        </div>
      )}

      {/* 카테고리 분포 */}
      {data.category_distribution && Object.keys(data.category_distribution).length > 0 && (
        <div>
          <h4 className="text-sm font-medium mb-2">카테고리 분포</h4>
          <div className="space-y-2">
            {Object.entries(data.category_distribution)
              .sort(([, a], [, b]) => b - a)
              .slice(0, 5)
              .map(([category, count]) => (
                <div key={category} className="flex items-center gap-2">
                  <span className="text-sm text-muted-foreground w-20 truncate">{category}</span>
                  <div className="flex-1 h-2 bg-muted rounded-full overflow-hidden">
                    <div
                      className="h-full bg-primary"
                      style={{
                        width: `${(count / Math.max(...Object.values(data.category_distribution))) * 100}%`,
                      }}
                    />
                  </div>
                  <span className="text-xs text-muted-foreground w-8 text-right">{count}</span>
                </div>
              ))}
          </div>
        </div>
      )}
    </div>
  );
}

export default MCPAnalysisPanel;

```

---

## frontend/src/components/dashboard/MCPHealthStatus.tsx

```tsx
/**
 * MCP Health Status Widget
 *
 * MCP 서버들의 상태를 모니터링하는 위젯
 */

import { useState, useEffect } from 'react';
import {
  CheckCircle2,
  AlertCircle,
  XCircle,
  RefreshCw,
  Server,
  Loader2,
} from 'lucide-react';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Badge } from '@/components/ui/badge';
import { Skeleton } from '@/components/ui/skeleton';
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger,
} from '@/components/ui/tooltip';
import { cn } from '@/lib/utils';
import { checkMcpHealth, type MCPHealthResponse } from '@/lib/api/mcp';

interface MCPHealthStatusProps {
  className?: string;
  refreshInterval?: number; // in milliseconds, 0 to disable auto-refresh
  compact?: boolean;
}

export function MCPHealthStatus({
  className,
  refreshInterval = 60000, // 1분
  compact = false,
}: MCPHealthStatusProps) {
  const [health, setHealth] = useState<MCPHealthResponse | null>(null);
  const [isLoading, setIsLoading] = useState(true);
  const [error, setError] = useState<string | null>(null);
  const [lastUpdated, setLastUpdated] = useState<Date | null>(null);

  const fetchHealth = async () => {
    setIsLoading(true);
    setError(null);

    try {
      const result = await checkMcpHealth();
      setHealth(result);
      setLastUpdated(new Date());
    } catch (err) {
      setError(err instanceof Error ? err.message : 'MCP 상태 확인 실패');
    } finally {
      setIsLoading(false);
    }
  };

  useEffect(() => {
    fetchHealth();

    if (refreshInterval > 0) {
      const interval = setInterval(fetchHealth, refreshInterval);
      return () => clearInterval(interval);
    }
  }, [refreshInterval]);

  const getStatusIcon = (status: string) => {
    switch (status) {
      case 'healthy':
        return <CheckCircle2 className="h-4 w-4 text-green-500" />;
      case 'degraded':
        return <AlertCircle className="h-4 w-4 text-yellow-500" />;
      case 'unhealthy':
        return <XCircle className="h-4 w-4 text-red-500" />;
      default:
        return <AlertCircle className="h-4 w-4 text-gray-400" />;
    }
  };

  const getStatusBadge = (status: string) => {
    const variants: Record<string, 'default' | 'secondary' | 'destructive' | 'outline'> = {
      healthy: 'default',
      degraded: 'secondary',
      unhealthy: 'destructive',
    };
    const labels: Record<string, string> = {
      healthy: '정상',
      degraded: '성능 저하',
      unhealthy: '오류',
    };
    return (
      <Badge variant={variants[status] || 'outline'}>
        {labels[status] || status}
      </Badge>
    );
  };

  // 로딩 상태
  if (isLoading && !health) {
    return (
      <Card className={className}>
        <CardHeader className="pb-2">
          <Skeleton className="h-5 w-32" />
        </CardHeader>
        <CardContent>
          <div className="space-y-2">
            {[1, 2, 3].map((i) => (
              <Skeleton key={i} className="h-8 w-full" />
            ))}
          </div>
        </CardContent>
      </Card>
    );
  }

  // 에러 상태
  if (error && !health) {
    return (
      <Card className={cn('border-destructive/50', className)}>
        <CardContent className="py-4">
          <div className="flex items-center gap-2 text-destructive">
            <XCircle className="h-4 w-4" />
            <span className="text-sm">{error}</span>
          </div>
          <Button variant="outline" size="sm" onClick={fetchHealth} className="mt-2">
            <RefreshCw className="h-4 w-4 mr-2" />
            다시 시도
          </Button>
        </CardContent>
      </Card>
    );
  }

  // Compact 버전
  if (compact && health) {
    return (
      <TooltipProvider>
        <Tooltip>
          <TooltipTrigger asChild>
            <div
              className={cn(
                'flex items-center gap-2 px-3 py-1.5 rounded-full cursor-default',
                health.status === 'healthy' && 'bg-green-100 dark:bg-green-900/30',
                health.status === 'degraded' && 'bg-yellow-100 dark:bg-yellow-900/30',
                health.status === 'unhealthy' && 'bg-red-100 dark:bg-red-900/30',
                className
              )}
            >
              {getStatusIcon(health.status)}
              <span className="text-sm font-medium">
                MCP {health.healthy}/{health.total}
              </span>
              {isLoading && <Loader2 className="h-3 w-3 animate-spin" />}
            </div>
          </TooltipTrigger>
          <TooltipContent>
            <div className="space-y-1">
              {Object.entries(health.servers).map(([name, server]) => (
                <div key={name} className="flex items-center gap-2 text-xs">
                  {getStatusIcon(server.status)}
                  <span>{name}</span>
                  {server.latency_ms && (
                    <span className="text-muted-foreground">{server.latency_ms}ms</span>
                  )}
                </div>
              ))}
            </div>
          </TooltipContent>
        </Tooltip>
      </TooltipProvider>
    );
  }

  // Full 버전
  return (
    <Card className={className}>
      <CardHeader className="pb-2">
        <div className="flex items-center justify-between">
          <CardTitle className="text-base flex items-center gap-2">
            <Server className="h-4 w-4" />
            MCP 서버 상태
          </CardTitle>
          <div className="flex items-center gap-2">
            {getStatusBadge(health?.status || 'unknown')}
            <Button
              variant="ghost"
              size="icon"
              onClick={fetchHealth}
              disabled={isLoading}
              className="h-8 w-8"
            >
              <RefreshCw className={cn('h-4 w-4', isLoading && 'animate-spin')} />
            </Button>
          </div>
        </div>
        {lastUpdated && (
          <p className="text-xs text-muted-foreground">
            마지막 업데이트: {lastUpdated.toLocaleTimeString()}
          </p>
        )}
      </CardHeader>
      <CardContent>
        {health && (
          <div className="space-y-2">
            {Object.entries(health.servers).map(([name, server]) => (
              <div
                key={name}
                className={cn(
                  'flex items-center justify-between p-2 rounded-lg',
                  server.status === 'healthy' && 'bg-green-50 dark:bg-green-900/10',
                  server.status === 'degraded' && 'bg-yellow-50 dark:bg-yellow-900/10',
                  server.status === 'unhealthy' && 'bg-red-50 dark:bg-red-900/10'
                )}
              >
                <div className="flex items-center gap-2">
                  {getStatusIcon(server.status)}
                  <span className="text-sm font-medium">{name}</span>
                </div>
                <div className="flex items-center gap-2">
                  {server.latency_ms && (
                    <span className="text-xs text-muted-foreground">
                      {server.latency_ms}ms
                    </span>
                  )}
                  {server.error && (
                    <TooltipProvider>
                      <Tooltip>
                        <TooltipTrigger>
                          <AlertCircle className="h-4 w-4 text-destructive" />
                        </TooltipTrigger>
                        <TooltipContent>
                          <p className="text-xs max-w-xs">{server.error}</p>
                        </TooltipContent>
                      </Tooltip>
                    </TooltipProvider>
                  )}
                </div>
              </div>
            ))}
          </div>
        )}

        {/* 요약 통계 */}
        {health && (
          <div className="mt-4 pt-4 border-t flex items-center justify-center gap-4 text-sm">
            <div className="flex items-center gap-1">
              <CheckCircle2 className="h-4 w-4 text-green-500" />
              <span>{health.healthy} 정상</span>
            </div>
            <div className="flex items-center gap-1">
              <XCircle className="h-4 w-4 text-red-500" />
              <span>{health.total - health.healthy} 오류</span>
            </div>
          </div>
        )}
      </CardContent>
    </Card>
  );
}

export default MCPHealthStatus;

```

---

## frontend/src/components/dashboard/MCPTrendingTopics.tsx

```tsx
/**
 * MCP Trending Topics Widget
 *
 * MCP Topic Server에서 가져온 트렌딩 토픽을 표시
 */

import { useState, useEffect } from 'react';
import { Link } from 'react-router-dom';
import {
  TrendingUp,
  TrendingDown,
  Minus,
  Flame,
  RefreshCw,
  Loader2,
} from 'lucide-react';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Badge } from '@/components/ui/badge';
import { Skeleton } from '@/components/ui/skeleton';
import { cn } from '@/lib/utils';
import { getTrendingTopics, type MCPAddonResponse } from '@/lib/api/mcp';

interface Topic {
  topic: string;
  count: number;
  trend: 'up' | 'down' | 'stable';
  category?: string;
  change?: number;
}

interface MCPTrendingTopicsProps {
  className?: string;
  maxItems?: number;
  days?: number;
  onTopicClick?: (topic: string) => void;
  showRefresh?: boolean;
}

export function MCPTrendingTopics({
  className,
  maxItems = 10,
  days = 1,
  onTopicClick,
  showRefresh = true,
}: MCPTrendingTopicsProps) {
  const [topics, setTopics] = useState<Topic[]>([]);
  const [isLoading, setIsLoading] = useState(true);
  const [error, setError] = useState<string | null>(null);

  const fetchTopics = async () => {
    setIsLoading(true);
    setError(null);

    try {
      const result = await getTrendingTopics(days, maxItems);
      if (result.success && result.data) {
        const topicsData = result.data as { topics?: Topic[] };
        setTopics(topicsData.topics || []);
      } else {
        setError(result.error || '토픽을 불러올 수 없습니다');
      }
    } catch (err) {
      setError(err instanceof Error ? err.message : '트렌딩 토픽 로드 실패');
    } finally {
      setIsLoading(false);
    }
  };

  useEffect(() => {
    fetchTopics();
  }, [days, maxItems]);

  const getTrendIcon = (trend: string) => {
    switch (trend) {
      case 'up':
        return <TrendingUp className="h-3 w-3 text-green-500" />;
      case 'down':
        return <TrendingDown className="h-3 w-3 text-red-500" />;
      default:
        return <Minus className="h-3 w-3 text-gray-400" />;
    }
  };

  const handleTopicClick = (topic: string, e: React.MouseEvent) => {
    if (onTopicClick) {
      e.preventDefault();
      onTopicClick(topic);
    }
  };

  // 로딩 상태
  if (isLoading) {
    return (
      <Card className={className}>
        <CardHeader className="pb-3">
          <div className="flex items-center gap-2">
            <Loader2 className="h-4 w-4 animate-spin" />
            <Skeleton className="h-5 w-32" />
          </div>
        </CardHeader>
        <CardContent className="space-y-2">
          {[1, 2, 3, 4, 5].map((i) => (
            <Skeleton key={i} className="h-10 w-full" />
          ))}
        </CardContent>
      </Card>
    );
  }

  // 에러 상태
  if (error) {
    return (
      <Card className={cn('border-yellow-500/50', className)}>
        <CardHeader className="pb-3">
          <CardTitle className="text-base flex items-center gap-2">
            <TrendingUp className="h-4 w-4 text-orange-500" />
            트렌딩 토픽
          </CardTitle>
        </CardHeader>
        <CardContent>
          <p className="text-sm text-muted-foreground mb-2">{error}</p>
          <Button variant="outline" size="sm" onClick={fetchTopics}>
            <RefreshCw className="h-4 w-4 mr-2" />
            다시 시도
          </Button>
        </CardContent>
      </Card>
    );
  }

  // 빈 상태
  if (topics.length === 0) {
    return (
      <Card className={className}>
        <CardHeader className="pb-3">
          <CardTitle className="text-base flex items-center gap-2">
            <TrendingUp className="h-4 w-4 text-orange-500" />
            트렌딩 토픽
          </CardTitle>
        </CardHeader>
        <CardContent>
          <div className="text-center py-6 text-muted-foreground">
            <TrendingUp className="h-8 w-8 mx-auto mb-2 opacity-50" />
            <p className="text-sm">트렌딩 토픽이 없습니다</p>
            <p className="text-xs mt-1">분석할 데이터가 충분히 쌓이면 표시됩니다</p>
          </div>
        </CardContent>
      </Card>
    );
  }

  return (
    <Card className={className}>
      <CardHeader className="pb-3">
        <div className="flex items-center justify-between">
          <CardTitle className="text-base flex items-center gap-2">
            <TrendingUp className="h-4 w-4 text-orange-500" />
            트렌딩 토픽
            <Badge variant="secondary" className="text-xs">
              최근 {days}일
            </Badge>
          </CardTitle>
          {showRefresh && (
            <Button
              variant="ghost"
              size="icon"
              onClick={fetchTopics}
              className="h-8 w-8"
            >
              <RefreshCw className="h-4 w-4" />
            </Button>
          )}
        </div>
      </CardHeader>
      <CardContent className="space-y-1">
        {topics.slice(0, maxItems).map((topic, index) => (
          <Link
            key={topic.topic}
            to={`/search?q=${encodeURIComponent(topic.topic)}`}
            onClick={(e) => handleTopicClick(topic.topic, e)}
            className={cn(
              'flex items-center gap-3 px-3 py-2 rounded-lg transition-colors',
              'hover:bg-muted group'
            )}
          >
            {/* 순위 */}
            <div
              className={cn(
                'flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold',
                index < 3
                  ? 'bg-orange-100 text-orange-600 dark:bg-orange-900/30 dark:text-orange-400'
                  : 'bg-muted text-muted-foreground'
              )}
            >
              {index + 1}
            </div>

            {/* 토픽 정보 */}
            <div className="flex-1 min-w-0">
              <div className="flex items-center gap-2">
                <span className="text-sm font-medium truncate group-hover:text-primary transition-colors">
                  {topic.topic}
                </span>
                {index < 3 && topic.trend === 'up' && (
                  <Flame className="h-3.5 w-3.5 text-red-500 flex-shrink-0" />
                )}
              </div>
              {topic.category && (
                <span className="text-xs text-muted-foreground">{topic.category}</span>
              )}
            </div>

            {/* 트렌드 & 카운트 */}
            <div className="flex items-center gap-2 flex-shrink-0">
              {getTrendIcon(topic.trend)}
              <span className="text-xs text-muted-foreground">{topic.count}건</span>
            </div>
          </Link>
        ))}
      </CardContent>
    </Card>
  );
}

// Compact 버전
interface MCPTrendingTopicsCompactProps {
  className?: string;
  maxItems?: number;
  onTopicClick?: (topic: string) => void;
}

export function MCPTrendingTopicsCompact({
  className,
  maxItems = 5,
  onTopicClick,
}: MCPTrendingTopicsCompactProps) {
  const [topics, setTopics] = useState<Topic[]>([]);
  const [isLoading, setIsLoading] = useState(true);

  useEffect(() => {
    const fetchTopics = async () => {
      try {
        const result = await getTrendingTopics(1, maxItems);
        if (result.success && result.data) {
          const topicsData = result.data as { topics?: Topic[] };
          setTopics(topicsData.topics || []);
        }
      } catch {
        // Silent fail for compact version
      } finally {
        setIsLoading(false);
      }
    };
    fetchTopics();
  }, [maxItems]);

  if (isLoading) {
    return (
      <div className={cn('space-y-2', className)}>
        {[1, 2, 3].map((i) => (
          <Skeleton key={i} className="h-8 w-full" />
        ))}
      </div>
    );
  }

  if (topics.length === 0) {
    return null;
  }

  return (
    <div className={cn('space-y-1', className)}>
      {topics.slice(0, maxItems).map((topic, index) => (
        <button
          key={topic.topic}
          onClick={() => onTopicClick?.(topic.topic)}
          className="flex items-center gap-2 px-2 py-1.5 rounded hover:bg-muted transition-colors w-full text-left"
        >
          <span
            className={cn(
              'text-xs font-medium w-4',
              index < 3 ? 'text-orange-500' : 'text-muted-foreground'
            )}
          >
            {index + 1}
          </span>
          <span className="text-sm line-clamp-1 flex-1">{topic.topic}</span>
          {index < 3 && topic.trend === 'up' && (
            <Flame className="h-3 w-3 text-red-500" />
          )}
        </button>
      ))}
    </div>
  );
}

export default MCPTrendingTopics;

```

---

## frontend/src/components/dashboard/RecentActivity.tsx

```tsx
import { useEffect, useState } from "react";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Activity, CheckCircle2, Search, Brain, Shield, Loader2, AlertCircle } from "lucide-react";
import { ScrollArea } from "@/components/ui/scroll-area";
import { listSearchHistory, type SearchHistoryRecord } from "@/lib/api";

interface ActivityItem {
  id: string;
  type: string;
  message: string;
  time: string;
  icon: typeof Search;
  color: string;
  bg: string;
}

// 검색 타입에 따른 아이콘 및 스타일 매핑
const getActivityStyle = (searchType: string) => {
  switch (searchType) {
    case 'UNIFIED':
      return {
        icon: Search,
        color: "text-blue-500",
        bg: "bg-blue-100 dark:bg-blue-900/30",
        label: "통합 검색"
      };
    case 'DEEP_SEARCH':
      return {
        icon: Brain,
        color: "text-purple-500",
        bg: "bg-purple-100 dark:bg-purple-900/30",
        label: "Deep Search 분석"
      };
    case 'FACT_CHECK':
      return {
        icon: Shield,
        color: "text-green-500",
        bg: "bg-green-100 dark:bg-green-900/30",
        label: "팩트체크"
      };
    case 'BROWSER_AGENT':
      return {
        icon: CheckCircle2,
        color: "text-orange-500",
        bg: "bg-orange-100 dark:bg-orange-900/30",
        label: "브라우저 에이전트"
      };
    default:
      return {
        icon: Activity,
        color: "text-gray-500",
        bg: "bg-gray-100 dark:bg-gray-800",
        label: "활동"
      };
  }
};

// 시간 포맷팅
const formatTimeAgo = (dateString: string): string => {
  const date = new Date(dateString);
  const now = new Date();
  const diffMs = now.getTime() - date.getTime();
  const diffMins = Math.floor(diffMs / 60000);
  const diffHours = Math.floor(diffMs / 3600000);
  const diffDays = Math.floor(diffMs / 86400000);

  if (diffMins < 1) return "방금 전";
  if (diffMins < 60) return `${diffMins}분 전`;
  if (diffHours < 24) return `${diffHours}시간 전`;
  if (diffDays < 7) return `${diffDays}일 전`;
  return date.toLocaleDateString('ko-KR');
};

// 검색 기록을 활동 항목으로 변환
const convertToActivity = (record: SearchHistoryRecord): ActivityItem => {
  const style = getActivityStyle(record.searchType);
  const resultInfo = record.resultCount > 0 ? ` (${record.resultCount}건)` : '';
  
  return {
    id: record.id.toString(),
    type: record.searchType.toLowerCase(),
    message: `'${record.query}' ${style.label} 수행${resultInfo}`,
    time: formatTimeAgo(record.createdAt),
    icon: style.icon,
    color: style.color,
    bg: style.bg,
  };
};

export function RecentActivity() {
  const [activities, setActivities] = useState<ActivityItem[]>([]);
  const [isLoading, setIsLoading] = useState(true);
  const [error, setError] = useState<string | null>(null);

  useEffect(() => {
    const fetchActivities = async () => {
      try {
        setIsLoading(true);
        setError(null);
        
        // 최근 검색 기록 10개 조회
        const response = await listSearchHistory(0, 10, 'createdAt', 'DESC');
        const activityItems = response.content.map(convertToActivity);
        setActivities(activityItems);
      } catch (err) {
        console.error('Failed to fetch recent activities:', err);
        setError('활동 기록을 불러오는데 실패했습니다.');
      } finally {
        setIsLoading(false);
      }
    };

    fetchActivities();
    
    // 1분마다 자동 새로고침
    const interval = setInterval(fetchActivities, 60000);
    return () => clearInterval(interval);
  }, []);

  return (
    <Card className="h-full">
      <CardHeader>
        <CardTitle className="text-lg font-bold flex items-center gap-2">
          <Activity className="h-5 w-5 text-orange-500" />
          최근 활동
        </CardTitle>
      </CardHeader>
      <CardContent>
        <ScrollArea className="h-[300px]">
          {isLoading ? (
            <div className="flex items-center justify-center h-full">
              <Loader2 className="h-6 w-6 animate-spin text-muted-foreground" />
            </div>
          ) : error ? (
            <div className="flex flex-col items-center justify-center h-full text-muted-foreground">
              <AlertCircle className="h-8 w-8 mb-2" />
              <p className="text-sm">{error}</p>
            </div>
          ) : activities.length === 0 ? (
            <div className="flex flex-col items-center justify-center h-full text-muted-foreground">
              <Activity className="h-8 w-8 mb-2 opacity-50" />
              <p className="text-sm">아직 활동 기록이 없습니다</p>
              <p className="text-xs mt-1">검색을 시작해보세요!</p>
            </div>
          ) : (
            <div className="relative border-l ml-3 my-2 space-y-6">
              {activities.map((item) => (
                <div key={item.id} className="ml-6 relative">
                  <span className={`absolute -left-[35px] flex h-8 w-8 items-center justify-center rounded-full ${item.bg} ring-4 ring-background`}>
                    <item.icon className={`h-4 w-4 ${item.color}`} />
                  </span>
                  <div className="flex flex-col gap-1">
                    <p className="text-sm font-medium leading-none">{item.message}</p>
                    <span className="text-xs text-muted-foreground">{item.time}</span>
                  </div>
                </div>
              ))}
            </div>
          )}
        </ScrollArea>
      </CardContent>
    </Card>
  );
}

```

---

## frontend/src/components/dashboard/TrendChart.tsx

```tsx
import { useEffect, useState } from "react";
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from "@/components/ui/card";
import { BarChart3, TrendingUp, Loader2, AlertCircle } from "lucide-react";
import { getSearchStatistics, listSearchHistory } from "@/lib/api";

interface KeywordTrend {
  keyword: string;
  count: number;
  percentage: number;
  color: string;
}

// 키워드별 색상 팔레트
const COLORS = [
  "bg-blue-500",
  "bg-green-500", 
  "bg-purple-500",
  "bg-orange-500",
  "bg-pink-500",
  "bg-cyan-500",
  "bg-yellow-500",
  "bg-red-500",
];

export function TrendChart() {
  const [trends, setTrends] = useState<KeywordTrend[]>([]);
  const [totalSearches, setTotalSearches] = useState(0);
  const [isLoading, setIsLoading] = useState(true);
  const [error, setError] = useState<string | null>(null);

  useEffect(() => {
    const fetchTrends = async () => {
      try {
        setIsLoading(true);
        setError(null);

        // 검색 통계와 최근 검색 기록을 병렬로 가져오기
        const [statsResponse, historyResponse] = await Promise.all([
          getSearchStatistics(7),
          listSearchHistory(0, 100, 'createdAt', 'DESC'),
        ]);

        setTotalSearches(statsResponse.totalSearches);

        // 검색 기록에서 키워드 빈도 추출
        const keywordCount = new Map<string, number>();
        historyResponse.content.forEach(record => {
          const query = record.query.toLowerCase().trim();
          if (query.length >= 2) {
            keywordCount.set(query, (keywordCount.get(query) || 0) + 1);
          }
        });

        // 빈도순 정렬 후 상위 8개 추출
        const sortedKeywords = Array.from(keywordCount.entries())
          .sort((a, b) => b[1] - a[1])
          .slice(0, 8);

        const totalCount = sortedKeywords.reduce((sum, [, count]) => sum + count, 0);

        const trendData: KeywordTrend[] = sortedKeywords.map(([keyword, count], index) => ({
          keyword: keyword.length > 10 ? keyword.slice(0, 10) + '...' : keyword,
          count,
          percentage: totalCount > 0 ? Math.round((count / totalCount) * 100) : 0,
          color: COLORS[index % COLORS.length],
        }));

        setTrends(trendData);
      } catch (err) {
        console.error('Failed to fetch trend data:', err);
        setError('트렌드 데이터를 불러오는데 실패했습니다.');
      } finally {
        setIsLoading(false);
      }
    };

    fetchTrends();
    
    // 5분마다 자동 새로고침
    const interval = setInterval(fetchTrends, 5 * 60 * 1000);
    return () => clearInterval(interval);
  }, []);

  return (
    <Card className="h-full">
      <CardHeader>
        <CardTitle className="text-lg font-bold flex items-center gap-2">
          <BarChart3 className="h-5 w-5 text-blue-500" />
          주요 키워드 트렌드
        </CardTitle>
        <CardDescription>
          지난 7일간 검색된 키워드 {totalSearches > 0 && `(총 ${totalSearches}회 검색)`}
        </CardDescription>
      </CardHeader>
      <CardContent>
        {isLoading ? (
          <div className="h-[300px] w-full flex items-center justify-center">
            <Loader2 className="h-8 w-8 animate-spin text-muted-foreground" />
          </div>
        ) : error ? (
          <div className="h-[300px] w-full flex flex-col items-center justify-center text-muted-foreground">
            <AlertCircle className="h-10 w-10 mb-2" />
            <p className="text-sm">{error}</p>
          </div>
        ) : trends.length === 0 ? (
          <div className="h-[300px] w-full bg-slate-50 dark:bg-slate-900/50 rounded-lg flex items-center justify-center border border-dashed">
            <div className="text-center text-muted-foreground">
              <TrendingUp className="h-10 w-10 mx-auto mb-2 opacity-20" />
              <p>아직 검색 기록이 없습니다</p>
              <p className="text-xs mt-1">검색을 시작하면 트렌드가 표시됩니다</p>
            </div>
          </div>
        ) : (
          <div className="h-[300px] w-full">
            {/* 막대 차트 */}
            <div className="space-y-3">
              {trends.map((trend, index) => (
                <div key={index} className="space-y-1">
                  <div className="flex justify-between items-center text-sm">
                    <span className="font-medium truncate max-w-[150px]" title={trend.keyword}>
                      {trend.keyword}
                    </span>
                    <span className="text-muted-foreground">
                      {trend.count}회 ({trend.percentage}%)
                    </span>
                  </div>
                  <div className="h-2 w-full bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden">
                    <div 
                      className={`h-full ${trend.color} rounded-full transition-all duration-500`}
                      style={{ width: `${trend.percentage}%` }}
                    />
                  </div>
                </div>
              ))}
            </div>

            {/* 범례 */}
            <div className="mt-6 grid grid-cols-2 gap-2 text-sm">
              {trends.slice(0, 4).map((trend, index) => (
                <div key={index} className="flex items-center gap-2">
                  <div className={`w-3 h-3 rounded-full ${trend.color}`} />
                  <span className="truncate" title={trend.keyword}>{trend.keyword}</span>
                </div>
              ))}
            </div>
          </div>
        )}
      </CardContent>
    </Card>
  );
}

```

---

## frontend/src/components/home/ContinueCard.tsx

```tsx
/**
 * ContinueCard - 이어서 하기 카드
 * 
 * 마지막으로 진행하던 작업을 보여주고 빠르게 재개할 수 있게 함
 * - 진행 중인 Deep Search
 * - 미완료 팩트체크
 * - 최근 검색
 */

import { Link } from 'react-router-dom';
import {
  ArrowRight,
  Brain,
  Shield,
  Search,
  Bot,
  Link as LinkIcon,
  X,
  Loader2,
  Clock,
  Play,
} from 'lucide-react';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Progress } from '@/components/ui/progress';
import { Badge } from '@/components/ui/badge';
import { Skeleton } from '@/components/ui/skeleton';
import { useContinueWork, type ContinueWorkItem, type WorkType } from '@/hooks/useContinueWork';
import { cn } from '@/lib/utils';

// 작업 타입별 설정
const WORK_TYPE_CONFIG: Record<WorkType, {
  icon: typeof Search;
  color: string;
  bgColor: string;
  label: string;
}> = {
  deep_search: {
    icon: Brain,
    color: 'text-purple-600',
    bgColor: 'bg-purple-50 dark:bg-purple-900/20',
    label: '심층 분석',
  },
  fact_check: {
    icon: Shield,
    color: 'text-green-600',
    bgColor: 'bg-green-50 dark:bg-green-900/20',
    label: '팩트체크',
  },
  unified_search: {
    icon: Search,
    color: 'text-blue-600',
    bgColor: 'bg-blue-50 dark:bg-blue-900/20',
    label: '검색',
  },
  browser_agent: {
    icon: Bot,
    color: 'text-orange-600',
    bgColor: 'bg-orange-50 dark:bg-orange-900/20',
    label: 'AI 에이전트',
  },
  url_analysis: {
    icon: LinkIcon,
    color: 'text-cyan-600',
    bgColor: 'bg-cyan-50 dark:bg-cyan-900/20',
    label: 'URL 분석',
  },
};

interface ContinueCardProps {
  className?: string;
  showRecent?: boolean;
  maxItems?: number;
}

export function ContinueCard({
  className,
  showRecent = true,
  maxItems = 3,
}: ContinueCardProps) {
  const {
    lastWork,
    recentWorks,
    isLoading,
    error,
    dismissWork,
    clearAllWorks,
  } = useContinueWork();

  // 로딩 상태
  if (isLoading) {
    return (
      <Card className={cn('border-dashed', className)}>
        <CardHeader className="pb-3">
          <Skeleton className="h-5 w-32" />
        </CardHeader>
        <CardContent>
          <Skeleton className="h-20 w-full" />
        </CardContent>
      </Card>
    );
  }

  // 작업 없음
  if (!lastWork && recentWorks.length === 0) {
    return null;
  }

  // 에러 상태
  if (error) {
    return (
      <Card className={cn('border-destructive/50', className)}>
        <CardContent className="py-4">
          <p className="text-sm text-destructive">{error}</p>
        </CardContent>
      </Card>
    );
  }

  const displayWorks = showRecent
    ? recentWorks.slice(0, maxItems)
    : lastWork
      ? [lastWork]
      : [];

  return (
    <Card className={cn('border-primary/30 bg-primary/5', className)}>
      <CardHeader className="pb-3">
        <div className="flex items-center justify-between">
          <CardTitle className="text-base flex items-center gap-2">
            <Clock className="h-4 w-4 text-primary" />
            이어서 하기
          </CardTitle>
          {recentWorks.length > 0 && (
            <Button
              variant="ghost"
              size="sm"
              onClick={clearAllWorks}
              className="text-xs text-muted-foreground h-7"
            >
              전체 지우기
            </Button>
          )}
        </div>
      </CardHeader>
      <CardContent className="space-y-3">
        {displayWorks.map(work => (
          <WorkItem
            key={work.id}
            work={work}
            onDismiss={() => dismissWork(work.id)}
            isPrimary={work.id === lastWork?.id}
          />
        ))}
      </CardContent>
    </Card>
  );
}

// 개별 작업 아이템
interface WorkItemProps {
  work: ContinueWorkItem;
  onDismiss: () => void;
  isPrimary?: boolean;
}

function WorkItem({ work, onDismiss, isPrimary }: WorkItemProps) {
  const config = WORK_TYPE_CONFIG[work.type];
  const Icon = config.icon;

  const statusLabel = {
    in_progress: '진행 중',
    paused: '일시 정지',
    waiting: '대기 중',
    ready: '준비됨',
  }[work.status];

  return (
    <div
      className={cn(
        'relative rounded-lg p-4 transition-all',
        config.bgColor,
        isPrimary && 'ring-2 ring-primary/30'
      )}
    >
      <div className="flex items-start gap-3">
        {/* 아이콘 */}
        <div className={cn('p-2 rounded-lg bg-background/50', config.color)}>
          {work.status === 'in_progress' ? (
            <Loader2 className="h-5 w-5 animate-spin" />
          ) : (
            <Icon className="h-5 w-5" />
          )}
        </div>

        {/* 내용 */}
        <div className="flex-1 min-w-0">
          <div className="flex items-center gap-2 mb-1">
            <Badge variant="outline" className={cn('text-xs', config.color)}>
              {config.label}
            </Badge>
            <Badge
              variant="secondary"
              className={cn(
                'text-xs',
                work.status === 'in_progress' && 'bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400'
              )}
            >
              {statusLabel}
            </Badge>
          </div>

          <h4 className="font-medium text-sm line-clamp-1 mb-1">
            {work.title}
          </h4>

          {work.description && (
            <p className="text-xs text-muted-foreground line-clamp-1">
              {work.description}
            </p>
          )}

          {/* 진행률 표시 */}
          {work.progress !== undefined && work.status === 'in_progress' && (
            <div className="mt-2">
              <Progress value={work.progress} className="h-1.5" />
              <span className="text-xs text-muted-foreground mt-1">
                {work.progress}% 완료
              </span>
            </div>
          )}
        </div>

        {/* 액션 버튼 */}
        <div className="flex items-center gap-1">
          <Button
            variant="ghost"
            size="icon"
            onClick={onDismiss}
            className="h-7 w-7 text-muted-foreground hover:text-destructive"
          >
            <X className="h-4 w-4" />
          </Button>

          <Button
            asChild
            size="sm"
            variant={isPrimary ? 'default' : 'outline'}
            className="h-8 gap-1"
          >
            <Link to={work.continueUrl}>
              <Play className="h-3.5 w-3.5" />
              <span className="hidden sm:inline">계속하기</span>
            </Link>
          </Button>
        </div>
      </div>
    </div>
  );
}

export default ContinueCard;

```

---

## frontend/src/components/home/DailyInsightCard.tsx

```tsx
/**
 * DailyInsightCard - 오늘의 논쟁 이슈 카드
 * 
 * 매일 갱신되는 핫 이슈를 표시하여 재방문 유도
 * - 입장 분포 시각화
 * - 빠른 분석 시작 버튼
 */

import { Link } from 'react-router-dom';
import {
  Flame,
  TrendingUp,
  ThumbsUp,
  ThumbsDown,
  Minus,
  ArrowRight,
  Sparkles,
  RefreshCw,
} from 'lucide-react';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Badge } from '@/components/ui/badge';
import { Skeleton } from '@/components/ui/skeleton';
import { useTrendingTopics, type TrendingTopic } from '@/hooks/useTrendingTopics';
import { cn } from '@/lib/utils';

interface DailyInsightCardProps {
  className?: string;
}

export function DailyInsightCard({ className }: DailyInsightCardProps) {
  const { topics, isLoading, refresh } = useTrendingTopics();

  // 가장 핫한 토픽 선택
  const hotTopic = topics.find(t => t.isHot) || topics[0];

  // 로딩 상태
  if (isLoading) {
    return (
      <Card className={cn('overflow-hidden', className)}>
        <CardContent className="p-0">
          <Skeleton className="h-48 w-full" />
        </CardContent>
      </Card>
    );
  }

  if (!hotTopic) {
    return null;
  }

  return (
    <Card
      className={cn(
        'overflow-hidden border-2',
        'bg-gradient-to-br from-orange-50 to-red-50',
        'dark:from-orange-900/20 dark:to-red-900/20',
        'border-orange-200 dark:border-orange-800/50',
        className
      )}
    >
      <CardHeader className="pb-2">
        <div className="flex items-center justify-between">
          <CardTitle className="text-base flex items-center gap-2">
            <Flame className="h-5 w-5 text-orange-500" />
            오늘의 논쟁 이슈
          </CardTitle>
          <Button
            variant="ghost"
            size="icon"
            onClick={refresh}
            className="h-8 w-8"
          >
            <RefreshCw className="h-4 w-4" />
          </Button>
        </div>
      </CardHeader>
      <CardContent className="space-y-4">
        {/* 주제 */}
        <div>
          <h3 className="font-bold text-lg leading-tight mb-1">
            {hotTopic.title}
          </h3>
          {hotTopic.description && (
            <p className="text-sm text-muted-foreground">
              {hotTopic.description}
            </p>
          )}
        </div>

        {/* 입장 분포 */}
        {hotTopic.stanceDistribution && (
          <div className="space-y-2">
            {/* 분포 바 */}
            <div className="flex h-8 rounded-lg overflow-hidden shadow-inner">
              {hotTopic.stanceDistribution.proRatio > 0 && (
                <div
                  className="flex items-center justify-center bg-teal-500 text-white text-sm font-medium"
                  style={{ width: `${hotTopic.stanceDistribution.proRatio}%` }}
                >
                  {hotTopic.stanceDistribution.proRatio >= 15 && (
                    <span className="flex items-center gap-1">
                      <ThumbsUp className="h-3.5 w-3.5" />
                      {Math.round(hotTopic.stanceDistribution.proRatio)}%
                    </span>
                  )}
                </div>
              )}
              {hotTopic.stanceDistribution.neutralRatio > 0 && (
                <div
                  className="flex items-center justify-center bg-gray-400 text-white text-sm font-medium"
                  style={{ width: `${hotTopic.stanceDistribution.neutralRatio}%` }}
                >
                  {hotTopic.stanceDistribution.neutralRatio >= 15 && (
                    <span className="flex items-center gap-1">
                      <Minus className="h-3.5 w-3.5" />
                      {Math.round(hotTopic.stanceDistribution.neutralRatio)}%
                    </span>
                  )}
                </div>
              )}
              {hotTopic.stanceDistribution.conRatio > 0 && (
                <div
                  className="flex items-center justify-center bg-red-500 text-white text-sm font-medium"
                  style={{ width: `${hotTopic.stanceDistribution.conRatio}%` }}
                >
                  {hotTopic.stanceDistribution.conRatio >= 15 && (
                    <span className="flex items-center gap-1">
                      <ThumbsDown className="h-3.5 w-3.5" />
                      {Math.round(hotTopic.stanceDistribution.conRatio)}%
                    </span>
                  )}
                </div>
              )}
            </div>

            {/* 범례 */}
            <div className="flex justify-between text-xs">
              <span className="flex items-center gap-1 text-teal-600 dark:text-teal-400">
                <ThumbsUp className="h-3 w-3" />
                찬성 {hotTopic.stanceDistribution.pro}건
              </span>
              <span className="flex items-center gap-1 text-gray-500">
                <Minus className="h-3 w-3" />
                중립 {hotTopic.stanceDistribution.neutral}건
              </span>
              <span className="flex items-center gap-1 text-red-600 dark:text-red-400">
                <ThumbsDown className="h-3 w-3" />
                반대 {hotTopic.stanceDistribution.con}건
              </span>
            </div>
          </div>
        )}

        {/* 메타 정보 & 액션 */}
        <div className="flex items-center justify-between pt-2">
          <div className="flex items-center gap-2">
            {hotTopic.category && (
              <Badge variant="outline" className="text-xs">
                {hotTopic.category}
              </Badge>
            )}
            {hotTopic.newsCount && (
              <span className="text-xs text-muted-foreground">
                관련 뉴스 {hotTopic.newsCount}건
              </span>
            )}
          </div>

          <Button asChild size="sm" className="gap-1">
            <Link to={hotTopic.searchUrl}>
              <Sparkles className="h-4 w-4" />
              심층 분석 시작
            </Link>
          </Button>
        </div>
      </CardContent>
    </Card>
  );
}

export default DailyInsightCard;

```

---

## frontend/src/components/home/HeroSearchBar.tsx

```tsx
/**
 * HeroSearchBar - 대형 검색창 컴포넌트
 * 
 * 홈 화면 상단에 배치되는 주요 검색 진입점
 * - 크고 눈에 띄는 디자인
 * - 플레이스홀더로 용도 안내
 * - 검색 모드 전환 지원
 */

import { useState, useCallback, useRef, useEffect } from 'react';
import { useNavigate } from 'react-router-dom';
import {
  Search,
  Sparkles,
  Brain,
  Shield,
  Link as LinkIcon,
  ArrowRight,
  Loader2,
  X,
} from 'lucide-react';
import { Input } from '@/components/ui/input';
import { Button } from '@/components/ui/button';
import { Badge } from '@/components/ui/badge';
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuTrigger,
} from '@/components/ui/dropdown-menu';
import { cn } from '@/lib/utils';

export type SearchMode = 'unified' | 'deep' | 'factcheck' | 'urlanalysis';

interface SearchModeConfig {
  id: SearchMode;
  label: string;
  description: string;
  icon: typeof Search;
  color: string;
  placeholder: string;
}

const SEARCH_MODES: SearchModeConfig[] = [
  {
    id: 'unified',
    label: '통합 검색',
    description: 'DB + 웹 + AI 동시 검색',
    icon: Search,
    color: 'text-blue-600',
    placeholder: '무엇이든 검색하세요...',
  },
  {
    id: 'deep',
    label: '심층 분석',
    description: 'AI 기반 심층 증거 수집',
    icon: Brain,
    color: 'text-purple-600',
    placeholder: '분석할 주제를 입력하세요...',
  },
  {
    id: 'factcheck',
    label: '팩트체크',
    description: '주장의 진위 검증',
    icon: Shield,
    color: 'text-green-600',
    placeholder: '검증할 주장을 붙여넣으세요...',
  },
  {
    id: 'urlanalysis',
    label: 'URL 분석',
    description: 'URL에서 주장 추출',
    icon: LinkIcon,
    color: 'text-orange-600',
    placeholder: '분석할 URL을 입력하세요...',
  },
];

interface HeroSearchBarProps {
  defaultMode?: SearchMode;
  onSearch?: (query: string, mode: SearchMode) => void;
  className?: string;
  autoFocus?: boolean;
}

export function HeroSearchBar({
  defaultMode = 'unified',
  onSearch,
  className,
  autoFocus = false,
}: HeroSearchBarProps) {
  const navigate = useNavigate();
  const inputRef = useRef<HTMLInputElement>(null);
  
  const [query, setQuery] = useState('');
  const [mode, setMode] = useState<SearchMode>(defaultMode);
  const [isLoading, setIsLoading] = useState(false);
  const [isFocused, setIsFocused] = useState(false);

  const currentMode = SEARCH_MODES.find(m => m.id === mode) || SEARCH_MODES[0];
  const ModeIcon = currentMode.icon;

  // 검색 실행
  const handleSearch = useCallback(() => {
    const trimmedQuery = query.trim();
    if (!trimmedQuery) return;

    setIsLoading(true);

    if (onSearch) {
      onSearch(trimmedQuery, mode);
    } else {
      // 기본 동작: 검색 페이지로 이동
      const modeParam = mode === 'unified' ? '' : `mode=${mode}`;
      const queryParam = `q=${encodeURIComponent(trimmedQuery)}`;
      const params = [modeParam, queryParam].filter(Boolean).join('&');
      navigate(`/search?${params}`);
    }

    setIsLoading(false);
  }, [query, mode, onSearch, navigate]);

  // Enter 키 처리
  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {
    if (e.key === 'Enter' && !e.shiftKey) {
      e.preventDefault();
      handleSearch();
    }
  }, [handleSearch]);

  // 모드 변경
  const handleModeChange = useCallback((newMode: SearchMode) => {
    setMode(newMode);
    inputRef.current?.focus();
  }, []);

  // 쿼리 초기화
  const clearQuery = useCallback(() => {
    setQuery('');
    inputRef.current?.focus();
  }, []);

  // autoFocus 처리
  useEffect(() => {
    if (autoFocus) {
      inputRef.current?.focus();
    }
  }, [autoFocus]);

  return (
    <div className={cn('w-full', className)}>
      {/* 검색창 컨테이너 */}
      <div
        className={cn(
          'relative rounded-2xl border-2 bg-background shadow-lg transition-all duration-200',
          isFocused
            ? 'border-primary ring-4 ring-primary/20 shadow-xl'
            : 'border-border hover:border-primary/50'
        )}
      >
        {/* 모드 선택 드롭다운 */}
        <div className="absolute left-4 top-1/2 -translate-y-1/2 z-10">
          <DropdownMenu>
            <DropdownMenuTrigger asChild>
              <Button
                variant="ghost"
                size="sm"
                className={cn(
                  'h-9 gap-2 px-3 rounded-lg',
                  currentMode.color
                )}
              >
                <ModeIcon className="h-4 w-4" />
                <span className="hidden sm:inline font-medium">{currentMode.label}</span>
              </Button>
            </DropdownMenuTrigger>
            <DropdownMenuContent align="start" className="w-56">
              {SEARCH_MODES.map(searchMode => {
                const Icon = searchMode.icon;
                return (
                  <DropdownMenuItem
                    key={searchMode.id}
                    onClick={() => handleModeChange(searchMode.id)}
                    className="flex items-start gap-3 p-3"
                  >
                    <Icon className={cn('h-5 w-5 mt-0.5', searchMode.color)} />
                    <div>
                      <div className="font-medium">{searchMode.label}</div>
                      <div className="text-xs text-muted-foreground">
                        {searchMode.description}
                      </div>
                    </div>
                  </DropdownMenuItem>
                );
              })}
            </DropdownMenuContent>
          </DropdownMenu>
        </div>

        {/* 검색 입력 */}
        <Input
          ref={inputRef}
          type="text"
          value={query}
          onChange={e => setQuery(e.target.value)}
          onKeyDown={handleKeyDown}
          onFocus={() => setIsFocused(true)}
          onBlur={() => setIsFocused(false)}
          placeholder={currentMode.placeholder}
          className={cn(
            'h-16 text-lg border-0 bg-transparent',
            'pl-36 sm:pl-44 pr-32',
            'focus-visible:ring-0 focus-visible:ring-offset-0',
            'placeholder:text-muted-foreground/60'
          )}
        />

        {/* 우측 버튼 영역 */}
        <div className="absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2">
          {/* 초기화 버튼 */}
          {query && (
            <Button
              variant="ghost"
              size="icon"
              onClick={clearQuery}
              className="h-9 w-9 text-muted-foreground hover:text-foreground"
            >
              <X className="h-4 w-4" />
            </Button>
          )}

          {/* 검색 버튼 */}
          <Button
            onClick={handleSearch}
            disabled={!query.trim() || isLoading}
            size="lg"
            className="h-11 px-6 rounded-xl gap-2"
          >
            {isLoading ? (
              <Loader2 className="h-5 w-5 animate-spin" />
            ) : (
              <>
                <Search className="h-5 w-5" />
                <span className="hidden sm:inline">검색</span>
              </>
            )}
          </Button>
        </div>
      </div>

      {/* 하단 힌트 */}
      <div className="flex items-center justify-center gap-4 mt-3 text-sm text-muted-foreground">
        <span className="flex items-center gap-1">
          <Sparkles className="h-3.5 w-3.5 text-yellow-500" />
          AI 분석 지원
        </span>
        <span className="hidden sm:inline">•</span>
        <span className="hidden sm:flex items-center gap-1">
          <kbd className="px-1.5 py-0.5 rounded bg-muted text-xs">Ctrl+K</kbd>
          로 빠른 검색
        </span>
      </div>
    </div>
  );
}

export default HeroSearchBar;

```

---

## frontend/src/components/home/QuickActionCards.tsx

```tsx
/**
 * QuickActionCards - 빠른 액션 카드
 * 
 * 홈 화면에서 주요 기능에 1탭으로 접근할 수 있는 카드
 * - 심층 분석
 * - 팩트체크
 * - URL 분석
 */

import { Link } from 'react-router-dom';
import {
  Brain,
  Shield,
  Link as LinkIcon,
  ArrowRight,
  Sparkles,
} from 'lucide-react';
import { Card, CardContent } from '@/components/ui/card';
import { cn } from '@/lib/utils';

interface QuickAction {
  id: string;
  label: string;
  description: string;
  icon: typeof Brain;
  color: string;
  bgColor: string;
  hoverColor: string;
  href: string;
  badge?: string;
}

const QUICK_ACTIONS: QuickAction[] = [
  {
    id: 'deep',
    label: '심층 분석',
    description: 'AI가 심층 증거를 수집하고 입장을 분석합니다',
    icon: Brain,
    color: 'text-purple-600 dark:text-purple-400',
    bgColor: 'bg-purple-50 dark:bg-purple-900/20',
    hoverColor: 'hover:bg-purple-100 dark:hover:bg-purple-900/30',
    href: '/search?mode=deep',
    badge: 'AI',
  },
  {
    id: 'factcheck',
    label: '팩트체크',
    description: '주장의 진위를 신뢰할 수 있는 출처로 검증합니다',
    icon: Shield,
    color: 'text-green-600 dark:text-green-400',
    bgColor: 'bg-green-50 dark:bg-green-900/20',
    hoverColor: 'hover:bg-green-100 dark:hover:bg-green-900/30',
    href: '/search?mode=factcheck',
  },
  {
    id: 'url',
    label: 'URL 분석',
    description: '뉴스 기사에서 검증 가능한 주장을 추출합니다',
    icon: LinkIcon,
    color: 'text-orange-600 dark:text-orange-400',
    bgColor: 'bg-orange-50 dark:bg-orange-900/20',
    hoverColor: 'hover:bg-orange-100 dark:hover:bg-orange-900/30',
    href: '/search?mode=urlanalysis',
  },
];

interface QuickActionCardsProps {
  className?: string;
  layout?: 'horizontal' | 'grid';
}

export function QuickActionCards({
  className,
  layout = 'horizontal',
}: QuickActionCardsProps) {
  return (
    <div
      className={cn(
        layout === 'horizontal'
          ? 'flex flex-col sm:flex-row gap-3'
          : 'grid grid-cols-1 sm:grid-cols-3 gap-3',
        className
      )}
    >
      {QUICK_ACTIONS.map(action => (
        <QuickActionCard key={action.id} action={action} />
      ))}
    </div>
  );
}

interface QuickActionCardProps {
  action: QuickAction;
}

function QuickActionCard({ action }: QuickActionCardProps) {
  const Icon = action.icon;

  return (
    <Link to={action.href} className="flex-1">
      <Card
        className={cn(
          'group relative overflow-hidden transition-all duration-200',
          'border-2 border-transparent',
          action.bgColor,
          action.hoverColor,
          'hover:border-primary/30 hover:shadow-md'
        )}
      >
        <CardContent className="p-4 sm:p-5">
          <div className="flex items-start gap-3">
            {/* 아이콘 */}
            <div
              className={cn(
                'p-2.5 rounded-xl bg-background/60 shadow-sm',
                'group-hover:scale-110 transition-transform duration-200',
                action.color
              )}
            >
              <Icon className="h-6 w-6" />
            </div>

            {/* 내용 */}
            <div className="flex-1 min-w-0">
              <div className="flex items-center gap-2 mb-1">
                <h3 className="font-semibold text-base">{action.label}</h3>
                {action.badge && (
                  <span
                    className={cn(
                      'inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-xs font-medium',
                      'bg-primary/10 text-primary'
                    )}
                  >
                    <Sparkles className="h-3 w-3" />
                    {action.badge}
                  </span>
                )}
              </div>
              <p className="text-sm text-muted-foreground line-clamp-2">
                {action.description}
              </p>
            </div>

            {/* 화살표 */}
            <ArrowRight
              className={cn(
                'h-5 w-5 text-muted-foreground/50',
                'group-hover:text-primary group-hover:translate-x-1',
                'transition-all duration-200'
              )}
            />
          </div>
        </CardContent>
      </Card>
    </Link>
  );
}

export default QuickActionCards;

```

---

## frontend/src/components/home/RecentActivities.tsx

```tsx
/**
 * RecentActivities - 최근 활동 내역
 * 
 * 백엔드에서 직접 통합 검색, Deep Search, 팩트체크, URL 분석 등의
 * 작업 내역을 가져와서 페이지네이션과 함께 표시합니다.
 */

import { useState, useEffect, useCallback } from 'react';
import { Link, useNavigate } from 'react-router-dom';
import {
  History,
  Search,
  Brain,
  Shield,
  Bot,
  Link as LinkIcon,
  ArrowRight,
  Clock,
  ChevronLeft,
  ChevronRight,
  Loader2,
  RefreshCw,
  Filter,
  CheckCircle2,
  XCircle,
  AlertCircle,
  ExternalLink,
  MoreHorizontal,
  Bookmark,
  BookmarkCheck,
  Eye,
} from 'lucide-react';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Badge } from '@/components/ui/badge';
import { Skeleton } from '@/components/ui/skeleton';
import { Tabs, TabsList, TabsTrigger } from '@/components/ui/tabs';
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuTrigger,
  DropdownMenuSeparator,
} from '@/components/ui/dropdown-menu';
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger,
} from '@/components/ui/tooltip';
import {
  listSearchHistory,
  toggleSearchBookmark,
  type SearchHistoryRecord,
  type SearchHistoryType,
  type PageResponse,
} from '@/lib/api';
import { cn } from '@/lib/utils';

// 검색 타입별 설정
const SEARCH_TYPE_CONFIG: Record<SearchHistoryType, {
  icon: typeof Search;
  color: string;
  bgColor: string;
  label: string;
  labelKo: string;
}> = {
  UNIFIED: {
    icon: Search,
    color: 'text-blue-600 dark:text-blue-400',
    bgColor: 'bg-blue-100 dark:bg-blue-900/30',
    label: 'UNIFIED',
    labelKo: '통합 검색',
  },
  DEEP_SEARCH: {
    icon: Brain,
    color: 'text-purple-600 dark:text-purple-400',
    bgColor: 'bg-purple-100 dark:bg-purple-900/30',
    label: 'DEEP',
    labelKo: '심층 분석',
  },
  FACT_CHECK: {
    icon: Shield,
    color: 'text-green-600 dark:text-green-400',
    bgColor: 'bg-green-100 dark:bg-green-900/30',
    label: 'FACT',
    labelKo: '팩트체크',
  },
  BROWSER_AGENT: {
    icon: Bot,
    color: 'text-orange-600 dark:text-orange-400',
    bgColor: 'bg-orange-100 dark:bg-orange-900/30',
    label: 'AGENT',
    labelKo: 'URL 분석',
  },
};

// 상대적 시간 표시
function formatRelativeTime(dateString: string): string {
  const date = new Date(dateString);
  const now = new Date();
  const diffMs = now.getTime() - date.getTime();
  const diffMinutes = Math.floor(diffMs / (1000 * 60));
  const diffHours = Math.floor(diffMs / (1000 * 60 * 60));
  const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));

  if (diffMinutes < 1) return '방금 전';
  if (diffMinutes < 60) return `${diffMinutes}분 전`;
  if (diffHours < 24) return `${diffHours}시간 전`;
  if (diffDays < 7) return `${diffDays}일 전`;
  return date.toLocaleDateString('ko-KR', { month: 'short', day: 'numeric' });
}

// 날짜 포맷
function formatDate(dateString: string): string {
  const date = new Date(dateString);
  return date.toLocaleDateString('ko-KR', {
    year: 'numeric',
    month: 'long',
    day: 'numeric',
    hour: '2-digit',
    minute: '2-digit',
  });
}

interface RecentActivitiesProps {
  className?: string;
  pageSize?: number;
  showFilters?: boolean;
  showHeader?: boolean;
  compact?: boolean;
}

export function RecentActivities({
  className,
  pageSize = 5,
  showFilters = true,
  showHeader = true,
  compact = false,
}: RecentActivitiesProps) {
  const navigate = useNavigate();
  
  // State
  const [activities, setActivities] = useState<SearchHistoryRecord[]>([]);
  const [isLoading, setIsLoading] = useState(true);
  const [isRefreshing, setIsRefreshing] = useState(false);
  const [error, setError] = useState<string | null>(null);
  
  // Pagination state
  const [currentPage, setCurrentPage] = useState(0);
  const [totalPages, setTotalPages] = useState(0);
  const [totalElements, setTotalElements] = useState(0);
  
  // Filter state
  const [selectedType, setSelectedType] = useState<SearchHistoryType | 'ALL'>('ALL');

  // Fetch activities from backend
  const fetchActivities = useCallback(async (page: number = 0, refresh: boolean = false) => {
    if (refresh) {
      setIsRefreshing(true);
    } else {
      setIsLoading(true);
    }
    setError(null);

    try {
      const typeFilter = selectedType === 'ALL' ? undefined : selectedType;
      const response: PageResponse<SearchHistoryRecord> = await listSearchHistory(
        page,
        pageSize,
        'createdAt',
        'DESC',
        typeFilter
      );

      setActivities(response.content);
      setTotalPages(response.totalPages);
      setTotalElements(response.totalElements);
      setCurrentPage(page);
    } catch (err) {
      console.error('Failed to fetch activities:', err);
      setError('활동 내역을 불러오는데 실패했습니다.');
    } finally {
      setIsLoading(false);
      setIsRefreshing(false);
    }
  }, [pageSize, selectedType]);

  // Initial load and refetch when filter changes
  useEffect(() => {
    fetchActivities(0);
  }, [fetchActivities]);

  // Handle bookmark toggle
  const handleToggleBookmark = async (id: number, e: React.MouseEvent) => {
    e.preventDefault();
    e.stopPropagation();
    try {
      await toggleSearchBookmark(id);
      // Update local state
      setActivities(prev => prev.map(a => 
        a.id === id ? { ...a, bookmarked: !a.bookmarked } : a
      ));
    } catch (err) {
      console.error('Failed to toggle bookmark:', err);
    }
  };

  // Navigate to detail page based on search type
  const handleItemClick = (activity: SearchHistoryRecord) => {
    const routeMap: Record<SearchHistoryType, string> = {
      UNIFIED: `/search?q=${encodeURIComponent(activity.query)}`,
      DEEP_SEARCH: `/deep-search?q=${encodeURIComponent(activity.query)}`,
      FACT_CHECK: `/fact-check?q=${encodeURIComponent(activity.query)}`,
      BROWSER_AGENT: `/browser-agent?historyId=${activity.id}`,
    };
    navigate(routeMap[activity.searchType] || `/search?q=${encodeURIComponent(activity.query)}`);
  };

  // Pagination handlers
  const goToPage = (page: number) => {
    if (page >= 0 && page < totalPages) {
      fetchActivities(page);
    }
  };

  // Loading skeleton
  if (isLoading && !isRefreshing) {
    return (
      <Card className={className}>
        {showHeader && (
          <CardHeader className="pb-3">
            <Skeleton className="h-6 w-32" />
          </CardHeader>
        )}
        <CardContent className="space-y-3">
          {Array.from({ length: pageSize }).map((_, i) => (
            <div key={i} className="flex items-center gap-3 p-3 rounded-lg bg-muted/30">
              <Skeleton className="h-10 w-10 rounded-lg" />
              <div className="flex-1 space-y-2">
                <Skeleton className="h-4 w-3/4" />
                <Skeleton className="h-3 w-1/2" />
              </div>
            </div>
          ))}
        </CardContent>
      </Card>
    );
  }

  return (
    <Card className={className}>
      {/* Header */}
      {showHeader && (
        <CardHeader className="pb-3">
          <div className="flex items-center justify-between">
            <CardTitle className="text-base flex items-center gap-2">
              <History className="h-4 w-4" />
              최근 활동 내역
              {totalElements > 0 && (
                <Badge variant="secondary" className="ml-2 text-xs">
                  {totalElements}건
                </Badge>
              )}
            </CardTitle>
            <div className="flex items-center gap-2">
              <TooltipProvider>
                <Tooltip>
                  <TooltipTrigger asChild>
                    <Button
                      variant="ghost"
                      size="icon"
                      className="h-8 w-8"
                      onClick={() => fetchActivities(currentPage, true)}
                      disabled={isRefreshing}
                    >
                      <RefreshCw className={cn("h-4 w-4", isRefreshing && "animate-spin")} />
                    </Button>
                  </TooltipTrigger>
                  <TooltipContent>새로고침</TooltipContent>
                </Tooltip>
              </TooltipProvider>
              <Button variant="ghost" size="sm" asChild className="text-xs h-8">
                <Link to="/history">
                  전체 보기
                  <ArrowRight className="h-3 w-3 ml-1" />
                </Link>
              </Button>
            </div>
          </div>
        </CardHeader>
      )}

      <CardContent className="space-y-4">
        {/* Filters */}
        {showFilters && (
          <Tabs
            value={selectedType}
            onValueChange={(v) => setSelectedType(v as SearchHistoryType | 'ALL')}
            className="w-full"
          >
            <TabsList className="grid w-full grid-cols-5 h-9">
              <TabsTrigger value="ALL" className="text-xs px-2">전체</TabsTrigger>
              <TabsTrigger value="UNIFIED" className="text-xs px-2">검색</TabsTrigger>
              <TabsTrigger value="DEEP_SEARCH" className="text-xs px-2">심층분석</TabsTrigger>
              <TabsTrigger value="FACT_CHECK" className="text-xs px-2">팩트체크</TabsTrigger>
              <TabsTrigger value="BROWSER_AGENT" className="text-xs px-2">URL분석</TabsTrigger>
            </TabsList>
          </Tabs>
        )}

        {/* Error state */}
        {error && (
          <div className="flex items-center justify-center py-6 text-destructive">
            <AlertCircle className="h-4 w-4 mr-2" />
            <span className="text-sm">{error}</span>
            <Button
              variant="link"
              size="sm"
              onClick={() => fetchActivities(0)}
              className="ml-2"
            >
              다시 시도
            </Button>
          </div>
        )}

        {/* Empty state */}
        {!error && activities.length === 0 && (
          <div className="text-center py-8 text-muted-foreground">
            <History className="h-10 w-10 mx-auto mb-3 opacity-30" />
            <p className="text-sm font-medium">아직 활동 내역이 없습니다</p>
            <p className="text-xs mt-1">검색, 심층분석, 팩트체크 등을 시작해보세요</p>
          </div>
        )}

        {/* Activity list */}
        {!error && activities.length > 0 && (
          <div className="space-y-2">
            {activities.map((activity) => (
              <ActivityItem
                key={activity.id}
                activity={activity}
                compact={compact}
                onClick={() => handleItemClick(activity)}
                onBookmarkToggle={handleToggleBookmark}
              />
            ))}
          </div>
        )}

        {/* Pagination */}
        {!error && totalPages > 1 && (
          <div className="flex items-center justify-between pt-2 border-t">
            <span className="text-xs text-muted-foreground">
              {currentPage * pageSize + 1}-{Math.min((currentPage + 1) * pageSize, totalElements)} / {totalElements}건
            </span>
            <div className="flex items-center gap-1">
              <Button
                variant="outline"
                size="icon"
                className="h-8 w-8"
                onClick={() => goToPage(currentPage - 1)}
                disabled={currentPage === 0}
              >
                <ChevronLeft className="h-4 w-4" />
              </Button>
              
              {/* Page numbers */}
              <div className="flex items-center gap-1 mx-1">
                {Array.from({ length: Math.min(5, totalPages) }, (_, i) => {
                  let pageNum: number;
                  if (totalPages <= 5) {
                    pageNum = i;
                  } else if (currentPage < 3) {
                    pageNum = i;
                  } else if (currentPage > totalPages - 4) {
                    pageNum = totalPages - 5 + i;
                  } else {
                    pageNum = currentPage - 2 + i;
                  }
                  return (
                    <Button
                      key={pageNum}
                      variant={currentPage === pageNum ? "default" : "ghost"}
                      size="icon"
                      className="h-8 w-8 text-xs"
                      onClick={() => goToPage(pageNum)}
                    >
                      {pageNum + 1}
                    </Button>
                  );
                })}
              </div>
              
              <Button
                variant="outline"
                size="icon"
                className="h-8 w-8"
                onClick={() => goToPage(currentPage + 1)}
                disabled={currentPage >= totalPages - 1}
              >
                <ChevronRight className="h-4 w-4" />
              </Button>
            </div>
          </div>
        )}
      </CardContent>
    </Card>
  );
}

// Activity item component
interface ActivityItemProps {
  activity: SearchHistoryRecord;
  compact?: boolean;
  onClick: () => void;
  onBookmarkToggle: (id: number, e: React.MouseEvent) => void;
}

function ActivityItem({ activity, compact, onClick, onBookmarkToggle }: ActivityItemProps) {
  const config = SEARCH_TYPE_CONFIG[activity.searchType] || SEARCH_TYPE_CONFIG.UNIFIED;
  const Icon = config.icon;

  // Status indicator
  const getStatusInfo = () => {
    if (activity.success === false || activity.errorMessage) {
      return { icon: XCircle, color: 'text-destructive', label: '실패' };
    }
    if (activity.resultCount !== undefined && activity.resultCount > 0) {
      return { icon: CheckCircle2, color: 'text-green-600', label: '완료' };
    }
    return null;
  };

  const statusInfo = getStatusInfo();

  return (
    <div
      onClick={onClick}
      className={cn(
        'flex items-start gap-3 p-3 rounded-lg transition-all cursor-pointer',
        'bg-card hover:bg-muted/50 border border-transparent hover:border-border',
        'group'
      )}
    >
      {/* Type icon */}
      <div className={cn(
        'flex-shrink-0 h-10 w-10 rounded-lg flex items-center justify-center',
        config.bgColor
      )}>
        <Icon className={cn('h-5 w-5', config.color)} />
      </div>

      {/* Content */}
      <div className="flex-1 min-w-0">
        <div className="flex items-start justify-between gap-2">
          <div className="flex-1 min-w-0">
            {/* Query */}
            <p className="text-sm font-medium line-clamp-1 group-hover:text-primary transition-colors">
              {activity.query}
            </p>
            
            {/* Meta info */}
            <div className="flex items-center gap-2 mt-1 text-xs text-muted-foreground flex-wrap">
              {/* Type badge */}
              <Badge variant="outline" className="text-[10px] px-1.5 py-0 h-5">
                {config.labelKo}
              </Badge>
              
              {/* Result count */}
              {activity.resultCount !== undefined && activity.resultCount > 0 && (
                <span className="flex items-center gap-1">
                  <Eye className="h-3 w-3" />
                  {activity.resultCount}건
                </span>
              )}
              
              {/* Credibility score */}
              {activity.credibilityScore !== undefined && (
                <span className={cn(
                  'flex items-center gap-1 font-medium',
                  activity.credibilityScore >= 70 ? 'text-green-600' :
                  activity.credibilityScore >= 40 ? 'text-yellow-600' : 'text-red-600'
                )}>
                  신뢰도 {activity.credibilityScore.toFixed(0)}%
                </span>
              )}
              
              {/* Status */}
              {statusInfo && (
                <span className={cn('flex items-center gap-1', statusInfo.color)}>
                  <statusInfo.icon className="h-3 w-3" />
                  {statusInfo.label}
                </span>
              )}
              
              {/* Time */}
              <TooltipProvider>
                <Tooltip>
                  <TooltipTrigger className="flex items-center gap-1">
                    <Clock className="h-3 w-3" />
                    {formatRelativeTime(activity.createdAt)}
                  </TooltipTrigger>
                  <TooltipContent>
                    {formatDate(activity.createdAt)}
                  </TooltipContent>
                </Tooltip>
              </TooltipProvider>
            </div>
          </div>

          {/* Actions */}
          <div className="flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity">
            <TooltipProvider>
              <Tooltip>
                <TooltipTrigger asChild>
                  <Button
                    variant="ghost"
                    size="icon"
                    className="h-7 w-7"
                    onClick={(e) => onBookmarkToggle(activity.id, e)}
                  >
                    {activity.bookmarked ? (
                      <BookmarkCheck className="h-4 w-4 text-primary" />
                    ) : (
                      <Bookmark className="h-4 w-4" />
                    )}
                  </Button>
                </TooltipTrigger>
                <TooltipContent>
                  {activity.bookmarked ? '북마크 해제' : '북마크'}
                </TooltipContent>
              </Tooltip>
            </TooltipProvider>

            <DropdownMenu>
              <DropdownMenuTrigger asChild>
                <Button variant="ghost" size="icon" className="h-7 w-7">
                  <MoreHorizontal className="h-4 w-4" />
                </Button>
              </DropdownMenuTrigger>
              <DropdownMenuContent align="end">
                <DropdownMenuItem onClick={(e) => { e.stopPropagation(); onClick(); }}>
                  <ExternalLink className="h-4 w-4 mr-2" />
                  상세 보기
                </DropdownMenuItem>
                <DropdownMenuItem onClick={(e) => { 
                  e.stopPropagation(); 
                  navigator.clipboard.writeText(activity.query);
                }}>
                  복사
                </DropdownMenuItem>
                <DropdownMenuSeparator />
                <DropdownMenuItem 
                  onClick={(e) => onBookmarkToggle(activity.id, e)}
                >
                  {activity.bookmarked ? (
                    <>
                      <BookmarkCheck className="h-4 w-4 mr-2" />
                      북마크 해제
                    </>
                  ) : (
                    <>
                      <Bookmark className="h-4 w-4 mr-2" />
                      북마크
                    </>
                  )}
                </DropdownMenuItem>
              </DropdownMenuContent>
            </DropdownMenu>
          </div>
        </div>

        {/* Tags */}
        {activity.tags && activity.tags.length > 0 && !compact && (
          <div className="flex items-center gap-1 mt-2 flex-wrap">
            {activity.tags.slice(0, 3).map((tag, idx) => (
              <Badge key={idx} variant="secondary" className="text-[10px] px-1.5 py-0">
                {tag}
              </Badge>
            ))}
            {activity.tags.length > 3 && (
              <span className="text-[10px] text-muted-foreground">
                +{activity.tags.length - 3}
              </span>
            )}
          </div>
        )}
      </div>
    </div>
  );
}

export default RecentActivities;

```

---

## frontend/src/components/home/RecentSearches.tsx

```tsx
/**
 * RecentSearches - 최근 검색
 * 
 * 사용자의 최근 검색 기록을 표시
 * - 빠른 재검색
 * - 검색 타입별 구분
 */

import { Link } from 'react-router-dom';
import {
  History,
  Search,
  Brain,
  Shield,
  Bot,
  Link as LinkIcon,
  ArrowRight,
  Clock,
} from 'lucide-react';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Badge } from '@/components/ui/badge';
import { Skeleton } from '@/components/ui/skeleton';
import { useSearchHistory, type SearchHistoryType } from '@/lib/api';
import { cn } from '@/lib/utils';

// 검색 타입별 설정
const SEARCH_TYPE_CONFIG: Record<SearchHistoryType, {
  icon: typeof Search;
  color: string;
  label: string;
}> = {
  UNIFIED: {
    icon: Search,
    color: 'text-blue-600',
    label: '검색',
  },
  DEEP_SEARCH: {
    icon: Brain,
    color: 'text-purple-600',
    label: '심층분석',
  },
  FACT_CHECK: {
    icon: Shield,
    color: 'text-green-600',
    label: '팩트체크',
  },
  BROWSER_AGENT: {
    icon: Bot,
    color: 'text-orange-600',
    label: '에이전트',
  },
};

// 상대적 시간 표시
function formatRelativeTime(dateString: string): string {
  const date = new Date(dateString);
  const now = new Date();
  const diffMs = now.getTime() - date.getTime();
  const diffMinutes = Math.floor(diffMs / (1000 * 60));
  const diffHours = Math.floor(diffMs / (1000 * 60 * 60));
  const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));

  if (diffMinutes < 1) return '방금 전';
  if (diffMinutes < 60) return `${diffMinutes}분 전`;
  if (diffHours < 24) return `${diffHours}시간 전`;
  if (diffDays < 7) return `${diffDays}일 전`;
  return date.toLocaleDateString('ko-KR', { month: 'short', day: 'numeric' });
}

interface RecentSearchItem {
  id: number;
  query: string;
  searchType: SearchHistoryType;
  resultCount?: number;
  createdAt: string;
}

interface RecentSearchesProps {
  className?: string;
  maxItems?: number;
  searches?: RecentSearchItem[];
  isLoading?: boolean;
}

export function RecentSearches({
  className,
  maxItems = 5,
  searches = [],
  isLoading = false,
}: RecentSearchesProps) {
  // 로딩 상태
  if (isLoading) {
    return (
      <Card className={className}>
        <CardHeader className="pb-3">
          <Skeleton className="h-5 w-24" />
        </CardHeader>
        <CardContent className="space-y-2">
          {[1, 2, 3].map(i => (
            <Skeleton key={i} className="h-10 w-full" />
          ))}
        </CardContent>
      </Card>
    );
  }

  // 검색 기록 없음
  if (searches.length === 0) {
    return (
      <Card className={className}>
        <CardHeader className="pb-3">
          <CardTitle className="text-base flex items-center gap-2">
            <History className="h-4 w-4" />
            최근 검색
          </CardTitle>
        </CardHeader>
        <CardContent>
          <p className="text-sm text-muted-foreground text-center py-4">
            아직 검색 기록이 없습니다
          </p>
        </CardContent>
      </Card>
    );
  }

  const displaySearches = searches.slice(0, maxItems);

  return (
    <Card className={className}>
      <CardHeader className="pb-3">
        <div className="flex items-center justify-between">
          <CardTitle className="text-base flex items-center gap-2">
            <History className="h-4 w-4" />
            최근 검색
          </CardTitle>
          <Button variant="ghost" size="sm" asChild className="text-xs h-7">
            <Link to="/workspace/history">
              전체 보기
              <ArrowRight className="h-3 w-3 ml-1" />
            </Link>
          </Button>
        </div>
      </CardHeader>
      <CardContent className="space-y-1">
        {displaySearches.map(search => (
          <RecentSearchItem key={search.id} search={search} />
        ))}
      </CardContent>
    </Card>
  );
}

interface RecentSearchItemProps {
  search: RecentSearchItem;
}

function RecentSearchItem({ search }: RecentSearchItemProps) {
  const config = SEARCH_TYPE_CONFIG[search.searchType] || SEARCH_TYPE_CONFIG.UNIFIED;
  const Icon = config.icon;

  // 검색 타입에 따른 URL 생성
  const getSearchUrl = () => {
    const modeMap: Record<SearchHistoryType, string> = {
      UNIFIED: '',
      DEEP_SEARCH: 'mode=deep',
      FACT_CHECK: 'mode=factcheck',
      BROWSER_AGENT: '',
    };
    const mode = modeMap[search.searchType];
    const query = `q=${encodeURIComponent(search.query)}`;
    return mode ? `/?${mode}&${query}` : `/?${query}`;
  };

  return (
    <Link
      to={getSearchUrl()}
      className={cn(
        'flex items-center gap-3 p-2 rounded-lg transition-colors',
        'hover:bg-muted group'
      )}
    >
      {/* 아이콘 */}
      <Icon className={cn('h-4 w-4 flex-shrink-0', config.color)} />

      {/* 쿼리 */}
      <div className="flex-1 min-w-0">
        <p className="text-sm font-medium line-clamp-1 group-hover:text-primary transition-colors">
          {search.query}
        </p>
      </div>

      {/* 메타 정보 */}
      <div className="flex items-center gap-2 text-xs text-muted-foreground flex-shrink-0">
        {search.resultCount !== undefined && (
          <span>{search.resultCount}건</span>
        )}
        <span className="flex items-center gap-1">
          <Clock className="h-3 w-3" />
          {formatRelativeTime(search.createdAt)}
        </span>
      </div>
    </Link>
  );
}

// 축약 버전 (홈 사이드바용)
interface RecentSearchesCompactProps {
  className?: string;
  searches?: RecentSearchItem[];
  maxItems?: number;
}

export function RecentSearchesCompact({
  className,
  searches = [],
  maxItems = 5,
}: RecentSearchesCompactProps) {
  if (searches.length === 0) {
    return (
      <p className={cn('text-sm text-muted-foreground text-center py-2', className)}>
        최근 검색 없음
      </p>
    );
  }

  return (
    <div className={cn('space-y-1', className)}>
      {searches.slice(0, maxItems).map(search => {
        const config = SEARCH_TYPE_CONFIG[search.searchType] || SEARCH_TYPE_CONFIG.UNIFIED;
        const Icon = config.icon;

        return (
          <Link
            key={search.id}
            to={`/?q=${encodeURIComponent(search.query)}`}
            className="flex items-center gap-2 px-2 py-1.5 rounded hover:bg-muted transition-colors"
          >
            <Icon className={cn('h-3.5 w-3.5', config.color)} />
            <span className="text-sm line-clamp-1 flex-1">{search.query}</span>
          </Link>
        );
      })}
    </div>
  );
}

export default RecentSearches;

```

---

## frontend/src/components/home/RecommendedTemplates.tsx

```tsx
/**
 * RecommendedTemplates - 추천 템플릿
 * 
 * 자주 사용하는 검색 패턴을 템플릿으로 제공
 * - 즐겨찾기 템플릿
 * - 최근 사용 템플릿
 * - 기본 추천 템플릿
 */

import { Link } from 'react-router-dom';
import {
  FileText,
  Star,
  Sparkles,
  ArrowRight,
  Search,
  Brain,
  Shield,
} from 'lucide-react';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Badge } from '@/components/ui/badge';
import { Skeleton } from '@/components/ui/skeleton';
import { cn } from '@/lib/utils';

interface SearchTemplate {
  id: number;
  name: string;
  query: string;
  mode: 'unified' | 'deep' | 'factcheck';
  description?: string;
  favorite?: boolean;
  useCount?: number;
}

// 기본 추천 템플릿
const DEFAULT_TEMPLATES: SearchTemplate[] = [
  {
    id: -1,
    name: '찬반 입장 비교 분석',
    query: '',
    mode: 'deep',
    description: '특정 이슈에 대한 찬성/반대 입장 수집',
    useCount: 0,
  },
  {
    id: -2,
    name: '팩트체크 리포트',
    query: '',
    mode: 'factcheck',
    description: '주장의 사실 여부를 다각도로 검증',
    useCount: 0,
  },
  {
    id: -3,
    name: '출처 신뢰도 분석',
    query: '',
    mode: 'unified',
    description: '정보 출처의 신뢰성 평가',
    useCount: 0,
  },
];

const MODE_CONFIG = {
  unified: {
    icon: Search,
    color: 'text-blue-600',
    bgColor: 'bg-blue-50 dark:bg-blue-900/20',
  },
  deep: {
    icon: Brain,
    color: 'text-purple-600',
    bgColor: 'bg-purple-50 dark:bg-purple-900/20',
  },
  factcheck: {
    icon: Shield,
    color: 'text-green-600',
    bgColor: 'bg-green-50 dark:bg-green-900/20',
  },
};

interface RecommendedTemplatesProps {
  className?: string;
  templates?: SearchTemplate[];
  isLoading?: boolean;
  onSelectTemplate?: (template: SearchTemplate) => void;
  showDefaults?: boolean;
}

export function RecommendedTemplates({
  className,
  templates = [],
  isLoading = false,
  onSelectTemplate,
  showDefaults = true,
}: RecommendedTemplatesProps) {
  // 로딩 상태
  if (isLoading) {
    return (
      <Card className={className}>
        <CardHeader className="pb-3">
          <Skeleton className="h-5 w-28" />
        </CardHeader>
        <CardContent>
          <div className="flex gap-2 overflow-x-auto pb-2">
            {[1, 2, 3].map(i => (
              <Skeleton key={i} className="h-24 w-48 flex-shrink-0" />
            ))}
          </div>
        </CardContent>
      </Card>
    );
  }

  // 즐겨찾기와 사용자 템플릿 결합
  const favoriteTemplates = templates.filter(t => t.favorite);
  const recentTemplates = templates
    .filter(t => !t.favorite && t.useCount && t.useCount > 0)
    .sort((a, b) => (b.useCount || 0) - (a.useCount || 0))
    .slice(0, 3);

  const prioritizedTemplates = [...favoriteTemplates, ...recentTemplates];
  const usedModes = new Set(prioritizedTemplates.map(t => t.mode));
  const defaultsToAdd = showDefaults
    ? DEFAULT_TEMPLATES.filter(t => !usedModes.has(t.mode))
    : [];

  const combined = [...prioritizedTemplates, ...defaultsToAdd];
  const uniqueById = Array.from(
    combined.reduce((map, t) => {
      if (!map.has(t.id)) map.set(t.id, t);
      return map;
    }, new Map<number, SearchTemplate>())
  ).map(([, t]) => t);

  const displayTemplates = uniqueById.slice(0, 6);

  return (
    <Card className={className}>
      <CardHeader className="pb-3">
        <div className="flex items-center justify-between">
          <CardTitle className="text-base flex items-center gap-2">
            <Sparkles className="h-4 w-4 text-yellow-500" />
            추천 템플릿
          </CardTitle>
          <Button variant="ghost" size="sm" asChild className="text-xs h-7">
            <Link to="/workspace">
              전체 보기
              <ArrowRight className="h-3 w-3 ml-1" />
            </Link>
          </Button>
        </div>
      </CardHeader>
      <CardContent>
        {displayTemplates.length === 0 ? (
          <div className="flex items-center justify-between gap-4">
            <div className="text-sm text-muted-foreground">
              아직 추천할 템플릿이 없습니다
            </div>
            <Button variant="outline" size="sm" asChild className="text-xs h-8">
              <Link to="/workspace">템플릿 만들기</Link>
            </Button>
          </div>
        ) : (
          <div className="flex gap-3 overflow-x-auto pb-2 -mx-1 px-1">
            {displayTemplates.map(template => (
              <TemplateCard
                key={template.id}
                template={template}
                onClick={() => onSelectTemplate?.(template)}
              />
            ))}
          </div>
        )}
      </CardContent>
    </Card>
  );
}

interface TemplateCardProps {
  template: SearchTemplate;
  onClick?: () => void;
}

function TemplateCard({ template, onClick }: TemplateCardProps) {
  const config = MODE_CONFIG[template.mode];
  const Icon = config.icon;

  // 기본 템플릿인지 확인 (ID가 음수면 기본 템플릿)
  const isDefault = template.id < 0;

  const getTemplateUrl = () => {
    if (isDefault) {
      // 기본 템플릿은 모드만 설정
      return `/search?mode=${template.mode}`;
    }
    // 사용자 템플릿은 쿼리 포함
    const mode = template.mode === 'unified' ? '' : `mode=${template.mode}`;
    const query = template.query ? `q=${encodeURIComponent(template.query)}` : '';
    const params = [mode, query].filter(Boolean).join('&');
    return params ? `/search?${params}` : '/search';
  };

  return (
    <Link
      to={getTemplateUrl()}
      onClick={onClick}
      className={cn(
        'flex-shrink-0 w-48 p-3 rounded-lg border transition-all',
        'hover:border-primary/50 hover:shadow-sm',
        config.bgColor
      )}
    >
      <div className="flex items-start gap-2 mb-2">
        <div className={cn('p-1.5 rounded-lg bg-background/60', config.color)}>
          <Icon className="h-4 w-4" />
        </div>
        {template.favorite && (
          <Star className="h-3.5 w-3.5 fill-yellow-400 text-yellow-400" />
        )}
      </div>

      <h4 className="font-medium text-sm line-clamp-1 mb-1">
        {template.name}
      </h4>

      {template.description && (
        <p className="text-xs text-muted-foreground line-clamp-2">
          {template.description}
        </p>
      )}

      {!isDefault && template.useCount !== undefined && template.useCount > 0 && (
        <Badge variant="outline" className="mt-2 text-xs">
          {template.useCount}회 사용
        </Badge>
      )}
    </Link>
  );
}

export default RecommendedTemplates;

```

---

## frontend/src/components/home/TrendingTopics.tsx

```tsx
/**
 * TrendingTopics - 오늘의 트렌드
 * 
 * 실시간 트렌딩 이슈와 논쟁 주제를 표시
 * - 트렌드 스코어
 * - 입장 분포 시각화
 * - 빠른 검색 링크
 */

import { Link } from 'react-router-dom';
import {
  TrendingUp,
  Flame,
  ArrowUpRight,
  ThumbsUp,
  ThumbsDown,
  Minus,
  RefreshCw,
  ExternalLink,
} from 'lucide-react';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Badge } from '@/components/ui/badge';
import { Skeleton } from '@/components/ui/skeleton';
import { useTrendingTopics, type TrendingTopic } from '@/hooks/useTrendingTopics';
import { cn } from '@/lib/utils';

interface TrendingTopicsProps {
  className?: string;
  maxItems?: number;
  showRefresh?: boolean;
}

export function TrendingTopics({
  className,
  maxItems = 5,
  showRefresh = true,
}: TrendingTopicsProps) {
  const { topics, personalizedTopics, isLoading, error, refresh, hasTrendingApi } = useTrendingTopics();

  // 로딩 상태
  if (isLoading) {
    return (
      <Card className={className}>
        <CardHeader className="pb-3">
          <Skeleton className="h-5 w-32" />
        </CardHeader>
        <CardContent className="space-y-3">
          {[1, 2, 3].map(i => (
            <Skeleton key={i} className="h-16 w-full" />
          ))}
        </CardContent>
      </Card>
    );
  }

  // 에러 상태
  if (error) {
    return (
      <Card className={cn('border-destructive/50', className)}>
        <CardContent className="py-4">
          <p className="text-sm text-destructive">{error}</p>
          <Button variant="outline" size="sm" onClick={refresh} className="mt-2">
            다시 시도
          </Button>
        </CardContent>
      </Card>
    );
  }

  // 트렌딩 API가 없을 때 개인화 토픽 또는 빈 상태 표시
  const displayTopics = topics.length > 0 ? topics.slice(0, maxItems) : personalizedTopics.slice(0, maxItems);
  const isPersonalized = topics.length === 0 && personalizedTopics.length > 0;

  return (
    <Card className={className}>
      <CardHeader className="pb-3">
        <div className="flex items-center justify-between">
          <CardTitle className="text-base flex items-center gap-2">
            <TrendingUp className="h-4 w-4 text-orange-500" />
            {isPersonalized ? '내 관심 주제' : '오늘의 트렌드'}
          </CardTitle>
          {showRefresh && (
            <Button
              variant="ghost"
              size="icon"
              onClick={refresh}
              className="h-8 w-8"
            >
              <RefreshCw className="h-4 w-4" />
            </Button>
          )}
        </div>
      </CardHeader>
      <CardContent className="space-y-2">
        {displayTopics.length > 0 ? (
          displayTopics.map((topic, index) => (
            <TrendingTopicItem
              key={topic.id}
              topic={topic}
              rank={index + 1}
            />
          ))
        ) : (
          <div className="text-center py-6 text-muted-foreground">
            <TrendingUp className="h-8 w-8 mx-auto mb-2 opacity-50" />
            <p className="text-sm">아직 검색 기록이 없습니다</p>
            <p className="text-xs mt-1">검색을 시작하면 관심 주제가 표시됩니다</p>
          </div>
        )}
      </CardContent>
    </Card>
  );
}

interface TrendingTopicItemProps {
  topic: TrendingTopic;
  rank: number;
}

function TrendingTopicItem({ topic, rank }: TrendingTopicItemProps) {
  return (
    <Link
      to={topic.searchUrl}
      className={cn(
        'block p-3 rounded-lg transition-all',
        'hover:bg-muted/50 group'
      )}
    >
      <div className="flex items-start gap-3">
        {/* 순위 */}
        <div
          className={cn(
            'flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold',
            rank <= 3
              ? 'bg-orange-100 text-orange-600 dark:bg-orange-900/30 dark:text-orange-400'
              : 'bg-muted text-muted-foreground'
          )}
        >
          {rank}
        </div>

        {/* 내용 */}
        <div className="flex-1 min-w-0">
          <div className="flex items-center gap-2 mb-1">
            <h4 className="font-medium text-sm line-clamp-1 group-hover:text-primary transition-colors">
              {topic.title}
            </h4>
            {topic.isHot && (
              <Flame className="h-3.5 w-3.5 text-red-500 flex-shrink-0" />
            )}
            {topic.isRising && !topic.isHot && (
              <ArrowUpRight className="h-3.5 w-3.5 text-green-500 flex-shrink-0" />
            )}
          </div>

          {/* 입장 분포 바 */}
          {topic.stanceDistribution && (
            <div className="flex items-center gap-2">
              <div className="flex-1 h-1.5 rounded-full overflow-hidden bg-muted flex">
                {topic.stanceDistribution.proRatio > 0 && (
                  <div
                    className="h-full bg-teal-500"
                    style={{ width: `${topic.stanceDistribution.proRatio}%` }}
                  />
                )}
                {topic.stanceDistribution.neutralRatio > 0 && (
                  <div
                    className="h-full bg-gray-400"
                    style={{ width: `${topic.stanceDistribution.neutralRatio}%` }}
                  />
                )}
                {topic.stanceDistribution.conRatio > 0 && (
                  <div
                    className="h-full bg-red-500"
                    style={{ width: `${topic.stanceDistribution.conRatio}%` }}
                  />
                )}
              </div>
              <span className="text-xs text-muted-foreground whitespace-nowrap">
                {topic.newsCount ? `${topic.newsCount}건` : ''}
              </span>
            </div>
          )}

          {/* 카테고리 */}
          {topic.category && (
            <Badge variant="outline" className="mt-1.5 text-xs">
              {topic.category}
            </Badge>
          )}
        </div>

        {/* 링크 아이콘 */}
        <ExternalLink
          className={cn(
            'h-4 w-4 text-muted-foreground/0',
            'group-hover:text-muted-foreground transition-colors'
          )}
        />
      </div>
    </Link>
  );
}

// 축약 버전 (홈 사이드바용)
interface TrendingTopicsCompactProps {
  className?: string;
  maxItems?: number;
  topics?: TrendingTopic[];
  onTopicClick?: (keyword: string) => void;
}

export function TrendingTopicsCompact({
  className,
  maxItems = 5,
  topics: externalTopics,
  onTopicClick,
}: TrendingTopicsCompactProps) {
  const { topics: internalTopics, personalizedTopics, isLoading } = useTrendingTopics();
  
  // 외부에서 제공된 topics가 있으면 사용, 없으면 내부 hook 사용
  // 트렌딩 토픽이 없으면 개인화 토픽으로 대체
  const topics = externalTopics 
    || (internalTopics.length > 0 ? internalTopics : personalizedTopics);

  if (!externalTopics && isLoading) {
    return (
      <div className={cn('space-y-2', className)}>
        {[1, 2, 3].map(i => (
          <Skeleton key={i} className="h-8 w-full" />
        ))}
      </div>
    );
  }

  const handleClick = (topic: TrendingTopic, e: React.MouseEvent) => {
    if (onTopicClick) {
      e.preventDefault();
      onTopicClick(topic.title);
    }
  };

  // 토픽이 없을 때 빈 상태 표시
  if (topics.length === 0) {
    return (
      <div className={cn('text-center py-4 text-muted-foreground', className)}>
        <p className="text-sm">아직 트렌드 데이터가 없습니다</p>
        <p className="text-xs mt-1">검색을 시작해 보세요</p>
      </div>
    );
  }

  return (
    <div className={cn('space-y-1', className)}>
      {topics.slice(0, maxItems).map((topic, index) => (
        <Link
          key={topic.id}
          to={topic.searchUrl}
          onClick={(e) => handleClick(topic, e)}
          className="flex items-center gap-2 px-2 py-1.5 rounded hover:bg-muted transition-colors"
        >
          <span
            className={cn(
              'text-xs font-medium w-4',
              index < 3 ? 'text-orange-500' : 'text-muted-foreground'
            )}
          >
            {index + 1}
          </span>
          <span className="text-sm line-clamp-1 flex-1">{topic.title}</span>
          {topic.isHot && <Flame className="h-3 w-3 text-red-500" />}
        </Link>
      ))}
    </div>
  );
}

export default TrendingTopics;

```

---

## frontend/src/components/home/UsageStreakCard.tsx

```tsx
/**
 * UsageStreakCard - 연속 사용 현황 카드
 * 
 * 사용자의 활동 통계와 연속 사용 일수를 표시
 * - 연속 사용 스트릭
 * - 주간 활동 히트맵
 * - 누적 분석 건수
 */

import {
  Flame,
  Calendar,
  TrendingUp,
  Search,
  Brain,
  Shield,
  Award,
  Target,
} from 'lucide-react';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Progress } from '@/components/ui/progress';
import { Skeleton } from '@/components/ui/skeleton';
import { useUsageStreak, getDayName } from '@/hooks/useUsageStreak';
import { cn } from '@/lib/utils';

interface UsageStreakCardProps {
  className?: string;
  variant?: 'full' | 'compact';
}

export function UsageStreakCard({
  className,
  variant = 'full',
}: UsageStreakCardProps) {
  const { stats, isLoading } = useUsageStreak();

  // 로딩 상태
  if (isLoading) {
    return (
      <Card className={className}>
        <CardHeader className="pb-3">
          <Skeleton className="h-5 w-28" />
        </CardHeader>
        <CardContent>
          <Skeleton className="h-24 w-full" />
        </CardContent>
      </Card>
    );
  }

  if (variant === 'compact') {
    return <UsageStreakCompact stats={stats} className={className} />;
  }

  return (
    <Card className={className}>
      <CardHeader className="pb-3">
        <CardTitle className="text-base flex items-center gap-2">
          <Award className="h-4 w-4 text-yellow-500" />
          분석 활동
        </CardTitle>
      </CardHeader>
      <CardContent className="space-y-4">
        {/* 연속 사용 스트릭 */}
        <div className="flex items-center gap-4 p-3 rounded-lg bg-gradient-to-r from-orange-50 to-yellow-50 dark:from-orange-900/20 dark:to-yellow-900/20">
          <div className="p-2 rounded-full bg-orange-100 dark:bg-orange-900/30">
            <Flame className="h-6 w-6 text-orange-500" />
          </div>
          <div>
            <div className="flex items-baseline gap-1">
              <span className="text-3xl font-bold text-orange-600 dark:text-orange-400">
                {stats.currentStreak}
              </span>
              <span className="text-sm text-muted-foreground">일 연속</span>
            </div>
            <p className="text-xs text-muted-foreground">
              최고 기록: {stats.longestStreak}일
            </p>
          </div>
        </div>

        {/* 주간 활동 히트맵 */}
        <div>
          <h4 className="text-sm font-medium mb-2 flex items-center gap-1">
            <Calendar className="h-4 w-4" />
            이번 주
          </h4>
          <div className="flex justify-between gap-1">
            {stats.weeklyActivity.map((day) => (
              <div key={day.date} className="flex-1 text-center">
                <div
                  className={cn(
                    'h-8 rounded-md flex items-center justify-center text-xs font-medium transition-colors',
                    day.hasActivity
                      ? 'bg-primary text-primary-foreground'
                      : 'bg-muted text-muted-foreground'
                  )}
                >
                  {day.hasActivity ? '✓' : '○'}
                </div>
                <span className="text-xs text-muted-foreground mt-1 block">
                  {getDayName(day.date)}
                </span>
              </div>
            ))}
          </div>
        </div>

        {/* 통계 요약 */}
        <div className="grid grid-cols-3 gap-3">
          <StatItem
            icon={Search}
            label="검색"
            value={stats.weeklySearchCount}
            color="text-blue-600"
          />
          <StatItem
            icon={Brain}
            label="심층분석"
            value={stats.weeklyDeepSearchCount}
            color="text-purple-600"
          />
          <StatItem
            icon={Shield}
            label="팩트체크"
            value={stats.weeklyFactCheckCount}
            color="text-green-600"
          />
        </div>

        {/* 주간 목표 진행률 */}
        <div className="space-y-2">
          <div className="flex items-center justify-between text-sm">
            <span className="flex items-center gap-1">
              <Target className="h-4 w-4" />
              주간 목표
            </span>
            <span className="text-muted-foreground">
              {stats.weeklyTotal} / 20건
            </span>
          </div>
          <Progress
            value={Math.min((stats.weeklyTotal / 20) * 100, 100)}
            className="h-2"
          />
          {stats.weeklyTotal >= 20 && (
            <p className="text-xs text-green-600 dark:text-green-400 flex items-center gap-1">
              <Award className="h-3 w-3" />
              목표 달성! 훌륭합니다!
            </p>
          )}
        </div>

        {/* 누적 통계 */}
        <div className="pt-3 border-t">
          <div className="flex justify-between text-sm">
            <span className="text-muted-foreground">총 분석 건수</span>
            <span className="font-medium">{stats.totalSearches}건</span>
          </div>
          <div className="flex justify-between text-sm mt-1">
            <span className="text-muted-foreground">일 평균</span>
            <span className="font-medium">{stats.averageSearchesPerDay}건</span>
          </div>
        </div>
      </CardContent>
    </Card>
  );
}

// 통계 아이템
interface StatItemProps {
  icon: typeof Search;
  label: string;
  value: number;
  color: string;
}

function StatItem({ icon: Icon, label, value, color }: StatItemProps) {
  return (
    <div className="text-center p-2 rounded-lg bg-muted/50">
      <Icon className={cn('h-4 w-4 mx-auto mb-1', color)} />
      <div className="text-lg font-bold">{value}</div>
      <div className="text-xs text-muted-foreground">{label}</div>
    </div>
  );
}

// 축약 버전
interface UsageStreakCompactProps {
  stats: ReturnType<typeof useUsageStreak>['stats'];
  className?: string;
}

function UsageStreakCompact({ stats, className }: UsageStreakCompactProps) {
  return (
    <div className={cn('flex items-center gap-4 p-3 rounded-lg bg-muted/50', className)}>
      <div className="flex items-center gap-2">
        <Flame className="h-5 w-5 text-orange-500" />
        <span className="font-bold text-lg">{stats.currentStreak}</span>
        <span className="text-sm text-muted-foreground">일 연속</span>
      </div>
      <div className="h-6 w-px bg-border" />
      <div className="flex items-center gap-2">
        <TrendingUp className="h-4 w-4 text-muted-foreground" />
        <span className="text-sm">이번 주 {stats.weeklyTotal}건</span>
      </div>
    </div>
  );
}

export default UsageStreakCard;

```

---

## frontend/src/components/home/index.ts

```ts
/**
 * Home 컴포넌트 인덱스
 * 
 * 모든 홈 관련 컴포넌트를 export
 */

export { HeroSearchBar } from './HeroSearchBar';
export { ContinueCard } from './ContinueCard';
export { QuickActionCards } from './QuickActionCards';
export { TrendingTopics, TrendingTopicsCompact } from './TrendingTopics';
export { RecentSearches, RecentSearchesCompact } from './RecentSearches';
export { RecentActivities } from './RecentActivities';
export { RecommendedTemplates } from './RecommendedTemplates';
export { DailyInsightCard } from './DailyInsightCard';
export { UsageStreakCard } from './UsageStreakCard';

```

---

## frontend/src/components/insight/InsightCards.tsx

```tsx
import * as React from "react";
import {
  Scale,
  Lightbulb,
  TrendingUp,
  TrendingDown,
  Minus,
  ExternalLink,
  Share2,
  Download,
  BookOpen,
  BarChart3,
  Target,
} from "lucide-react";
import { cn } from "@/lib/utils";
import { Badge } from "@/components/ui/badge";
import { Button } from "@/components/ui/button";
import type { Evidence, StanceDistribution } from "@/lib/api";

// ============================================
// Base Card Wrapper with Glassmorphism
// ============================================

interface InsightCardWrapperProps {
  children: React.ReactNode;
  className?: string;
  variant?: "default" | "teal" | "coral" | "navy" | "conclusion";
}

export const InsightCardWrapper = ({
  children,
  className,
  variant = "default",
}: InsightCardWrapperProps) => {
  const variantStyles = {
    default: "bg-card/80 backdrop-blur-md border-border/50",
    teal: "bg-teal-50/80 dark:bg-teal-950/40 backdrop-blur-md border-teal-200/50 dark:border-teal-800/50",
    coral: "bg-coral-50/80 dark:bg-coral-950/40 backdrop-blur-md border-coral-200/50 dark:border-coral-800/50",
    navy: "bg-slate-50/80 dark:bg-slate-900/40 backdrop-blur-md border-slate-200/50 dark:border-slate-700/50",
    conclusion: "bg-gradient-to-br from-primary/10 to-accent/10 backdrop-blur-md border-primary/30",
  };

  return (
    <div
      className={cn(
        "rounded-2xl border shadow-lg p-6 md:p-8 h-full flex flex-col",
        "transition-all duration-300",
        variantStyles[variant],
        className
      )}
    >
      {children}
    </div>
  );
};

// ============================================
// A. Intro Card - Fact Check & Summary
// ============================================

interface IntroCardProps {
  topic: string;
  summaryPoints: string[];
  evidenceCount: number;
  backgroundImage?: string;
}

export const IntroCard = ({
  topic,
  summaryPoints,
  evidenceCount,
}: IntroCardProps) => {
  return (
    <InsightCardWrapper className="relative overflow-hidden">
      {/* Background decorative element */}
      <div className="absolute top-0 right-0 w-64 h-64 bg-gradient-to-bl from-primary/10 to-transparent rounded-full -translate-y-1/2 translate-x-1/2" />
      
      <div className="relative z-10 flex flex-col h-full">
        {/* Icon and Badge */}
        <div className="flex items-center gap-3 mb-6">
          <div className="p-3 rounded-xl bg-primary/10 text-primary">
            <Lightbulb className="h-6 w-6" />
          </div>
          <Badge variant="secondary" className="text-xs">
            Fact Check Summary
          </Badge>
        </div>

        {/* Topic Title */}
        <h2 className="text-2xl md:text-3xl font-bold mb-2 text-foreground">
          {topic}
        </h2>
        <p className="text-sm text-muted-foreground mb-6">
          {evidenceCount}개의 출처에서 수집된 핵심 정보
        </p>

        {/* Summary Points */}
        <div className="flex-1 space-y-3">
          {summaryPoints.slice(0, 3).map((point, idx) => (
            <div
              key={idx}
              className="flex items-start gap-3 p-3 rounded-lg bg-background/50"
            >
              <span className="flex-shrink-0 w-6 h-6 rounded-full bg-primary/20 text-primary text-sm font-medium flex items-center justify-center">
                {idx + 1}
              </span>
              <p className="text-sm text-foreground leading-relaxed">{point}</p>
            </div>
          ))}
        </div>

        {/* Swipe hint */}
        <div className="mt-6 text-center text-xs text-muted-foreground animate-pulse">
          스와이프하여 상세 분석 보기 →
        </div>
      </div>
    </InsightCardWrapper>
  );
};

// ============================================
// B. Viewpoint Comparison Card (VS Layout)
// ============================================

interface ViewpointVSCardProps {
  topic: string;
  proPoints: Evidence[];
  conPoints: Evidence[];
  distribution: StanceDistribution;
}

export const ViewpointVSCard = ({
  topic,
  proPoints,
  conPoints,
  distribution,
}: ViewpointVSCardProps) => {
  return (
    <InsightCardWrapper>
      <div className="flex flex-col h-full">
        {/* Header */}
        <div className="flex items-center justify-center gap-3 mb-6">
          <div className="p-3 rounded-xl bg-muted text-foreground">
            <Scale className="h-6 w-6" />
          </div>
          <h3 className="text-xl font-bold">관점 비교</h3>
        </div>

        {/* Distribution Bar */}
        <div className="flex gap-1 h-3 rounded-full overflow-hidden mb-6">
          <div
            className="bg-teal-500 transition-all duration-500"
            style={{ width: `${distribution.proRatio}%` }}
          />
          <div
            className="bg-gray-400 transition-all duration-500"
            style={{ width: `${distribution.neutralRatio}%` }}
          />
          <div
            className="bg-coral-500 transition-all duration-500"
            style={{ width: `${distribution.conRatio}%` }}
          />
        </div>

        {/* VS Layout */}
        <div className="flex-1 grid grid-cols-2 gap-4">
          {/* Pro Side (Teal) */}
          <div className="flex flex-col">
            <div className="flex items-center gap-2 mb-3">
              <TrendingUp className="h-4 w-4 text-teal-600" />
              <span className="text-sm font-semibold text-teal-700 dark:text-teal-400">
                찬성 ({distribution.proRatio.toFixed(0)}%)
              </span>
            </div>
            <div className="flex-1 space-y-2 overflow-y-auto max-h-64">
              {proPoints.slice(0, 3).map((evidence) => (
                <div
                  key={evidence.id}
                  className="p-3 rounded-lg bg-teal-100/50 dark:bg-teal-900/30 border border-teal-200/50 dark:border-teal-800/50"
                >
                  <p className="text-xs text-foreground line-clamp-3">
                    {evidence.snippet}
                  </p>
                  {evidence.source && (
                    <span className="text-xs text-muted-foreground mt-1 block">
                      — {evidence.source}
                    </span>
                  )}
                </div>
              ))}
            </div>
          </div>

          {/* Con Side (Coral) */}
          <div className="flex flex-col">
            <div className="flex items-center gap-2 mb-3">
              <TrendingDown className="h-4 w-4 text-coral-600" />
              <span className="text-sm font-semibold text-coral-700 dark:text-coral-400">
                반대 ({distribution.conRatio.toFixed(0)}%)
              </span>
            </div>
            <div className="flex-1 space-y-2 overflow-y-auto max-h-64">
              {conPoints.slice(0, 3).map((evidence) => (
                <div
                  key={evidence.id}
                  className="p-3 rounded-lg bg-coral-100/50 dark:bg-coral-900/30 border border-coral-200/50 dark:border-coral-800/50"
                >
                  <p className="text-xs text-foreground line-clamp-3">
                    {evidence.snippet}
                  </p>
                  {evidence.source && (
                    <span className="text-xs text-muted-foreground mt-1 block">
                      — {evidence.source}
                    </span>
                  )}
                </div>
              ))}
            </div>
          </div>
        </div>
      </div>
    </InsightCardWrapper>
  );
};

// ============================================
// B-2. Topic Cluster Card (Multi-topic view)
// ============================================

interface TopicCluster {
  tag: string;
  evidence: Evidence[];
  color: string;
}

interface TopicClusterCardProps {
  clusters: TopicCluster[];
}

export const TopicClusterCard = ({ clusters }: TopicClusterCardProps) => {
  return (
    <InsightCardWrapper>
      <div className="flex flex-col h-full">
        {/* Header */}
        <div className="flex items-center gap-3 mb-6">
          <div className="p-3 rounded-xl bg-muted text-foreground">
            <BookOpen className="h-6 w-6" />
          </div>
          <h3 className="text-xl font-bold">주제별 분석</h3>
        </div>

        {/* Topic Chips */}
        <div className="flex flex-wrap gap-2 mb-4">
          {clusters.map((cluster, idx) => (
            <Badge
              key={idx}
              variant="outline"
              className="px-3 py-1"
              style={{
                borderColor: cluster.color,
                color: cluster.color,
              }}
            >
              #{cluster.tag}
            </Badge>
          ))}
        </div>

        {/* Horizontal Scroll Cards */}
        <div className="flex-1 overflow-x-auto">
          <div className="flex gap-4 pb-4">
            {clusters.map((cluster, idx) => (
              <div
                key={idx}
                className="flex-shrink-0 w-64 p-4 rounded-xl bg-background/50 border"
                style={{ borderColor: `${cluster.color}40` }}
              >
                <div
                  className="text-sm font-semibold mb-3"
                  style={{ color: cluster.color }}
                >
                  #{cluster.tag}
                </div>
                <div className="space-y-2">
                  {cluster.evidence.slice(0, 2).map((e) => (
                    <p key={e.id} className="text-xs text-muted-foreground line-clamp-2">
                      {e.snippet}
                    </p>
                  ))}
                </div>
                <div className="mt-3 text-xs text-muted-foreground">
                  {cluster.evidence.length}개 증거
                </div>
              </div>
            ))}
          </div>
        </div>
      </div>
    </InsightCardWrapper>
  );
};

// ============================================
// C. Data Visualization Card
// ============================================

interface DataVisualizationCardProps {
  distribution: StanceDistribution;
  topic: string;
  evidenceCount: number;
}

export const DataVisualizationCard = ({
  distribution,
  topic,
  evidenceCount,
}: DataVisualizationCardProps) => {
  const total = distribution.pro + distribution.con + distribution.neutral;

  return (
    <InsightCardWrapper variant="navy">
      <div className="flex flex-col h-full">
        {/* Header */}
        <div className="flex items-center gap-3 mb-6">
          <div className="p-3 rounded-xl bg-slate-200/50 dark:bg-slate-700/50 text-foreground">
            <BarChart3 className="h-6 w-6" />
          </div>
          <h3 className="text-xl font-bold">데이터 분석</h3>
        </div>

        {/* Visual Chart */}
        <div className="flex-1 flex flex-col items-center justify-center">
          {/* Circular representation */}
          <div className="relative w-48 h-48 mb-6">
            <svg viewBox="0 0 100 100" className="w-full h-full -rotate-90">
              {/* Background circle */}
              <circle
                cx="50"
                cy="50"
                r="40"
                fill="none"
                stroke="currentColor"
                strokeWidth="8"
                className="text-muted/30"
              />
              {/* Pro arc */}
              <circle
                cx="50"
                cy="50"
                r="40"
                fill="none"
                stroke="currentColor"
                strokeWidth="8"
                strokeDasharray={`${distribution.proRatio * 2.51} 251`}
                strokeDashoffset="0"
                className="text-teal-500"
              />
              {/* Neutral arc */}
              <circle
                cx="50"
                cy="50"
                r="40"
                fill="none"
                stroke="currentColor"
                strokeWidth="8"
                strokeDasharray={`${distribution.neutralRatio * 2.51} 251`}
                strokeDashoffset={`${-distribution.proRatio * 2.51}`}
                className="text-gray-400"
              />
              {/* Con arc */}
              <circle
                cx="50"
                cy="50"
                r="40"
                fill="none"
                stroke="currentColor"
                strokeWidth="8"
                strokeDasharray={`${distribution.conRatio * 2.51} 251`}
                strokeDashoffset={`${-(distribution.proRatio + distribution.neutralRatio) * 2.51}`}
                className="text-coral-500"
              />
            </svg>
            <div className="absolute inset-0 flex flex-col items-center justify-center">
              <span className="text-3xl font-bold">{total}</span>
              <span className="text-xs text-muted-foreground">증거 수집</span>
            </div>
          </div>

          {/* Legend */}
          <div className="grid grid-cols-3 gap-6 w-full">
            <div className="text-center">
              <div className="flex items-center justify-center gap-2 mb-1">
                <div className="w-3 h-3 rounded-full bg-teal-500" />
                <span className="text-lg font-bold">{distribution.pro}</span>
              </div>
              <span className="text-xs text-muted-foreground">찬성</span>
            </div>
            <div className="text-center">
              <div className="flex items-center justify-center gap-2 mb-1">
                <div className="w-3 h-3 rounded-full bg-gray-400" />
                <span className="text-lg font-bold">{distribution.neutral}</span>
              </div>
              <span className="text-xs text-muted-foreground">중립</span>
            </div>
            <div className="text-center">
              <div className="flex items-center justify-center gap-2 mb-1">
                <div className="w-3 h-3 rounded-full bg-coral-500" />
                <span className="text-lg font-bold">{distribution.con}</span>
              </div>
              <span className="text-xs text-muted-foreground">반대</span>
            </div>
          </div>
        </div>

        {/* Interpretation */}
        <div className="mt-6 p-4 rounded-xl bg-background/50 text-center">
          <p className="text-sm text-muted-foreground">
            "{topic}"에 대해 {distribution.proRatio > distribution.conRatio ? "긍정적" : distribution.proRatio < distribution.conRatio ? "부정적" : "균형잡힌"} 시각이{" "}
            {Math.abs(distribution.proRatio - distribution.conRatio).toFixed(0)}% 더 우세합니다.
          </p>
        </div>
      </div>
    </InsightCardWrapper>
  );
};

// ============================================
// D. Conclusion Card - The Verdict
// ============================================

interface ConclusionCardProps {
  topic: string;
  conclusion: string;
  keyInsight: string;
  distribution: StanceDistribution;
  onShare?: () => void;
  onDownload?: () => void;
}

export const ConclusionCard = ({
  topic,
  conclusion,
  keyInsight,
  distribution,
  onShare,
  onDownload,
}: ConclusionCardProps) => {
  return (
    <InsightCardWrapper variant="conclusion">
      <div className="flex flex-col h-full">
        {/* Header */}
        <div className="flex items-center justify-center gap-3 mb-6">
          <div className="p-3 rounded-xl bg-primary/20 text-primary">
            <Target className="h-6 w-6" />
          </div>
          <h3 className="text-xl font-bold text-primary">최종 인사이트</h3>
        </div>

        {/* Main Conclusion */}
        <div className="flex-1 flex flex-col items-center justify-center text-center px-4">
          <blockquote className="text-xl md:text-2xl font-bold leading-relaxed mb-6 text-foreground">
            "{conclusion}"
          </blockquote>

          <div className="w-16 h-1 bg-primary/30 rounded-full mb-6" />

          <p className="text-sm text-muted-foreground max-w-md leading-relaxed">
            {keyInsight}
          </p>
        </div>

        {/* Balance Indicator */}
        <div className="my-6 flex items-center justify-center gap-4">
          <div className="flex items-center gap-2">
            <div className="w-8 h-2 rounded-full bg-teal-500" />
            <span className="text-xs text-muted-foreground">
              {distribution.proRatio.toFixed(0)}%
            </span>
          </div>
          <Scale className="h-5 w-5 text-muted-foreground" />
          <div className="flex items-center gap-2">
            <span className="text-xs text-muted-foreground">
              {distribution.conRatio.toFixed(0)}%
            </span>
            <div className="w-8 h-2 rounded-full bg-coral-500" />
          </div>
        </div>

        {/* Action Buttons */}
        <div className="flex justify-center gap-3">
          {onShare && (
            <Button variant="outline" size="sm" onClick={onShare}>
              <Share2 className="h-4 w-4 mr-2" />
              공유하기
            </Button>
          )}
          {onDownload && (
            <Button variant="outline" size="sm" onClick={onDownload}>
              <Download className="h-4 w-4 mr-2" />
              저장하기
            </Button>
          )}
        </div>
      </div>
    </InsightCardWrapper>
  );
};

// ============================================
// Evidence Detail Card (for detailed view)
// ============================================

interface EvidenceDetailCardProps {
  evidence: Evidence[];
  stance: "pro" | "con" | "neutral" | "all";
}

export const EvidenceDetailCard = ({
  evidence,
  stance,
}: EvidenceDetailCardProps) => {
  const filteredEvidence =
    stance === "all" ? evidence : evidence.filter((e) => e.stance === stance);

  const stanceConfig = {
    pro: { color: "teal", icon: TrendingUp, label: "찬성 의견" },
    con: { color: "coral", icon: TrendingDown, label: "반대 의견" },
    neutral: { color: "gray", icon: Minus, label: "중립 의견" },
    all: { color: "primary", icon: BookOpen, label: "전체 증거" },
  };

  const config = stanceConfig[stance];
  const Icon = config.icon;

  return (
    <InsightCardWrapper>
      <div className="flex flex-col h-full">
        {/* Header */}
        <div className="flex items-center gap-3 mb-4">
          <Icon className={`h-5 w-5 text-${config.color}-600`} />
          <h3 className="text-lg font-semibold">{config.label}</h3>
          <Badge variant="secondary">{filteredEvidence.length}개</Badge>
        </div>

        {/* Evidence List */}
        <div className="flex-1 space-y-3 overflow-y-auto max-h-80">
          {filteredEvidence.map((e) => (
            <div
              key={e.id}
              className="p-4 rounded-xl bg-background/50 border border-border/50 hover:border-border transition-colors"
            >
              {e.title && (
                <h4 className="font-medium text-sm mb-2 line-clamp-1">{e.title}</h4>
              )}
              <p className="text-sm text-muted-foreground line-clamp-3 mb-2">
                {e.snippet}
              </p>
              <div className="flex items-center justify-between">
                {e.source && (
                  <span className="text-xs text-muted-foreground">{e.source}</span>
                )}
                <a
                  href={e.url}
                  target="_blank"
                  rel="noopener noreferrer"
                  className="text-xs text-primary hover:underline flex items-center gap-1"
                >
                  원문 보기 <ExternalLink className="h-3 w-3" />
                </a>
              </div>
            </div>
          ))}
        </div>
      </div>
    </InsightCardWrapper>
  );
};

```

---

## frontend/src/components/insight/InsightFlow.tsx

```tsx
import * as React from "react";
import { useState, useCallback, useEffect } from "react";
import useEmblaCarousel from "embla-carousel-react";
import { ChevronLeft, ChevronRight } from "lucide-react";
import { cn } from "@/lib/utils";
import { Button } from "@/components/ui/button";
import {
  IntroCard,
  ViewpointVSCard,
  DataVisualizationCard,
  ConclusionCard,
  EvidenceDetailCard,
} from "./InsightCards";
import {
  ProgressStepper,
  DEFAULT_INSIGHT_STEPS,
  NavigationControls,
} from "./ProgressStepper";
import type { DeepSearchResult, Evidence } from "@/lib/api";

// ============================================
// Types
// ============================================

interface InsightFlowProps {
  result: DeepSearchResult;
  onShare?: () => void;
  onDownload?: () => void;
  className?: string;
}

// ============================================
// Helper Functions
// ============================================

/**
 * Generate summary points from evidence
 */
const generateSummaryPoints = (evidence: Evidence[]): string[] => {
  const points: string[] = [];

  // Get unique snippets, prioritizing diverse stances
  const stances = ["pro", "neutral", "con"] as const;
  for (const stance of stances) {
    const stanceEvidence = evidence.filter((e) => e.stance === stance);
    if (stanceEvidence.length > 0) {
      // Use title if available, otherwise use snippet
      const text = stanceEvidence[0].title || stanceEvidence[0].snippet;
      if (text && !points.includes(text)) {
        points.push(text.length > 100 ? text.substring(0, 100) + "..." : text);
      }
    }
    if (points.length >= 3) break;
  }

  // Fill remaining with any evidence
  for (const e of evidence) {
    if (points.length >= 3) break;
    const text = e.title || e.snippet;
    if (text && !points.includes(text)) {
      points.push(text.length > 100 ? text.substring(0, 100) + "..." : text);
    }
  }

  return points;
};

/**
 * Generate conclusion from distribution
 */
const generateConclusion = (result: DeepSearchResult): string => {
  const total = result.evidence.length;
  const uniqueSources = new Set(result.evidence.map(e => e.source).filter(Boolean)).size;
  
  return `'${result.topic}'에 대해 ${total}개의 관련 자료를 ${uniqueSources}개 출처에서 수집했습니다. 다양한 관점의 자료를 바탕으로 주제에 대한 종합적인 이해를 제공합니다.`;
};

/**
 * Generate key insight
 */
const generateKeyInsight = (result: DeepSearchResult): string => {
  const total = result.evidence.length;
  const articlesWithTitle = result.evidence.filter(e => e.title).length;
  const uniqueSources = new Set(result.evidence.map(e => e.source).filter(Boolean)).size;

  return `총 ${total}개의 자료를 분석한 결과, ${articlesWithTitle}개의 기사/문서와 ${uniqueSources}개의 출처를 참조했습니다. 보다 자세한 내용은 PDF 보고서로 내보내기하여 확인하실 수 있습니다.`;
};

// ============================================
// InsightFlow Component
// ============================================

export const InsightFlow = ({
  result,
  onShare,
  onDownload,
  className,
}: InsightFlowProps) => {
  const [emblaRef, emblaApi] = useEmblaCarousel({
    loop: false,
    dragFree: false,
    containScroll: "trimSnaps",
  });

  const [currentIndex, setCurrentIndex] = useState(0);
  const [canScrollPrev, setCanScrollPrev] = useState(false);
  const [canScrollNext, setCanScrollNext] = useState(false);

  // Separate evidence by stance
  const proEvidence = result.evidence.filter((e) => e.stance === "pro");
  const conEvidence = result.evidence.filter((e) => e.stance === "con");
  const neutralEvidence = result.evidence.filter((e) => e.stance === "neutral");

  // Generate content
  const summaryPoints = generateSummaryPoints(result.evidence);
  const conclusion = generateConclusion(result);
  const keyInsight = generateKeyInsight(result);

  // Steps configuration
  const steps = DEFAULT_INSIGHT_STEPS;

  // Update scroll state
  const onSelect = useCallback(() => {
    if (!emblaApi) return;
    setCurrentIndex(emblaApi.selectedScrollSnap());
    setCanScrollPrev(emblaApi.canScrollPrev());
    setCanScrollNext(emblaApi.canScrollNext());
  }, [emblaApi]);

  useEffect(() => {
    if (!emblaApi) return;
    onSelect();
    emblaApi.on("select", onSelect);
    emblaApi.on("reInit", onSelect);
    return () => {
      emblaApi.off("select", onSelect);
      emblaApi.off("reInit", onSelect);
    };
  }, [emblaApi, onSelect]);

  // Navigation handlers
  const scrollPrev = useCallback(() => {
    emblaApi?.scrollPrev();
  }, [emblaApi]);

  const scrollNext = useCallback(() => {
    emblaApi?.scrollNext();
  }, [emblaApi]);

  const scrollTo = useCallback(
    (index: number) => {
      emblaApi?.scrollTo(index);
    },
    [emblaApi]
  );

  // Keyboard navigation
  useEffect(() => {
    const handleKeyDown = (e: KeyboardEvent) => {
      if (e.key === "ArrowLeft") {
        scrollPrev();
      } else if (e.key === "ArrowRight") {
        scrollNext();
      }
    };

    window.addEventListener("keydown", handleKeyDown);
    return () => window.removeEventListener("keydown", handleKeyDown);
  }, [scrollPrev, scrollNext]);

  return (
    <div className={cn("w-full", className)}>
      {/* Progress Stepper */}
      <div className="mb-6">
        <ProgressStepper
          steps={steps}
          currentStep={currentIndex}
          onStepClick={scrollTo}
          variant="steps"
          className="px-4"
        />
      </div>

      {/* Carousel Container */}
      <div className="relative">
        {/* Navigation Arrows (Desktop) */}
        <Button
          variant="outline"
          size="icon"
          onClick={scrollPrev}
          disabled={!canScrollPrev}
          className={cn(
            "absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 z-10",
            "hidden md:flex",
            "h-12 w-12 rounded-full shadow-lg",
            "bg-background/80 backdrop-blur-sm",
            !canScrollPrev && "opacity-0 pointer-events-none"
          )}
        >
          <ChevronLeft className="h-6 w-6" />
        </Button>

        <Button
          variant="outline"
          size="icon"
          onClick={scrollNext}
          disabled={!canScrollNext}
          className={cn(
            "absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 z-10",
            "hidden md:flex",
            "h-12 w-12 rounded-full shadow-lg",
            "bg-background/80 backdrop-blur-sm",
            !canScrollNext && "opacity-0 pointer-events-none"
          )}
        >
          <ChevronRight className="h-6 w-6" />
        </Button>

        {/* Embla Carousel */}
        <div ref={emblaRef} className="overflow-hidden">
          <div className="flex touch-pan-y">
            {/* Slide 1: Intro Card */}
            <div className="flex-none w-full min-w-0 px-4">
              <div className="h-[500px] md:h-[550px]">
                <IntroCard
                  topic={result.topic}
                  summaryPoints={summaryPoints}
                  evidenceCount={result.evidence.length}
                />
              </div>
            </div>

            {/* Slide 2: Viewpoint VS Card */}
            <div className="flex-none w-full min-w-0 px-4">
              <div className="h-[500px] md:h-[550px]">
                <ViewpointVSCard
                  topic={result.topic}
                  proPoints={proEvidence}
                  conPoints={conEvidence}
                  distribution={result.stanceDistribution}
                />
              </div>
            </div>

            {/* Slide 3: Data Visualization Card */}
            <div className="flex-none w-full min-w-0 px-4">
              <div className="h-[500px] md:h-[550px]">
                <DataVisualizationCard
                  distribution={result.stanceDistribution}
                  topic={result.topic}
                  evidenceCount={result.evidence.length}
                />
              </div>
            </div>

            {/* Slide 4: Evidence Detail Card */}
            <div className="flex-none w-full min-w-0 px-4">
              <div className="h-[500px] md:h-[550px]">
                <EvidenceDetailCard evidence={result.evidence} stance="all" />
              </div>
            </div>

            {/* Slide 5: Conclusion Card */}
            <div className="flex-none w-full min-w-0 px-4">
              <div className="h-[500px] md:h-[550px]">
                <ConclusionCard
                  topic={result.topic}
                  conclusion={conclusion}
                  keyInsight={keyInsight}
                  distribution={result.stanceDistribution}
                  onShare={onShare}
                  onDownload={onDownload}
                />
              </div>
            </div>
          </div>
        </div>
      </div>

      {/* Mobile Navigation Controls */}
      <div className="mt-6 md:hidden px-4">
        <NavigationControls
          currentStep={currentIndex}
          totalSteps={steps.length}
          onPrevious={scrollPrev}
          onNext={scrollNext}
          canGoPrevious={canScrollPrev}
          canGoNext={canScrollNext}
        />
      </div>

      {/* Dots indicator (alternative compact view) */}
      <div className="mt-6 hidden md:block">
        <ProgressStepper
          steps={steps}
          currentStep={currentIndex}
          onStepClick={scrollTo}
          variant="dots"
        />
      </div>

      {/* Keyboard hint */}
      <div className="mt-4 text-center text-xs text-muted-foreground hidden md:block">
        ← → 키보드 방향키로 탐색하세요
      </div>
    </div>
  );
};

// ============================================
// Compact InsightFlow (for smaller views)
// ============================================

interface CompactInsightFlowProps {
  result: DeepSearchResult;
  className?: string;
}

export const CompactInsightFlow = ({
  result,
  className,
}: CompactInsightFlowProps) => {
  const [emblaRef, emblaApi] = useEmblaCarousel({
    loop: false,
    align: "start",
    containScroll: "trimSnaps",
    dragFree: true,
  });

  const [currentIndex, setCurrentIndex] = useState(0);

  useEffect(() => {
    if (!emblaApi) return;

    const onSelect = () => {
      setCurrentIndex(emblaApi.selectedScrollSnap());
    };

    emblaApi.on("select", onSelect);
    return () => {
      emblaApi.off("select", onSelect);
    };
  }, [emblaApi]);

  const uniqueSources = new Set(result.evidence.map(e => e.source).filter(Boolean)).size;
  
  const cards = [
    { id: "summary", title: "핵심 요약", color: "bg-primary/10" },
    { id: "findings", title: `주요 발견 (${result.evidence.length})`, color: "bg-purple-100 dark:bg-purple-900/30" },
    { id: "sources", title: `참조 출처 (${uniqueSources})`, color: "bg-blue-100 dark:bg-blue-900/30" },
    { id: "conclusion", title: "결론", color: "bg-green-100 dark:bg-green-900/30" },
  ];

  return (
    <div className={cn("w-full", className)}>
      {/* Progress dots */}
      <div className="flex justify-center gap-1.5 mb-4">
        {cards.map((_, idx) => (
          <div
            key={idx}
            className={cn(
              "w-2 h-2 rounded-full transition-all",
              idx === currentIndex ? "w-6 bg-primary" : "bg-muted-foreground/30"
            )}
          />
        ))}
      </div>

      {/* Horizontal scroll cards */}
      <div ref={emblaRef} className="overflow-hidden -mx-4 px-4">
        <div className="flex gap-4">
          {cards.map((card) => (
            <div
              key={card.id}
              className={cn(
                "flex-none w-72 h-48 rounded-xl p-4",
                "border border-border/50",
                card.color
              )}
            >
              <h4 className="font-semibold mb-2">{card.title}</h4>
              <p className="text-sm text-muted-foreground line-clamp-5">
                {card.id === "summary" &&
                  `'${result.topic}'에 대해 ${result.evidence.length}개의 관련 자료를 수집하여 분석했습니다.`}
                {card.id === "findings" && result.evidence[0]?.snippet}
                {card.id === "sources" && `${uniqueSources}개의 다양한 출처에서 자료를 수집했습니다.`}
                {card.id === "conclusion" && generateConclusion(result)}
              </p>
            </div>
          ))}
        </div>
      </div>
    </div>
  );
};

export default InsightFlow;

```

---

## frontend/src/components/insight/ProgressStepper.tsx

```tsx
import * as React from "react";
import { cn } from "@/lib/utils";
import { Check, Lightbulb, Scale, BarChart3, Target, List } from "lucide-react";

// ============================================
// Step Configuration
// ============================================

export interface StepConfig {
  id: string;
  label: string;
  icon: React.ElementType;
  shortLabel?: string;
}

export const DEFAULT_INSIGHT_STEPS: StepConfig[] = [
  { id: "intro", label: "핵심 요약", shortLabel: "요약", icon: Lightbulb },
  { id: "viewpoint", label: "관점 비교", shortLabel: "비교", icon: Scale },
  { id: "data", label: "데이터 분석", shortLabel: "분석", icon: BarChart3 },
  { id: "evidence", label: "상세 증거", shortLabel: "증거", icon: List },
  { id: "conclusion", label: "최종 결론", shortLabel: "결론", icon: Target },
];

// ============================================
// Progress Stepper Component
// ============================================

interface ProgressStepperProps {
  steps: StepConfig[];
  currentStep: number;
  onStepClick?: (stepIndex: number) => void;
  className?: string;
  variant?: "dots" | "bar" | "steps";
}

export const ProgressStepper = ({
  steps,
  currentStep,
  onStepClick,
  className,
  variant = "dots",
}: ProgressStepperProps) => {
  if (variant === "dots") {
    return (
      <DotsProgress
        steps={steps}
        currentStep={currentStep}
        onStepClick={onStepClick}
        className={className}
      />
    );
  }

  if (variant === "bar") {
    return (
      <BarProgress
        steps={steps}
        currentStep={currentStep}
        className={className}
      />
    );
  }

  return (
    <StepsProgress
      steps={steps}
      currentStep={currentStep}
      onStepClick={onStepClick}
      className={className}
    />
  );
};

// ============================================
// Dots Variant (Default)
// ============================================

const DotsProgress = ({
  steps,
  currentStep,
  onStepClick,
  className,
}: ProgressStepperProps) => {
  return (
    <div className={cn("flex items-center justify-center gap-2", className)}>
      {steps.map((step, idx) => {
        const isActive = idx === currentStep;
        const isCompleted = idx < currentStep;

        return (
          <React.Fragment key={step.id}>
            <button
              onClick={() => onStepClick?.(idx)}
              disabled={!onStepClick}
              className={cn(
                "relative group transition-all duration-300",
                onStepClick && "cursor-pointer",
                !onStepClick && "cursor-default"
              )}
              aria-label={step.label}
            >
              <div
                className={cn(
                  "w-3 h-3 rounded-full transition-all duration-300",
                  isActive && "w-8 bg-primary scale-110",
                  isCompleted && "bg-primary",
                  !isActive && !isCompleted && "bg-muted-foreground/30"
                )}
              />
              {/* Tooltip */}
              <div
                className={cn(
                  "absolute -bottom-8 left-1/2 -translate-x-1/2",
                  "px-2 py-1 rounded text-xs whitespace-nowrap",
                  "bg-popover border shadow-md",
                  "opacity-0 group-hover:opacity-100 transition-opacity",
                  "pointer-events-none z-10"
                )}
              >
                {step.label}
              </div>
            </button>

            {/* Connector line */}
            {idx < steps.length - 1 && (
              <div
                className={cn(
                  "w-6 md:w-8 h-0.5 transition-colors duration-300",
                  idx < currentStep ? "bg-primary" : "bg-muted-foreground/30"
                )}
              />
            )}
          </React.Fragment>
        );
      })}
    </div>
  );
};

// ============================================
// Bar Variant
// ============================================

const BarProgress = ({
  steps,
  currentStep,
  className,
}: Omit<ProgressStepperProps, "onStepClick" | "variant">) => {
  const progress = ((currentStep + 1) / steps.length) * 100;

  return (
    <div className={cn("w-full", className)}>
      {/* Labels */}
      <div className="flex justify-between mb-2 px-1">
        <span className="text-xs text-muted-foreground">
          {currentStep + 1} / {steps.length}
        </span>
        <span className="text-xs font-medium text-foreground">
          {steps[currentStep]?.label}
        </span>
      </div>

      {/* Progress Bar */}
      <div className="h-2 bg-muted rounded-full overflow-hidden">
        <div
          className="h-full bg-primary transition-all duration-500 ease-out rounded-full"
          style={{ width: `${progress}%` }}
        />
      </div>
    </div>
  );
};

// ============================================
// Steps Variant (Full labels)
// ============================================

const StepsProgress = ({
  steps,
  currentStep,
  onStepClick,
  className,
}: ProgressStepperProps) => {
  return (
    <div className={cn("w-full", className)}>
      <div className="flex items-center justify-between">
        {steps.map((step, idx) => {
          const isActive = idx === currentStep;
          const isCompleted = idx < currentStep;
          const Icon = step.icon;

          return (
            <React.Fragment key={step.id}>
              <button
                onClick={() => onStepClick?.(idx)}
                disabled={!onStepClick}
                className={cn(
                  "flex flex-col items-center gap-2 group",
                  onStepClick && "cursor-pointer",
                  !onStepClick && "cursor-default"
                )}
              >
                {/* Circle */}
                <div
                  className={cn(
                    "w-10 h-10 rounded-full flex items-center justify-center",
                    "border-2 transition-all duration-300",
                    isActive &&
                      "border-primary bg-primary text-primary-foreground scale-110",
                    isCompleted &&
                      "border-primary bg-primary/10 text-primary",
                    !isActive &&
                      !isCompleted &&
                      "border-muted-foreground/30 text-muted-foreground/50"
                  )}
                >
                  {isCompleted ? (
                    <Check className="h-5 w-5" />
                  ) : (
                    <Icon className="h-5 w-5" />
                  )}
                </div>

                {/* Label */}
                <span
                  className={cn(
                    "text-xs transition-colors duration-300 hidden md:block",
                    isActive && "text-foreground font-medium",
                    isCompleted && "text-primary",
                    !isActive && !isCompleted && "text-muted-foreground"
                  )}
                >
                  {step.label}
                </span>
                <span
                  className={cn(
                    "text-xs transition-colors duration-300 md:hidden",
                    isActive && "text-foreground font-medium",
                    isCompleted && "text-primary",
                    !isActive && !isCompleted && "text-muted-foreground"
                  )}
                >
                  {step.shortLabel || step.label}
                </span>
              </button>

              {/* Connector */}
              {idx < steps.length - 1 && (
                <div
                  className={cn(
                    "flex-1 h-0.5 mx-2 transition-colors duration-300",
                    idx < currentStep ? "bg-primary" : "bg-muted-foreground/30"
                  )}
                />
              )}
            </React.Fragment>
          );
        })}
      </div>
    </div>
  );
};

// ============================================
// Slide Counter (Simple version)
// ============================================

interface SlideCounterProps {
  current: number;
  total: number;
  className?: string;
}

export const SlideCounter = ({ current, total, className }: SlideCounterProps) => {
  return (
    <div className={cn("flex items-center gap-2 text-sm", className)}>
      <span className="font-bold text-foreground">{current}</span>
      <span className="text-muted-foreground">/</span>
      <span className="text-muted-foreground">{total}</span>
    </div>
  );
};

// ============================================
// Navigation Controls
// ============================================

interface NavigationControlsProps {
  currentStep: number;
  totalSteps: number;
  onPrevious: () => void;
  onNext: () => void;
  canGoPrevious: boolean;
  canGoNext: boolean;
  className?: string;
}

export const NavigationControls = ({
  currentStep,
  totalSteps,
  onPrevious,
  onNext,
  canGoPrevious,
  canGoNext,
  className,
}: NavigationControlsProps) => {
  return (
    <div className={cn("flex items-center justify-between gap-4", className)}>
      <button
        onClick={onPrevious}
        disabled={!canGoPrevious}
        className={cn(
          "px-4 py-2 rounded-lg text-sm font-medium transition-all",
          "border border-border",
          canGoPrevious
            ? "hover:bg-accent hover:text-accent-foreground"
            : "opacity-50 cursor-not-allowed"
        )}
      >
        ← 이전
      </button>

      <SlideCounter current={currentStep + 1} total={totalSteps} />

      <button
        onClick={onNext}
        disabled={!canGoNext}
        className={cn(
          "px-4 py-2 rounded-lg text-sm font-medium transition-all",
          "bg-primary text-primary-foreground",
          canGoNext
            ? "hover:bg-primary/90"
            : "opacity-50 cursor-not-allowed"
        )}
      >
        다음 →
      </button>
    </div>
  );
};

export default ProgressStepper;

```

---

## frontend/src/components/insight/index.ts

```ts
// Insight Card Components
export {
  InsightCardWrapper,
  IntroCard,
  ViewpointVSCard,
  TopicClusterCard,
  DataVisualizationCard,
  ConclusionCard,
  EvidenceDetailCard,
} from "./InsightCards";

// Progress Stepper Components
export {
  ProgressStepper,
  SlideCounter,
  NavigationControls,
  DEFAULT_INSIGHT_STEPS,
  type StepConfig,
} from "./ProgressStepper";

// InsightFlow (Main component)
export { InsightFlow, CompactInsightFlow } from "./InsightFlow";

```

---

## frontend/src/components/layout/AppLayout.tsx

```tsx
import { Link, useLocation } from 'react-router-dom';
import { Command, User, LogIn, LogOut } from 'lucide-react';
import { BackgroundTaskIndicator } from '@/components/BackgroundTaskIndicator';
import { ThemeToggle } from '@/components/ThemeToggle';
import { MobileNavDrawer } from '@/components/MobileNavDrawer';
import { NotificationBell } from '@/contexts/NotificationContext';
import { NewNavigation, MobileBottomNav } from './NewNavigation';
import { SetupBanner } from './SetupBanner';
import { QuickAccessButton } from './QuickAccessButton';
import { Button } from '@/components/ui/button';
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuSeparator,
  DropdownMenuTrigger,
} from '@/components/ui/dropdown-menu';
import { cn } from '@/lib/utils';
import { useAutoNotifications, useProjectNotifications } from '@/hooks/useNotificationBridge';
import { useAuth } from '@/contexts/AuthContext';
import { useSkipLinks } from '@/hooks/useAccessibility';

interface AppLayoutProps {
  children: React.ReactNode;
}

export function AppLayout({ children }: AppLayoutProps) {
  const location = useLocation();
  const { isAuthenticated, user, logout, isLoading } = useAuth();
  const { SkipLink } = useSkipLinks();

  // SSE 이벤트를 NotificationContext에 자동 연결
  useAutoNotifications({
    enabled: true,
    // ERROR와 COLLECTION_COMPLETED 이벤트만 알림으로 표시 (너무 많은 알림 방지)
    enabledEventTypes: ['ERROR', 'COLLECTION_COMPLETED', 'COLLECTION_STARTED'],
    persistent: false, // 브라우저 새로고침 시 알림 삭제
    dedupeInterval: 10000, // 10초 내 동일 타입 알림 중복 방지
  });

  // 프로젝트 알림을 백엔드에서 가져와서 연결
  useProjectNotifications({
    userId: user?.id?.toString(),
    enabled: isAuthenticated && !!user,
    pollInterval: 60000, // 1분마다 새 알림 확인
  });

  const handleLogout = async () => {
    await logout();
    window.location.href = '/';
  };

  return (
    <div className="min-h-screen flex flex-col pb-16 md:pb-0">
      {/* Skip Links for Accessibility - visible only on keyboard focus */}
      <SkipLink targetId="main-content" text="본문으로 건너뛰기" />
      <SkipLink targetId="search-input" text="검색으로 건너뛰기" />
      
      {/* Setup Banner - Shows when admin setup is required */}
      <SetupBanner />

      {/* Header */}
      <header className="sticky top-0 z-50 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60">
        <div className="container flex h-14 items-center justify-between px-4">
          {/* Mobile Nav & Logo */}
          <div className="flex items-center gap-2">
            {/* Mobile Navigation Drawer */}
            <MobileNavDrawer className="md:hidden" />
            
            {/* Logo */}
            <Link to="/" className="flex items-center gap-2">
              <img 
                src="/initial_logo-v0.1.png" 
                alt="NewsInsight" 
                className="h-8 w-8"
                onError={(e) => {
                  // Fallback if logo doesn't exist
                  e.currentTarget.style.display = 'none';
                }}
              />
              <span className="font-bold text-lg hidden sm:inline bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent">
                NewsInsight
              </span>
            </Link>
          </div>

          {/* New Navigation - Desktop */}
          <div className="hidden md:flex items-center flex-1 justify-center ml-6">
            <NewNavigation />
          </div>

          {/* Right side actions */}
          <div className="flex items-center gap-2">
            {/* Command Palette Hint - Desktop only */}
            <button
              className="hidden lg:flex items-center gap-2 px-3 py-1.5 rounded-md border bg-muted/50 text-sm text-muted-foreground hover:bg-muted transition-colors"
              onClick={() => {
                // Trigger Command Palette (Ctrl+K)
                const event = new KeyboardEvent('keydown', {
                  key: 'k',
                  ctrlKey: true,
                  bubbles: true,
                });
                window.dispatchEvent(event);
              }}
              aria-label="검색 명령 팔레트 열기"
            >
              <Command className="h-3.5 w-3.5" />
              <span>검색...</span>
              <kbd className="ml-2 px-1.5 py-0.5 rounded bg-background text-[10px]">Ctrl+K</kbd>
            </button>
            
            {/* Quick Access Button */}
            <QuickAccessButton />
            
            {/* Notification Bell */}
            <NotificationBell />
            {/* Theme Toggle */}
            <ThemeToggle variant="dropdown" size="sm" />
            {/* Background Task Indicator */}
            <BackgroundTaskIndicator />
            
            {/* User Menu / Login Button */}
            {!isLoading && (
              isAuthenticated && user ? (
                <DropdownMenu>
                  <DropdownMenuTrigger asChild>
                    <Button variant="ghost" size="sm" className="gap-2">
                      <User className="h-4 w-4" />
                      <span className="hidden sm:inline max-w-24 truncate">{user.username}</span>
                    </Button>
                  </DropdownMenuTrigger>
                  <DropdownMenuContent align="end" className="w-48">
                    <div className="px-2 py-1.5 text-sm">
                      <div className="font-medium">{user.username}</div>
                      {user.email && (
                        <div className="text-xs text-muted-foreground truncate">{user.email}</div>
                      )}
                      <div className="text-xs text-muted-foreground capitalize mt-1">
                        {user.role === 'user' ? '일반 회원' : user.role}
                      </div>
                    </div>
                    <DropdownMenuSeparator />
                    <DropdownMenuItem asChild>
                      <Link to="/settings" className="cursor-pointer">
                        설정
                      </Link>
                    </DropdownMenuItem>
                    {(user.role === 'admin' || user.role === 'operator' || user.role === 'viewer') && (
                      <DropdownMenuItem asChild>
                        <Link to="/admin/environments" className="cursor-pointer">
                          관리자 페이지
                        </Link>
                      </DropdownMenuItem>
                    )}
                    <DropdownMenuSeparator />
                    <DropdownMenuItem onClick={handleLogout} className="text-red-600 cursor-pointer">
                      <LogOut className="h-4 w-4 mr-2" />
                      로그아웃
                    </DropdownMenuItem>
                  </DropdownMenuContent>
                </DropdownMenu>
              ) : (
                <Button variant="outline" size="sm" asChild className="gap-2">
                  <Link to="/login">
                    <LogIn className="h-4 w-4" />
                    <span className="hidden sm:inline">로그인</span>
                  </Link>
                </Button>
              )
            )}
          </div>
        </div>
      </header>

      {/* Main Content */}
      <main id="main-content" className="flex-1" role="main" tabIndex={-1}>
        {children}
      </main>

      {/* Mobile Bottom Navigation */}
      <MobileBottomNav />

      {/* Footer - Hidden on mobile due to bottom nav */}
      <footer className="border-t py-4 mt-auto hidden md:block" role="contentinfo">
        <div className="container px-4 text-center text-sm text-muted-foreground">
          <p>NewsInsight - AI 기반 뉴스 분석 플랫폼</p>
          <p className="text-xs mt-1">
            <kbd className="px-1.5 py-0.5 rounded bg-muted mx-1">Ctrl+K</kbd>로 빠른 검색
          </p>
        </div>
      </footer>
    </div>
  );
}

export default AppLayout;

```

---

## frontend/src/components/layout/NewNavigation.tsx

```tsx
/**
 * NewNavigation - 새로운 5탭 네비게이션 컴포넌트
 * 
 * 구조:
 * 1. 홈 - 새 대시보드
 * 2. 대시보드 - 라이브 대시보드, 운영현황
 * 3. 도구 - 검색, ML Add-ons, 브라우저 에이전트
 * 4. 내 작업 - 프로젝트, 기록, URL 컬렉션
 * 5. 설정 - 환경설정, Admin
 */

import { Link, useLocation } from 'react-router-dom';
import { useState, useRef, useEffect } from 'react';
import { cn } from '@/lib/utils';
import {
  Home,
  LayoutDashboard,
  Wrench,
  FolderKanban,
  Settings,
  Search,
  Bot,
  Cpu,
  Activity,
  Gauge,
  Database,
  History,
  FolderOpen,
  Globe,
  Brain,
  ChevronDown,
  Shield,
  Server,
  Terminal,
  FileText,
  Newspaper,
  Sparkles,
  Zap,
  FileJson,
} from 'lucide-react';

interface SubMenuItem {
  to: string;
  icon: React.ReactNode;
  label: string;
  description?: string;
}

interface NavItem {
  id: string;
  icon: React.ReactNode;
  label: string;
  to?: string;
  subItems?: SubMenuItem[];
}

const navConfig: NavItem[] = [
  {
    id: 'home',
    icon: <Home className="h-4 w-4" />,
    label: '홈',
    to: '/',
  },
  {
    id: 'dashboard',
    icon: <LayoutDashboard className="h-4 w-4" />,
    label: '대시보드',
    subItems: [
      {
        to: '/dashboard',
        icon: <Activity className="h-4 w-4" />,
        label: '라이브 대시보드',
        description: '실시간 뉴스 현황'
      },
      {
        to: '/operations',
        icon: <Gauge className="h-4 w-4" />,
        label: '운영 현황',
        description: '시스템 모니터링'
      },
      {
        to: '/collected-data',
        icon: <Database className="h-4 w-4" />,
        label: '수집 데이터',
        description: '수집된 뉴스 데이터'
      },
    ],
  },
  {
    id: 'tools',
    icon: <Wrench className="h-4 w-4" />,
    label: '도구',
    to: '/tools', // 허브 페이지로 직접 이동 가능
    subItems: [
      {
        to: '/tools',
        icon: <Wrench className="h-4 w-4" />,
        label: '도구 허브',
        description: '모든 도구 보기'
      },
      {
        to: '/search',
        icon: <Search className="h-4 w-4" />,
        label: '스마트 검색',
        description: '통합 뉴스 검색'
      },
      {
        to: '/ml-addons',
        icon: <Cpu className="h-4 w-4" />,
        label: 'ML Add-ons',
        description: '편향성, 감정 분석'
      },
      {
        to: '/ml-results',
        icon: <Sparkles className="h-4 w-4" />,
        label: 'ML 분석 결과',
        description: '분석 결과 확인'
      },
      {
        to: '/ai-agent',
        icon: <Bot className="h-4 w-4" />,
        label: '브라우저 에이전트',
        description: 'AI 웹 자동화'
      },
      {
        to: '/ai-jobs',
        icon: <Brain className="h-4 w-4" />,
        label: 'AI Jobs',
        description: 'AI 작업 관리'
      },
    ],
  },
  {
    id: 'workspace',
    icon: <FolderKanban className="h-4 w-4" />,
    label: '내 작업',
    to: '/workspace', // 허브 페이지로 직접 이동 가능
    subItems: [
      {
        to: '/workspace',
        icon: <FolderKanban className="h-4 w-4" />,
        label: '작업 허브',
        description: '모든 작업 보기'
      },
      {
        to: '/projects',
        icon: <FolderOpen className="h-4 w-4" />,
        label: '프로젝트',
        description: '저장된 분석 프로젝트'
      },
      {
        to: '/history',
        icon: <History className="h-4 w-4" />,
        label: '검색 기록',
        description: '최근 검색 내역'
      },
      {
        to: '/url-collections',
        icon: <Globe className="h-4 w-4" />,
        label: 'URL 컬렉션',
        description: 'URL 원천 관리'
      },
    ],
  },
  {
    id: 'settings',
    icon: <Settings className="h-4 w-4" />,
    label: '설정',
    subItems: [
      {
        to: '/settings',
        icon: <Settings className="h-4 w-4" />,
        label: '환경 설정',
        description: '앱 설정'
      },
      {
        to: '/admin',
        icon: <Shield className="h-4 w-4" />,
        label: '관리자 대시보드',
        description: 'ML 학습 및 시스템 관리'
      },
      {
        to: '/admin/sources',
        icon: <Newspaper className="h-4 w-4" />,
        label: '소스 관리',
        description: '뉴스 소스 관리'
      },
      {
        to: '/admin/environments',
        icon: <Server className="h-4 w-4" />,
        label: '환경 변수',
        description: '서버 환경 설정'
      },
      {
        to: '/admin/scripts',
        icon: <Terminal className="h-4 w-4" />,
        label: '스크립트',
        description: '자동화 스크립트'
      },
      {
        to: '/admin/audit-logs',
        icon: <FileText className="h-4 w-4" />,
        label: '감사 로그',
        description: '시스템 로그'
      },
      {
        to: '/admin/llm-providers',
        icon: <Zap className="h-4 w-4" />,
        label: 'LLM Providers',
        description: 'AI 제공자 설정'
      },
      {
        to: '/admin/config-export',
        icon: <FileJson className="h-4 w-4" />,
        label: '설정 Export/Import',
        description: '설정 백업 및 복원'
      },
    ],
  },
];

interface DropdownMenuProps {
  items: SubMenuItem[];
  isOpen: boolean;
  onClose: () => void;
}

function DropdownMenu({ items, isOpen, onClose }: DropdownMenuProps) {
  const menuRef = useRef<HTMLDivElement>(null);
  const location = useLocation();

  useEffect(() => {
    function handleClickOutside(event: MouseEvent) {
      if (menuRef.current && !menuRef.current.contains(event.target as Node)) {
        onClose();
      }
    }
    if (isOpen) {
      document.addEventListener('mousedown', handleClickOutside);
    }
    return () => document.removeEventListener('mousedown', handleClickOutside);
  }, [isOpen, onClose]);

  if (!isOpen) return null;

  return (
    <div
      ref={menuRef}
      className="absolute top-full left-0 mt-1 w-64 bg-popover border rounded-lg shadow-lg py-2 z-50"
    >
      {items.map((item) => {
        const isActive = location.pathname === item.to;
        return (
          <Link
            key={item.to}
            to={item.to}
            onClick={onClose}
            className={cn(
              // Minimum 44px touch target height for accessibility
              "flex items-start gap-3 px-4 py-3 min-h-[44px] hover:bg-accent transition-colors",
              isActive && "bg-accent"
            )}
          >
            <span className={cn(
              "mt-0.5",
              isActive ? "text-primary" : "text-muted-foreground"
            )}>
              {item.icon}
            </span>
            <div className="flex-1 min-w-0">
              <div className={cn(
                "text-sm font-medium",
                isActive && "text-primary"
              )}>
                {item.label}
              </div>
              {item.description && (
                <div className="text-xs text-muted-foreground truncate">
                  {item.description}
                </div>
              )}
            </div>
          </Link>
        );
      })}
    </div>
  );
}

interface NavButtonProps {
  item: NavItem;
  isActive: boolean;
}

function NavButton({ item, isActive }: NavButtonProps) {
  const [isOpen, setIsOpen] = useState(false);

  // Direct link (no submenu)
  if (item.to && !item.subItems) {
    return (
      <Link
        to={item.to}
        className={cn(
          // Minimum 44px touch target for accessibility
          "flex items-center gap-2 px-4 py-2.5 min-h-[44px] rounded-lg text-sm font-medium transition-all",
          isActive
            ? "bg-primary text-primary-foreground shadow-sm"
            : "text-muted-foreground hover:text-foreground hover:bg-accent"
        )}
      >
        {item.icon}
        <span className="hidden lg:inline">{item.label}</span>
      </Link>
    );
  }

  // Dropdown menu
  return (
    <div className="relative">
      <button
        onClick={() => setIsOpen(!isOpen)}
        className={cn(
          // Minimum 44px touch target for accessibility
          "flex items-center gap-2 px-4 py-2.5 min-h-[44px] rounded-lg text-sm font-medium transition-all",
          isActive
            ? "bg-primary text-primary-foreground shadow-sm"
            : "text-muted-foreground hover:text-foreground hover:bg-accent"
        )}
      >
        {item.icon}
        <span className="hidden lg:inline">{item.label}</span>
        <ChevronDown className={cn(
          "h-3 w-3 transition-transform hidden lg:block",
          isOpen && "rotate-180"
        )} />
      </button>
      {item.subItems && (
        <DropdownMenu
          items={item.subItems}
          isOpen={isOpen}
          onClose={() => setIsOpen(false)}
        />
      )}
    </div>
  );
}

export function NewNavigation() {
  const location = useLocation();

  const isNavActive = (item: NavItem): boolean => {
    if (item.to) {
      return location.pathname === item.to;
    }
    if (item.subItems) {
      return item.subItems.some(sub => location.pathname === sub.to);
    }
    return false;
  };

  return (
    <nav className="flex items-center gap-1" role="navigation" aria-label="주요 내비게이션">
      {navConfig.map((item) => (
        <NavButton
          key={item.id}
          item={item}
          isActive={isNavActive(item)}
        />
      ))}
    </nav>
  );
}

// Mobile Navigation - 하단 탭바 스타일
export function MobileBottomNav() {
  const location = useLocation();

  const mobileItems = navConfig.slice(0, 5); // 5탭만

  const isNavActive = (item: NavItem): boolean => {
    if (item.to) {
      return location.pathname === item.to;
    }
    if (item.subItems) {
      return item.subItems.some(sub => location.pathname === sub.to);
    }
    return false;
  };

  return (
    <nav 
      className="fixed bottom-0 left-0 right-0 bg-background border-t md:hidden z-50 safe-area-inset-bottom"
      role="navigation"
      aria-label="모바일 내비게이션"
    >
      <div className="flex items-center justify-around py-1 pb-safe">
        {mobileItems.map((item) => {
          const isActive = isNavActive(item);
          const to = item.to || item.subItems?.[0]?.to || '/';
          
          return (
            <Link
              key={item.id}
              to={to}
              className={cn(
                // Minimum 44x44px touch target for WCAG 2.1 AA compliance
                "flex flex-col items-center justify-center gap-1 min-w-[48px] min-h-[48px] px-3 py-2 rounded-lg transition-colors",
                // Active indicator with visual feedback
                isActive
                  ? "text-primary bg-primary/10"
                  : "text-muted-foreground active:bg-accent"
              )}
              aria-current={isActive ? "page" : undefined}
            >
              <span className={cn(
                "flex items-center justify-center w-6 h-6",
                isActive && "scale-110 transition-transform"
              )}>
                {item.icon}
              </span>
              <span className="text-[10px] font-medium leading-tight">{item.label}</span>
            </Link>
          );
        })}
      </div>
    </nav>
  );
}

export default NewNavigation;

```

---

## frontend/src/components/layout/QuickAccessButton.tsx

```tsx
import { Zap } from 'lucide-react';
import { Button } from '@/components/ui/button';
import { useQuickAccess } from '@/contexts/QuickAccessContext';
import {
  Tooltip,
  TooltipContent,
  TooltipTrigger,
} from '@/components/ui/tooltip';

export const QuickAccessButton = () => {
  const { toggle } = useQuickAccess();

  return (
    <Tooltip>
      <TooltipTrigger asChild>
        <Button
          variant="ghost"
          size="icon"
          onClick={toggle}
          className="relative"
        >
          <Zap className="h-5 w-5" />
          <span className="sr-only">빠른 접근</span>
        </Button>
      </TooltipTrigger>
      <TooltipContent>
        <p>빠른 접근 (Ctrl+Shift+K)</p>
      </TooltipContent>
    </Tooltip>
  );
};

```

---

## frontend/src/components/layout/SetupBanner.tsx

```tsx
import { useEffect, useState } from 'react';
import { Link } from 'react-router-dom';
import { AlertTriangle, Settings, X } from 'lucide-react';
import { Button } from '@/components/ui/button';
import { authApi } from '@/lib/adminApi';
import type { SetupStatus } from '@/types/admin';
import { cn } from '@/lib/utils';

const DISMISSED_KEY = 'newsinsight_setup_banner_dismissed';

export function SetupBanner() {
  const [setupStatus, setSetupStatus] = useState<SetupStatus | null>(null);
  const [isDismissed, setIsDismissed] = useState(false);
  const [isLoading, setIsLoading] = useState(true);

  useEffect(() => {
    // Check if user has dismissed the banner for this session
    const dismissed = sessionStorage.getItem(DISMISSED_KEY);
    if (dismissed === 'true') {
      setIsDismissed(true);
      setIsLoading(false);
      return;
    }

    // Fetch setup status
    const checkSetup = async () => {
      try {
        const status = await authApi.getSetupStatus();
        setSetupStatus(status);
      } catch (error) {
        // API might not be available yet or setup endpoint doesn't exist
        console.debug('Setup status check failed:', error);
        setSetupStatus(null);
      } finally {
        setIsLoading(false);
      }
    };

    checkSetup();
  }, []);

  const handleDismiss = () => {
    setIsDismissed(true);
    sessionStorage.setItem(DISMISSED_KEY, 'true');
  };

  // Don't show banner if:
  // - Still loading
  // - Already dismissed
  // - No setup status available
  // - Setup is not required (admin already changed password)
  if (isLoading || isDismissed || !setupStatus || !setupStatus.setup_required) {
    return null;
  }

  // Only show if default admin is being used
  if (!setupStatus.is_default_admin) {
    return null;
  }

  return (
    <div
      className={cn(
        'relative bg-amber-500/10 border-b border-amber-500/30',
        'px-4 py-3'
      )}
      role="alert"
    >
      <div className="container flex items-center justify-between gap-4">
        <div className="flex items-center gap-3">
          <AlertTriangle className="h-5 w-5 text-amber-500 flex-shrink-0" />
          <div className="flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2">
            <span className="font-medium text-amber-700 dark:text-amber-400">
              초기 설정이 필요합니다
            </span>
            <span className="text-sm text-muted-foreground">
              기본 관리자 계정(admin/admin123)을 사용 중입니다. 보안을 위해 비밀번호를 변경해주세요.
            </span>
          </div>
        </div>

        <div className="flex items-center gap-2">
          <Button
            asChild
            size="sm"
            className="bg-amber-500 hover:bg-amber-600 text-white gap-2"
          >
            <Link to="/admin/login">
              <Settings className="h-4 w-4" />
              <span className="hidden sm:inline">설정하기</span>
            </Link>
          </Button>
          <Button
            variant="ghost"
            size="icon"
            className="h-8 w-8 text-muted-foreground hover:text-foreground"
            onClick={handleDismiss}
            aria-label="배너 닫기"
          >
            <X className="h-4 w-4" />
          </Button>
        </div>
      </div>
    </div>
  );
}

export default SetupBanner;

```

---

## frontend/src/components/layout/Sidebar.tsx

```tsx
import { Link, useLocation } from "react-router-dom";
import { cn } from "@/lib/utils";
import {
  LayoutDashboard,
  Search,
  Globe,
  Settings,
  History,
  Newspaper,
  BookOpen,
  Bot,
  Layers,
  Shield,
  Server,
  Terminal,
  FileText,
  Activity,
  ChevronDown,
  Brain,
  Database,
  Gauge,
  CheckCircle,
  Zap,
} from "lucide-react";
import { useState } from "react";
import { Collapsible, CollapsibleContent, CollapsibleTrigger } from "@/components/ui/collapsible";
import { Button } from "@/components/ui/button";

type SidebarProps = React.HTMLAttributes<HTMLDivElement>;

export function Sidebar({ className }: SidebarProps) {
  const location = useLocation();
  const [isAdminOpen, setIsAdminOpen] = useState(location.pathname.startsWith('/admin'));

  const navItems = [
    {
      title: "Smart Search",
      href: "/",
      icon: Search,
      variant: "default",
    },
    {
      title: "Live Dashboard",
      href: "/dashboard",
      icon: Activity,
      variant: "ghost",
    },
    {
      title: "Operations",
      href: "/operations",
      icon: Gauge,
      variant: "ghost",
    },
    {
      title: "Projects",
      href: "/projects",
      icon: BookOpen,
      variant: "ghost",
    },
    {
      title: "History",
      href: "/history",
      icon: History,
      variant: "ghost",
    },
    {
      title: "URL Collections",
      href: "/url-collections",
      icon: Globe,
      variant: "ghost",
    },
    {
      title: "Browser Agent",
      href: "/ai-agent",
      icon: Bot,
      variant: "ghost",
    },
    {
      title: "ML Add-ons",
      href: "/ml-addons",
      icon: Layers,
      variant: "ghost",
    },
    {
      title: "Fact Check",
      href: "/factcheck",
      icon: CheckCircle,
      variant: "ghost",
    },
    {
      title: "AI Jobs",
      href: "/ai-jobs",
      icon: Brain,
      variant: "ghost",
    },
    {
      title: "Collected Data",
      href: "/collected-data",
      icon: Database,
      variant: "ghost",
    },
  ];

  const adminItems = [
    {
      title: "Sources",
      href: "/admin/sources",
      icon: Newspaper,
    },
    {
      title: "Environments",
      href: "/admin/environments",
      icon: Server,
    },
    {
      title: "Scripts",
      href: "/admin/scripts",
      icon: Terminal,
    },
    {
      title: "Audit Logs",
      href: "/admin/audit-logs",
      icon: FileText,
    },
    {
      title: "LLM Providers",
      href: "/admin/llm-providers",
      icon: Zap,
    },
  ];

  return (
    <div className={cn("pb-12 w-64 border-r bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60", className)}>
      <div className="space-y-4 py-4">
        <div className="px-3 py-2">
          <div className="flex items-center gap-2 px-4 mb-6">
            <LayoutDashboard className="h-6 w-6 text-primary" />
            <h2 className="text-lg font-bold tracking-tight">NewsInsight</h2>
          </div>
          <div className="space-y-1">
            {navItems.map((item) => (
              <Link
                key={item.href}
                to={item.href}
                className={cn(
                  "flex items-center rounded-md px-4 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground transition-colors",
                  location.pathname === item.href ? "bg-accent text-accent-foreground" : "transparent"
                )}
              >
                <item.icon className="mr-2 h-4 w-4" />
                {item.title}
              </Link>
            ))}
          </div>
        </div>
        
        <div className="px-3 py-2">
          <Collapsible open={isAdminOpen} onOpenChange={setIsAdminOpen} className="space-y-1">
            <div className="flex items-center justify-between px-4 py-2">
              <h2 className="text-sm font-semibold tracking-tight text-muted-foreground flex items-center gap-2">
                <Shield className="h-4 w-4" />
                Admin
              </h2>
              <CollapsibleTrigger asChild>
                <Button variant="ghost" size="sm" className="w-6 h-6 p-0">
                  <ChevronDown className={cn("h-4 w-4 transition-transform", isAdminOpen ? "rotate-180" : "")} />
                  <span className="sr-only">Toggle Admin</span>
                </Button>
              </CollapsibleTrigger>
            </div>
            <CollapsibleContent className="space-y-1">
              {adminItems.map((item) => (
                <Link
                  key={item.href}
                  to={item.href}
                  className={cn(
                    "flex items-center rounded-md px-4 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground transition-colors pl-8",
                    location.pathname === item.href ? "bg-accent text-accent-foreground" : "transparent"
                  )}
                >
                  <item.icon className="mr-2 h-4 w-4" />
                  {item.title}
                </Link>
              ))}
            </CollapsibleContent>
          </Collapsible>
        </div>

        <div className="px-3 py-2 mt-auto">
          <Link
            to="/settings"
            className={cn(
              "flex items-center rounded-md px-4 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground transition-colors",
              location.pathname === "/settings" ? "bg-accent text-accent-foreground" : "transparent"
            )}
          >
            <Settings className="mr-2 h-4 w-4" />
            Settings
          </Link>
        </div>
      </div>
    </div>
  );
}

```

---

## frontend/src/components/settings/UserLlmSettings.tsx

```tsx
import React, { useState, useEffect, useCallback } from 'react';
import {
  Bot,
  CheckCircle2,
  XCircle,
  Loader2,
  Zap,
  Save,
  Eye,
  EyeOff,
  Trash2,
  RefreshCw,
  Shield,
  User,
  AlertCircle,
  Key,
  Wand2,
} from 'lucide-react';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Badge } from '@/components/ui/badge';
import { Label } from '@/components/ui/label';
import { Alert, AlertDescription } from '@/components/ui/alert';
import { Input } from '@/components/ui/input';
import { Switch } from '@/components/ui/switch';
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from '@/components/ui/select';
import {
  Dialog,
  DialogContent,
  DialogDescription,
  DialogFooter,
  DialogHeader,
  DialogTitle,
  DialogTrigger,
} from '@/components/ui/dialog';
import { Separator } from '@/components/ui/separator';
import { useToast } from '@/hooks/use-toast';
import {
  getEffectiveLlmSettings,
  getUserLlmSettings,
  saveUserLlmSetting,
  deleteUserLlmSetting,
  deleteAllUserLlmSettings,
  testUserLlmConnection,
  getLlmProviderTypes,
} from '@/lib/api';
import type {
  LlmProviderType,
  LlmProviderSettings,
  LlmProviderSettingsRequest,
  LlmProviderTypeInfo,
  LlmTestResult,
} from '@/types/api';
import { APIKeyWizard } from '@/components/APIKeyWizard';

interface UserLlmSettingsProps {
  userId: string;
}

const DEFAULT_MODELS: Record<LlmProviderType, string[]> = {
  // OpenAI - 2025년 12월 최신 (GPT-5 시리즈 출시)
  OPENAI: [
    'gpt-5', 'gpt-5-mini', 'gpt-5-nano',           // Frontier 모델
    'gpt-4.1', 'gpt-4.1-mini',                      // 고급 모델
    'o3', 'o3-mini', 'o3-pro', 'o4-mini',          // 추론 모델
    'gpt-4o', 'gpt-4o-mini', 'gpt-4-turbo',        // 기존 모델
  ],
  // Anthropic Claude - 2025년 12월 최신 (Claude 4 시리즈)
  ANTHROPIC: [
    'claude-sonnet-4-20250514',                    // 추천, 성능-가격 최적
    'claude-opus-4-20250514',                      // 가장 강력
    'claude-haiku-4-20250514',                     // 경량, 빠른 응답
    'claude-3-5-sonnet-20241022',                  // 이전 버전 호환
    'claude-3-5-haiku-20241022',
  ],
  // Google Gemini - 2025년 12월 최신 (Gemini 3 시리즈)
  GOOGLE: [
    'gemini-3-pro-preview',                        // 최고 지능, 멀티모달
    'gemini-3-flash-preview',                      // Pro 수준, Flash 속도
    'gemini-2.5-pro',                              // 씽킹 모델, 복잡 추론
    'gemini-2.5-flash',                            // 최고 가격-성능비
    'gemini-2.5-flash-lite',                       // 비용 최적화
    'gemini-2.0-flash',                            // 워크홀스
  ],
  // OpenRouter - 다양한 공급자 모델 통합 (무료 모델 포함)
  OPENROUTER: [
    // 무료 모델 (Free)
    'google/gemini-2.0-flash-exp:free',
    'google/gemini-exp-1206:free',
    'meta-llama/llama-3.2-3b-instruct:free',
    'meta-llama/llama-3.1-8b-instruct:free',
    'microsoft/phi-3-mini-128k-instruct:free',
    'mistralai/mistral-7b-instruct:free',
    'openchat/openchat-7b:free',
    'huggingfaceh4/zephyr-7b-beta:free',
    'qwen/qwen-2-7b-instruct:free',
    'nousresearch/hermes-3-llama-3.1-405b:free',
    // 유료 모델
    'openai/gpt-5', 'openai/gpt-4o',
    'anthropic/claude-sonnet-4', 'anthropic/claude-3.5-haiku',
    'google/gemini-2.5-pro', 'google/gemini-3-pro',
    'meta-llama/llama-3.1-405b-instruct',
    'mistralai/mistral-large-2411',
    'qwen/qwen-max',
    'deepseek/deepseek-r1',
  ],
  // Ollama - 로컬 실행 모델
  OLLAMA: [
    'llama3.2',                                    // Meta Llama 3.2
    'mistral',                                     // Mistral AI
    'neural-chat',                                 // Intel
    'deepseek-r1',                                 // DeepSeek R1
    'smollm2',                                     // 경량 모델
    'mixtral', 'codellama',
  ],
  // Azure OpenAI - 배포된 모델만 사용 가능
  AZURE_OPENAI: [
    'gpt-5', 'gpt-4o', 'gpt-4-turbo', 'gpt-35-turbo',
  ],
  // Together AI - DeepSeek 및 오픈소스 모델
  TOGETHER_AI: [
    'deepseek-ai/DeepSeek-R1-Distill-Llama-70B',  // 추론 능력 70B
    'deepseek-ai/DeepSeek-V3',                    // DeepSeek V3
    'meta-llama/Llama-3.1-405B-Instruct-Turbo',
    'mistralai/Mixtral-8x22B-Instruct-v0.1',
  ],
  CUSTOM: ['default'],
};

/**
 * 사용자 LLM Provider 설정 컴포넌트
 * 
 * - 사용자 개인 설정이 있으면 해당 설정 표시
 * - 없으면 관리자 전역 설정 표시 (읽기 전용)
 * - 사용자는 자신만의 설정을 추가/수정/삭제 가능
 */
export const UserLlmSettings: React.FC<UserLlmSettingsProps> = ({ userId }) => {
  const { toast } = useToast();

  // State
  const [providerTypes, setProviderTypes] = useState<LlmProviderTypeInfo[]>([]);
  const [effectiveSettings, setEffectiveSettings] = useState<LlmProviderSettings[]>([]);
  const [userSettings, setUserSettings] = useState<LlmProviderSettings[]>([]);
  const [isLoading, setIsLoading] = useState(true);
  const [isSaving, setIsSaving] = useState(false);
  const [showApiKeys, setShowApiKeys] = useState<Record<string, boolean>>({});
  const [testResults, setTestResults] = useState<Record<string, LlmTestResult>>({});
  const [testingProvider, setTestingProvider] = useState<string | null>(null);

  // Edit dialog state
  const [editDialogOpen, setEditDialogOpen] = useState(false);
  const [editingProvider, setEditingProvider] = useState<LlmProviderType | null>(null);
  const [editForm, setEditForm] = useState<LlmProviderSettingsRequest>({
    providerType: 'OPENAI',
    apiKey: '',
    defaultModel: '',
    baseUrl: '',
    enabled: true,
    priority: 100,
    maxTokens: 4096,
    temperature: 0.7,
    timeoutMs: 60000,
  });

  // API Key Wizard state
  const [apiKeyWizardOpen, setApiKeyWizardOpen] = useState(false);

  // Load data
  const loadData = useCallback(async () => {
    setIsLoading(true);
    try {
      const [types, effective, user] = await Promise.all([
        getLlmProviderTypes(),
        getEffectiveLlmSettings(userId),
        getUserLlmSettings(userId),
      ]);
      setProviderTypes(types);
      setEffectiveSettings(effective);
      setUserSettings(user);
    } catch (error) {
      console.error('Failed to load LLM settings:', error);
      toast({
        title: '로드 실패',
        description: 'LLM 설정을 불러오는데 실패했습니다.',
        variant: 'destructive',
      });
    } finally {
      setIsLoading(false);
    }
  }, [userId, toast]);

  useEffect(() => {
    loadData();
  }, [loadData]);

  // Check if provider has user override
  const hasUserOverride = (providerType: LlmProviderType): boolean => {
    return userSettings.some(s => s.providerType === providerType);
  };

  // Get effective setting for provider
  const getEffectiveSetting = (providerType: LlmProviderType): LlmProviderSettings | undefined => {
    return effectiveSettings.find(s => s.providerType === providerType);
  };

  // Open edit dialog
  const openEditDialog = (providerType: LlmProviderType) => {
    const existing = userSettings.find(s => s.providerType === providerType);
    const effective = getEffectiveSetting(providerType);
    
    setEditingProvider(providerType);
    setEditForm({
      providerType,
      apiKey: '', // Always empty for security
      defaultModel: existing?.defaultModel || effective?.defaultModel || DEFAULT_MODELS[providerType][0],
      baseUrl: existing?.baseUrl || effective?.baseUrl || '',
      enabled: existing?.enabled ?? effective?.enabled ?? true,
      priority: existing?.priority ?? effective?.priority ?? 100,
      maxTokens: existing?.maxTokens ?? effective?.maxTokens ?? 4096,
      temperature: existing?.temperature ?? effective?.temperature ?? 0.7,
      timeoutMs: existing?.timeoutMs ?? effective?.timeoutMs ?? 60000,
      azureDeploymentName: existing?.azureDeploymentName || effective?.azureDeploymentName || '',
      azureApiVersion: existing?.azureApiVersion || effective?.azureApiVersion || '2024-02-01',
    });
    setEditDialogOpen(true);
  };

  // Save user setting
  const handleSave = async () => {
    if (!editingProvider) return;

    setIsSaving(true);
    try {
      await saveUserLlmSetting(userId, editForm);
      toast({
        title: '저장 완료',
        description: `${editingProvider} 설정이 저장되었습니다.`,
      });
      setEditDialogOpen(false);
      loadData();
    } catch (error) {
      console.error('Failed to save LLM setting:', error);
      toast({
        title: '저장 실패',
        description: '설정 저장에 실패했습니다.',
        variant: 'destructive',
      });
    } finally {
      setIsSaving(false);
    }
  };

  // Delete user setting (fallback to global)
  const handleDelete = async (providerType: LlmProviderType) => {
    try {
      await deleteUserLlmSetting(userId, providerType);
      toast({
        title: '삭제 완료',
        description: '개인 설정이 삭제되었습니다. 전역 설정으로 돌아갑니다.',
      });
      loadData();
    } catch (error) {
      console.error('Failed to delete LLM setting:', error);
      toast({
        title: '삭제 실패',
        description: '설정 삭제에 실패했습니다.',
        variant: 'destructive',
      });
    }
  };

  // Delete all user settings
  const handleDeleteAll = async () => {
    try {
      await deleteAllUserLlmSettings(userId);
      toast({
        title: '전체 삭제 완료',
        description: '모든 개인 설정이 삭제되었습니다.',
      });
      loadData();
    } catch (error) {
      console.error('Failed to delete all LLM settings:', error);
      toast({
        title: '삭제 실패',
        description: '설정 삭제에 실패했습니다.',
        variant: 'destructive',
      });
    }
  };

  // Test connection
  const handleTestConnection = async (providerType: LlmProviderType) => {
    setTestingProvider(providerType);
    try {
      const setting = getEffectiveSetting(providerType);
      if (!setting) {
        throw new Error('No settings found for this provider');
      }

      // Use the correct test endpoint based on whether this is a saved setting
      // testUserLlmConnection uses the stored API key from the database
      const result = await testUserLlmConnection(setting.id);

      setTestResults(prev => ({ ...prev, [providerType]: result }));

      toast({
        title: result.success ? '연결 성공' : '연결 실패',
        description: result.message,
        variant: result.success ? 'default' : 'destructive',
      });
    } catch (error) {
      console.error('Connection test failed:', error);
      toast({
        title: '테스트 실패',
        description: '연결 테스트 중 오류가 발생했습니다.',
        variant: 'destructive',
      });
    } finally {
      setTestingProvider(null);
    }
  };

  // Toggle API key visibility
  const toggleKeyVisibility = (provider: string) => {
    setShowApiKeys(prev => ({ ...prev, [provider]: !prev[provider] }));
  };

  // Handle API Key Wizard success - reload settings after auto-provisioning
  const handleApiKeyWizardSuccess = useCallback((provider: string, keyMasked: string) => {
    toast({
      title: 'API 키 자동 발급 완료',
      description: `${provider} API 키가 성공적으로 발급되고 저장되었습니다: ${keyMasked}`,
    });
    // Reload settings to reflect the new API key
    loadData();
  }, [toast, loadData]);

  if (isLoading) {
    return (
      <Card>
        <CardContent className="flex items-center justify-center py-12">
          <Loader2 className="h-8 w-8 animate-spin text-muted-foreground" />
        </CardContent>
      </Card>
    );
  }

  return (
    <div className="space-y-6">
      {/* Header */}
      <Card>
        <CardHeader>
          <div className="flex items-center justify-between">
            <div>
              <CardTitle className="flex items-center gap-2">
                <Bot className="h-5 w-5" />
                LLM 제공자 설정
              </CardTitle>
              <CardDescription>
                AI 분석에 사용할 LLM 제공자를 설정합니다. 개인 설정이 없으면 관리자 전역 설정이 적용됩니다.
              </CardDescription>
            </div>
            <div className="flex gap-2">
              <Button variant="outline" onClick={() => setApiKeyWizardOpen(true)}>
                <Wand2 className="h-4 w-4 mr-2" />
                API 키 자동 발급
              </Button>
              <Button variant="outline" onClick={loadData}>
                <RefreshCw className="h-4 w-4 mr-2" />
                새로고침
              </Button>
              {userSettings.length > 0 && (
                <Button variant="destructive" size="sm" onClick={handleDeleteAll}>
                  <Trash2 className="h-4 w-4 mr-2" />
                  전체 초기화
                </Button>
              )}
            </div>
          </div>
        </CardHeader>
      </Card>

      {/* Info Alert */}
      <Alert>
        <AlertCircle className="h-4 w-4" />
        <AlertDescription>
          <Shield className="h-4 w-4 inline mr-1" /> 아이콘은 관리자 전역 설정, 
          <User className="h-4 w-4 inline mx-1" /> 아이콘은 개인 설정을 나타냅니다.
          개인 설정이 없는 경우 전역 설정이 자동으로 적용됩니다.
        </AlertDescription>
      </Alert>

      {/* Provider List */}
      <div className="grid gap-4">
        {providerTypes.map((type) => {
          const setting = getEffectiveSetting(type.value);
          const isUserSetting = hasUserOverride(type.value);
          const testResult = testResults[type.value];

          return (
            <Card key={type.value} className={!setting?.enabled ? 'opacity-60' : ''}>
              <CardContent className="pt-6">
                <div className="flex items-center justify-between">
                  <div className="flex items-center gap-4">
                    {/* Provider Icon/Badge */}
                    <div className="flex items-center gap-2">
                      {isUserSetting ? (
                        <Badge variant="default" className="gap-1">
                          <User className="h-3 w-3" />
                          개인
                        </Badge>
                      ) : (
                        <Badge variant="secondary" className="gap-1">
                          <Shield className="h-3 w-3" />
                          전역
                        </Badge>
                      )}
                    </div>

                    {/* Provider Info */}
                    <div>
                      <h3 className="font-semibold">{type.displayName}</h3>
                      <p className="text-sm text-muted-foreground">
                        모델: {setting?.defaultModel || '미설정'}
                      </p>
                    </div>
                  </div>

                  {/* Status & Actions */}
                  <div className="flex items-center gap-3">
                    {/* API Key Status */}
                    {setting && (
                      <div className="flex items-center gap-2 text-sm">
                        {setting.hasApiKey ? (
                          <Badge variant="outline" className="text-green-600">
                            <CheckCircle2 className="h-3 w-3 mr-1" />
                            API 키 설정됨
                          </Badge>
                        ) : (
                          <Badge variant="outline" className="text-yellow-600">
                            <AlertCircle className="h-3 w-3 mr-1" />
                            API 키 없음
                          </Badge>
                        )}
                      </div>
                    )}

                    {/* Test Result */}
                    {testResult && (
                      <Badge variant={testResult.success ? 'default' : 'destructive'}>
                        {testResult.success ? (
                          <CheckCircle2 className="h-3 w-3 mr-1" />
                        ) : (
                          <XCircle className="h-3 w-3 mr-1" />
                        )}
                        {testResult.success ? '연결됨' : '실패'}
                      </Badge>
                    )}

                    {/* Enabled Status */}
                    <Badge variant={setting?.enabled ? 'default' : 'secondary'}>
                      {setting?.enabled ? '활성화' : '비활성화'}
                    </Badge>

                    {/* Actions */}
                    <div className="flex gap-2">
                      <Button
                        variant="outline"
                        size="sm"
                        onClick={() => handleTestConnection(type.value)}
                        disabled={testingProvider === type.value || !setting?.hasApiKey}
                      >
                        {testingProvider === type.value ? (
                          <Loader2 className="h-4 w-4 animate-spin" />
                        ) : (
                          <Zap className="h-4 w-4" />
                        )}
                      </Button>

                      <Button
                        variant="outline"
                        size="sm"
                        onClick={() => openEditDialog(type.value)}
                      >
                        설정
                      </Button>

                      {isUserSetting && (
                        <Button
                          variant="ghost"
                          size="sm"
                          onClick={() => handleDelete(type.value)}
                        >
                          <Trash2 className="h-4 w-4 text-destructive" />
                        </Button>
                      )}
                    </div>
                  </div>
                </div>
              </CardContent>
            </Card>
          );
        })}
      </div>

      {/* Edit Dialog */}
      <Dialog open={editDialogOpen} onOpenChange={setEditDialogOpen}>
        <DialogContent className="max-w-lg">
          <DialogHeader>
            <DialogTitle>
              {editingProvider} 설정
            </DialogTitle>
            <DialogDescription>
              개인 LLM 설정을 입력하세요. 빈 값은 전역 설정을 사용합니다.
            </DialogDescription>
          </DialogHeader>

          <div className="space-y-4 py-4">
            {/* API Key */}
            <div className="space-y-2">
              <Label htmlFor="apiKey">API 키</Label>
              <div className="flex gap-2">
                <Input
                  id="apiKey"
                  type={showApiKeys['edit'] ? 'text' : 'password'}
                  value={editForm.apiKey || ''}
                  onChange={(e) => setEditForm(prev => ({ ...prev, apiKey: e.target.value }))}
                  placeholder="새 API 키 입력 (비우면 기존 값 유지)"
                />
                <Button
                  type="button"
                  variant="ghost"
                  size="icon"
                  onClick={() => toggleKeyVisibility('edit')}
                >
                  {showApiKeys['edit'] ? <EyeOff className="h-4 w-4" /> : <Eye className="h-4 w-4" />}
                </Button>
              </div>
            </div>

            {/* Model */}
            <div className="space-y-2">
              <Label htmlFor="model">모델</Label>
              <Select
                value={editForm.defaultModel}
                onValueChange={(value) => setEditForm(prev => ({ ...prev, defaultModel: value }))}
              >
                <SelectTrigger>
                  <SelectValue placeholder="모델 선택" />
                </SelectTrigger>
                <SelectContent>
                  {editingProvider && DEFAULT_MODELS[editingProvider]?.map((model) => (
                    <SelectItem key={model} value={model}>{model}</SelectItem>
                  ))}
                </SelectContent>
              </Select>
            </div>

            {/* Base URL (for Ollama/Custom) */}
            {(editingProvider === 'OLLAMA' || editingProvider === 'CUSTOM') && (
              <div className="space-y-2">
                <Label htmlFor="baseUrl">Base URL</Label>
                <Input
                  id="baseUrl"
                  value={editForm.baseUrl || ''}
                  onChange={(e) => setEditForm(prev => ({ ...prev, baseUrl: e.target.value }))}
                  placeholder={editingProvider === 'OLLAMA' ? 'http://localhost:11434' : 'https://api.example.com'}
                />
              </div>
            )}

            {/* Azure specific fields */}
            {editingProvider === 'AZURE_OPENAI' && (
              <>
                <div className="space-y-2">
                  <Label htmlFor="azureEndpoint">Azure Endpoint</Label>
                  <Input
                    id="azureEndpoint"
                    value={editForm.baseUrl || ''}
                    onChange={(e) => setEditForm(prev => ({ ...prev, baseUrl: e.target.value }))}
                    placeholder="https://your-resource.openai.azure.com"
                  />
                </div>
                <div className="space-y-2">
                  <Label htmlFor="azureDeploymentName">Deployment Name</Label>
                  <Input
                    id="azureDeploymentName"
                    value={editForm.azureDeploymentName || ''}
                    onChange={(e) => setEditForm(prev => ({ ...prev, azureDeploymentName: e.target.value }))}
                  />
                </div>
                <div className="space-y-2">
                  <Label htmlFor="azureApiVersion">API Version</Label>
                  <Input
                    id="azureApiVersion"
                    value={editForm.azureApiVersion || ''}
                    onChange={(e) => setEditForm(prev => ({ ...prev, azureApiVersion: e.target.value }))}
                    placeholder="2024-02-01"
                  />
                </div>
              </>
            )}

            <Separator />

            {/* Advanced Settings */}
            <div className="grid grid-cols-2 gap-4">
              <div className="space-y-2">
                <Label htmlFor="priority">우선순위</Label>
                <Input
                  id="priority"
                  type="number"
                  min={1}
                  max={999}
                  value={editForm.priority}
                  onChange={(e) => setEditForm(prev => ({ ...prev, priority: parseInt(e.target.value) }))}
                />
              </div>
              <div className="space-y-2">
                <Label htmlFor="maxTokens">최대 토큰</Label>
                <Input
                  id="maxTokens"
                  type="number"
                  min={1}
                  max={128000}
                  value={editForm.maxTokens}
                  onChange={(e) => setEditForm(prev => ({ ...prev, maxTokens: parseInt(e.target.value) }))}
                />
              </div>
              <div className="space-y-2">
                <Label htmlFor="temperature">Temperature</Label>
                <Input
                  id="temperature"
                  type="number"
                  min={0}
                  max={2}
                  step={0.1}
                  value={editForm.temperature}
                  onChange={(e) => setEditForm(prev => ({ ...prev, temperature: parseFloat(e.target.value) }))}
                />
              </div>
              <div className="space-y-2">
                <Label htmlFor="timeoutMs">타임아웃 (ms)</Label>
                <Input
                  id="timeoutMs"
                  type="number"
                  min={1000}
                  max={300000}
                  value={editForm.timeoutMs}
                  onChange={(e) => setEditForm(prev => ({ ...prev, timeoutMs: parseInt(e.target.value) }))}
                />
              </div>
            </div>

            {/* Enabled Toggle */}
            <div className="flex items-center justify-between">
              <Label htmlFor="enabled">활성화</Label>
              <Switch
                id="enabled"
                checked={editForm.enabled}
                onCheckedChange={(checked) => setEditForm(prev => ({ ...prev, enabled: checked }))}
              />
            </div>
          </div>

          <DialogFooter>
            <Button variant="outline" onClick={() => setEditDialogOpen(false)}>
              취소
            </Button>
            <Button onClick={handleSave} disabled={isSaving}>
              {isSaving ? (
                <Loader2 className="h-4 w-4 mr-2 animate-spin" />
              ) : (
                <Save className="h-4 w-4 mr-2" />
              )}
              저장
            </Button>
          </DialogFooter>
        </DialogContent>
      </Dialog>

      {/* API Key Auto-Provisioning Wizard */}
      <APIKeyWizard
        open={apiKeyWizardOpen}
        onOpenChange={setApiKeyWizardOpen}
        onSuccess={handleApiKeyWizardSuccess}
      />
    </div>
  );
};

export default UserLlmSettings;

```

---

## frontend/src/components/ui/accordion.tsx

```tsx
import * as React from "react";
import * as AccordionPrimitive from "@radix-ui/react-accordion";
import { ChevronDown } from "lucide-react";

import { cn } from "@/lib/utils";

const Accordion = AccordionPrimitive.Root;

const AccordionItem = React.forwardRef<
  React.ElementRef<typeof AccordionPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>
>(({ className, ...props }, ref) => (
  <AccordionPrimitive.Item ref={ref} className={cn("border-b", className)} {...props} />
));
AccordionItem.displayName = "AccordionItem";

const AccordionTrigger = React.forwardRef<
  React.ElementRef<typeof AccordionPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>
>(({ className, children, ...props }, ref) => (
  <AccordionPrimitive.Header className="flex">
    <AccordionPrimitive.Trigger
      ref={ref}
      className={cn(
        "flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",
        className,
      )}
      {...props}
    >
      {children}
      <ChevronDown className="h-4 w-4 shrink-0 transition-transform duration-200" />
    </AccordionPrimitive.Trigger>
  </AccordionPrimitive.Header>
));
AccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName;

const AccordionContent = React.forwardRef<
  React.ElementRef<typeof AccordionPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>
>(({ className, children, ...props }, ref) => (
  <AccordionPrimitive.Content
    ref={ref}
    className="overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down"
    {...props}
  >
    <div className={cn("pb-4 pt-0", className)}>{children}</div>
  </AccordionPrimitive.Content>
));

AccordionContent.displayName = AccordionPrimitive.Content.displayName;

export { Accordion, AccordionItem, AccordionTrigger, AccordionContent };

```

---

## frontend/src/components/ui/alert-dialog.tsx

```tsx
import * as React from "react";
import * as AlertDialogPrimitive from "@radix-ui/react-alert-dialog";

import { cn } from "@/lib/utils";
import { buttonVariants } from "@/components/ui/button";

const AlertDialog = AlertDialogPrimitive.Root;

const AlertDialogTrigger = AlertDialogPrimitive.Trigger;

const AlertDialogPortal = AlertDialogPrimitive.Portal;

const AlertDialogOverlay = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Overlay
    className={cn(
      "fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
      className,
    )}
    {...props}
    ref={ref}
  />
));
AlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName;

const AlertDialogContent = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>
>(({ className, ...props }, ref) => (
  <AlertDialogPortal>
    <AlertDialogOverlay />
    <AlertDialogPrimitive.Content
      ref={ref}
      className={cn(
        "fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",
        className,
      )}
      {...props}
    />
  </AlertDialogPortal>
));
AlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName;

const AlertDialogHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (
  <div className={cn("flex flex-col space-y-2 text-center sm:text-left", className)} {...props} />
);
AlertDialogHeader.displayName = "AlertDialogHeader";

const AlertDialogFooter = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (
  <div className={cn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2", className)} {...props} />
);
AlertDialogFooter.displayName = "AlertDialogFooter";

const AlertDialogTitle = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Title ref={ref} className={cn("text-lg font-semibold", className)} {...props} />
));
AlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName;

const AlertDialogDescription = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Description ref={ref} className={cn("text-sm text-muted-foreground", className)} {...props} />
));
AlertDialogDescription.displayName = AlertDialogPrimitive.Description.displayName;

const AlertDialogAction = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Action>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Action ref={ref} className={cn(buttonVariants(), className)} {...props} />
));
AlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName;

const AlertDialogCancel = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Cancel
    ref={ref}
    className={cn(buttonVariants({ variant: "outline" }), "mt-2 sm:mt-0", className)}
    {...props}
  />
));
AlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName;

export {
  AlertDialog,
  AlertDialogPortal,
  AlertDialogOverlay,
  AlertDialogTrigger,
  AlertDialogContent,
  AlertDialogHeader,
  AlertDialogFooter,
  AlertDialogTitle,
  AlertDialogDescription,
  AlertDialogAction,
  AlertDialogCancel,
};

```

---

## frontend/src/components/ui/alert.tsx

```tsx
import * as React from "react";
import { cva, type VariantProps } from "class-variance-authority";

import { cn } from "@/lib/utils";

const alertVariants = cva(
  "relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",
  {
    variants: {
      variant: {
        default: "bg-background text-foreground",
        destructive: "border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  },
);

const Alert = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>
>(({ className, variant, ...props }, ref) => (
  <div ref={ref} role="alert" className={cn(alertVariants({ variant }), className)} {...props} />
));
Alert.displayName = "Alert";

const AlertTitle = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLHeadingElement>>(
  ({ className, ...props }, ref) => (
    <h5 ref={ref} className={cn("mb-1 font-medium leading-none tracking-tight", className)} {...props} />
  ),
);
AlertTitle.displayName = "AlertTitle";

const AlertDescription = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(
  ({ className, ...props }, ref) => (
    <div ref={ref} className={cn("text-sm [&_p]:leading-relaxed", className)} {...props} />
  ),
);
AlertDescription.displayName = "AlertDescription";

export { Alert, AlertTitle, AlertDescription };

```

---

## frontend/src/components/ui/aspect-ratio.tsx

```tsx
import * as AspectRatioPrimitive from "@radix-ui/react-aspect-ratio";

const AspectRatio = AspectRatioPrimitive.Root;

export { AspectRatio };

```

---

## frontend/src/components/ui/avatar.tsx

```tsx
import * as React from "react";
import * as AvatarPrimitive from "@radix-ui/react-avatar";

import { cn } from "@/lib/utils";

const Avatar = React.forwardRef<
  React.ElementRef<typeof AvatarPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>
>(({ className, ...props }, ref) => (
  <AvatarPrimitive.Root
    ref={ref}
    className={cn("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full", className)}
    {...props}
  />
));
Avatar.displayName = AvatarPrimitive.Root.displayName;

const AvatarImage = React.forwardRef<
  React.ElementRef<typeof AvatarPrimitive.Image>,
  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>
>(({ className, ...props }, ref) => (
  <AvatarPrimitive.Image ref={ref} className={cn("aspect-square h-full w-full", className)} {...props} />
));
AvatarImage.displayName = AvatarPrimitive.Image.displayName;

const AvatarFallback = React.forwardRef<
  React.ElementRef<typeof AvatarPrimitive.Fallback>,
  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>
>(({ className, ...props }, ref) => (
  <AvatarPrimitive.Fallback
    ref={ref}
    className={cn("flex h-full w-full items-center justify-center rounded-full bg-muted", className)}
    {...props}
  />
));
AvatarFallback.displayName = AvatarPrimitive.Fallback.displayName;

export { Avatar, AvatarImage, AvatarFallback };

```

---

## frontend/src/components/ui/badge.tsx

```tsx
import * as React from "react";
import { cva, type VariantProps } from "class-variance-authority";

import { cn } from "@/lib/utils";

const badgeVariants = cva(
  "inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",
  {
    variants: {
      variant: {
        default: "border-transparent bg-primary text-primary-foreground hover:bg-primary/80",
        secondary: "border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",
        destructive: "border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",
        outline: "text-foreground",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  },
);

export interface BadgeProps extends React.HTMLAttributes<HTMLDivElement>, VariantProps<typeof badgeVariants> {}

function Badge({ className, variant, ...props }: BadgeProps) {
  return <div className={cn(badgeVariants({ variant }), className)} {...props} />;
}

export { Badge, badgeVariants };

```

---

## frontend/src/components/ui/breadcrumb.tsx

```tsx
import * as React from "react";
import { Slot } from "@radix-ui/react-slot";
import { ChevronRight, MoreHorizontal } from "lucide-react";

import { cn } from "@/lib/utils";

const Breadcrumb = React.forwardRef<
  HTMLElement,
  React.ComponentPropsWithoutRef<"nav"> & {
    separator?: React.ReactNode;
  }
>(({ ...props }, ref) => <nav ref={ref} aria-label="breadcrumb" {...props} />);
Breadcrumb.displayName = "Breadcrumb";

const BreadcrumbList = React.forwardRef<HTMLOListElement, React.ComponentPropsWithoutRef<"ol">>(
  ({ className, ...props }, ref) => (
    <ol
      ref={ref}
      className={cn(
        "flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",
        className,
      )}
      {...props}
    />
  ),
);
BreadcrumbList.displayName = "BreadcrumbList";

const BreadcrumbItem = React.forwardRef<HTMLLIElement, React.ComponentPropsWithoutRef<"li">>(
  ({ className, ...props }, ref) => (
    <li ref={ref} className={cn("inline-flex items-center gap-1.5", className)} {...props} />
  ),
);
BreadcrumbItem.displayName = "BreadcrumbItem";

const BreadcrumbLink = React.forwardRef<
  HTMLAnchorElement,
  React.ComponentPropsWithoutRef<"a"> & {
    asChild?: boolean;
  }
>(({ asChild, className, ...props }, ref) => {
  const Comp = asChild ? Slot : "a";

  return <Comp ref={ref} className={cn("transition-colors hover:text-foreground", className)} {...props} />;
});
BreadcrumbLink.displayName = "BreadcrumbLink";

const BreadcrumbPage = React.forwardRef<HTMLSpanElement, React.ComponentPropsWithoutRef<"span">>(
  ({ className, ...props }, ref) => (
    <span
      ref={ref}
      role="link"
      aria-disabled="true"
      aria-current="page"
      className={cn("font-normal text-foreground", className)}
      {...props}
    />
  ),
);
BreadcrumbPage.displayName = "BreadcrumbPage";

const BreadcrumbSeparator = ({ children, className, ...props }: React.ComponentProps<"li">) => (
  <li role="presentation" aria-hidden="true" className={cn("[&>svg]:size-3.5", className)} {...props}>
    {children ?? <ChevronRight />}
  </li>
);
BreadcrumbSeparator.displayName = "BreadcrumbSeparator";

const BreadcrumbEllipsis = ({ className, ...props }: React.ComponentProps<"span">) => (
  <span
    role="presentation"
    aria-hidden="true"
    className={cn("flex h-9 w-9 items-center justify-center", className)}
    {...props}
  >
    <MoreHorizontal className="h-4 w-4" />
    <span className="sr-only">More</span>
  </span>
);
BreadcrumbEllipsis.displayName = "BreadcrumbElipssis";

export {
  Breadcrumb,
  BreadcrumbList,
  BreadcrumbItem,
  BreadcrumbLink,
  BreadcrumbPage,
  BreadcrumbSeparator,
  BreadcrumbEllipsis,
};

```

---

## frontend/src/components/ui/button.tsx

```tsx
import * as React from "react";
import { Slot } from "@radix-ui/react-slot";
import { cva, type VariantProps } from "class-variance-authority";

import { cn } from "@/lib/utils";

const buttonVariants = cva(
  "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",
  {
    variants: {
      variant: {
        default: "bg-primary text-primary-foreground hover:bg-primary/90",
        destructive: "bg-destructive text-destructive-foreground hover:bg-destructive/90",
        outline: "border border-input bg-background hover:bg-accent hover:text-accent-foreground",
        secondary: "bg-secondary text-secondary-foreground hover:bg-secondary/80",
        ghost: "hover:bg-accent hover:text-accent-foreground",
        link: "text-primary underline-offset-4 hover:underline",
        gradient: "gradient-primary text-primary-foreground hover:opacity-90 shadow-md",
      },
      size: {
        default: "h-10 px-4 py-2",
        sm: "h-9 rounded-md px-3",
        lg: "h-11 rounded-md px-8",
        icon: "h-10 w-10",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  },
);

export interface ButtonProps
  extends React.ButtonHTMLAttributes<HTMLButtonElement>,
    VariantProps<typeof buttonVariants> {
  asChild?: boolean;
}

const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(
  ({ className, variant, size, asChild = false, ...props }, ref) => {
    const Comp = asChild ? Slot : "button";
    return <Comp className={cn(buttonVariants({ variant, size, className }))} ref={ref} {...props} />;
  },
);
Button.displayName = "Button";

export { Button, buttonVariants };

```

---

## frontend/src/components/ui/calendar.tsx

```tsx
import * as React from "react";
import { ChevronLeft, ChevronRight } from "lucide-react";
import { DayPicker } from "react-day-picker";

import { cn } from "@/lib/utils";
import { buttonVariants } from "@/components/ui/button";

export type CalendarProps = React.ComponentProps<typeof DayPicker>;

function Calendar({ className, classNames, showOutsideDays = true, ...props }: CalendarProps) {
  return (
    <DayPicker
      showOutsideDays={showOutsideDays}
      className={cn("p-3", className)}
      classNames={{
        months: "flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",
        month: "space-y-4",
        caption: "flex justify-center pt-1 relative items-center",
        caption_label: "text-sm font-medium",
        nav: "space-x-1 flex items-center",
        nav_button: cn(
          buttonVariants({ variant: "outline" }),
          "h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",
        ),
        nav_button_previous: "absolute left-1",
        nav_button_next: "absolute right-1",
        table: "w-full border-collapse space-y-1",
        head_row: "flex",
        head_cell: "text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",
        row: "flex w-full mt-2",
        cell: "h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",
        day: cn(buttonVariants({ variant: "ghost" }), "h-9 w-9 p-0 font-normal aria-selected:opacity-100"),
        day_range_end: "day-range-end",
        day_selected:
          "bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",
        day_today: "bg-accent text-accent-foreground",
        day_outside:
          "day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",
        day_disabled: "text-muted-foreground opacity-50",
        day_range_middle: "aria-selected:bg-accent aria-selected:text-accent-foreground",
        day_hidden: "invisible",
        ...classNames,
      }}
      components={{
        IconLeft: ({ ..._props }) => <ChevronLeft className="h-4 w-4" />,
        IconRight: ({ ..._props }) => <ChevronRight className="h-4 w-4" />,
      }}
      {...props}
    />
  );
}
Calendar.displayName = "Calendar";

export { Calendar };

```

---

## frontend/src/components/ui/card.tsx

```tsx
import * as React from "react";

import { cn } from "@/lib/utils";

const Card = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(({ className, ...props }, ref) => (
  <div ref={ref} className={cn("rounded-lg border bg-card text-card-foreground shadow-sm", className)} {...props} />
));
Card.displayName = "Card";

const CardHeader = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(
  ({ className, ...props }, ref) => (
    <div ref={ref} className={cn("flex flex-col space-y-1.5 p-6", className)} {...props} />
  ),
);
CardHeader.displayName = "CardHeader";

const CardTitle = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLHeadingElement>>(
  ({ className, ...props }, ref) => (
    <h3 ref={ref} className={cn("text-2xl font-semibold leading-none tracking-tight", className)} {...props} />
  ),
);
CardTitle.displayName = "CardTitle";

const CardDescription = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(
  ({ className, ...props }, ref) => (
    <p ref={ref} className={cn("text-sm text-muted-foreground", className)} {...props} />
  ),
);
CardDescription.displayName = "CardDescription";

const CardContent = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(
  ({ className, ...props }, ref) => <div ref={ref} className={cn("p-6 pt-0", className)} {...props} />,
);
CardContent.displayName = "CardContent";

const CardFooter = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(
  ({ className, ...props }, ref) => (
    <div ref={ref} className={cn("flex items-center p-6 pt-0", className)} {...props} />
  ),
);
CardFooter.displayName = "CardFooter";

export { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent };

```

---

## frontend/src/components/ui/carousel.tsx

```tsx
import * as React from "react";
import useEmblaCarousel, { type UseEmblaCarouselType } from "embla-carousel-react";
import { ArrowLeft, ArrowRight } from "lucide-react";

import { cn } from "@/lib/utils";
import { Button } from "@/components/ui/button";

type CarouselApi = UseEmblaCarouselType[1];
type UseCarouselParameters = Parameters<typeof useEmblaCarousel>;
type CarouselOptions = UseCarouselParameters[0];
type CarouselPlugin = UseCarouselParameters[1];

type CarouselProps = {
  opts?: CarouselOptions;
  plugins?: CarouselPlugin;
  orientation?: "horizontal" | "vertical";
  setApi?: (api: CarouselApi) => void;
};

type CarouselContextProps = {
  carouselRef: ReturnType<typeof useEmblaCarousel>[0];
  api: ReturnType<typeof useEmblaCarousel>[1];
  scrollPrev: () => void;
  scrollNext: () => void;
  canScrollPrev: boolean;
  canScrollNext: boolean;
} & CarouselProps;

const CarouselContext = React.createContext<CarouselContextProps | null>(null);

function useCarousel() {
  const context = React.useContext(CarouselContext);

  if (!context) {
    throw new Error("useCarousel must be used within a <Carousel />");
  }

  return context;
}

const Carousel = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement> & CarouselProps>(
  ({ orientation = "horizontal", opts, setApi, plugins, className, children, ...props }, ref) => {
    const [carouselRef, api] = useEmblaCarousel(
      {
        ...opts,
        axis: orientation === "horizontal" ? "x" : "y",
      },
      plugins,
    );
    const [canScrollPrev, setCanScrollPrev] = React.useState(false);
    const [canScrollNext, setCanScrollNext] = React.useState(false);

    const onSelect = React.useCallback((api: CarouselApi) => {
      if (!api) {
        return;
      }

      setCanScrollPrev(api.canScrollPrev());
      setCanScrollNext(api.canScrollNext());
    }, []);

    const scrollPrev = React.useCallback(() => {
      api?.scrollPrev();
    }, [api]);

    const scrollNext = React.useCallback(() => {
      api?.scrollNext();
    }, [api]);

    const handleKeyDown = React.useCallback(
      (event: React.KeyboardEvent<HTMLDivElement>) => {
        if (event.key === "ArrowLeft") {
          event.preventDefault();
          scrollPrev();
        } else if (event.key === "ArrowRight") {
          event.preventDefault();
          scrollNext();
        }
      },
      [scrollPrev, scrollNext],
    );

    React.useEffect(() => {
      if (!api || !setApi) {
        return;
      }

      setApi(api);
    }, [api, setApi]);

    React.useEffect(() => {
      if (!api) {
        return;
      }

      onSelect(api);
      api.on("reInit", onSelect);
      api.on("select", onSelect);

      return () => {
        api?.off("select", onSelect);
      };
    }, [api, onSelect]);

    return (
      <CarouselContext.Provider
        value={{
          carouselRef,
          api: api,
          opts,
          orientation: orientation || (opts?.axis === "y" ? "vertical" : "horizontal"),
          scrollPrev,
          scrollNext,
          canScrollPrev,
          canScrollNext,
        }}
      >
        <div
          ref={ref}
          onKeyDownCapture={handleKeyDown}
          className={cn("relative", className)}
          role="region"
          aria-roledescription="carousel"
          {...props}
        >
          {children}
        </div>
      </CarouselContext.Provider>
    );
  },
);
Carousel.displayName = "Carousel";

const CarouselContent = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(
  ({ className, ...props }, ref) => {
    const { carouselRef, orientation } = useCarousel();

    return (
      <div ref={carouselRef} className="overflow-hidden">
        <div
          ref={ref}
          className={cn("flex", orientation === "horizontal" ? "-ml-4" : "-mt-4 flex-col", className)}
          {...props}
        />
      </div>
    );
  },
);
CarouselContent.displayName = "CarouselContent";

const CarouselItem = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(
  ({ className, ...props }, ref) => {
    const { orientation } = useCarousel();

    return (
      <div
        ref={ref}
        role="group"
        aria-roledescription="slide"
        className={cn("min-w-0 shrink-0 grow-0 basis-full", orientation === "horizontal" ? "pl-4" : "pt-4", className)}
        {...props}
      />
    );
  },
);
CarouselItem.displayName = "CarouselItem";

const CarouselPrevious = React.forwardRef<HTMLButtonElement, React.ComponentProps<typeof Button>>(
  ({ className, variant = "outline", size = "icon", ...props }, ref) => {
    const { orientation, scrollPrev, canScrollPrev } = useCarousel();

    return (
      <Button
        ref={ref}
        variant={variant}
        size={size}
        className={cn(
          "absolute h-8 w-8 rounded-full",
          orientation === "horizontal"
            ? "-left-12 top-1/2 -translate-y-1/2"
            : "-top-12 left-1/2 -translate-x-1/2 rotate-90",
          className,
        )}
        disabled={!canScrollPrev}
        onClick={scrollPrev}
        {...props}
      >
        <ArrowLeft className="h-4 w-4" />
        <span className="sr-only">Previous slide</span>
      </Button>
    );
  },
);
CarouselPrevious.displayName = "CarouselPrevious";

const CarouselNext = React.forwardRef<HTMLButtonElement, React.ComponentProps<typeof Button>>(
  ({ className, variant = "outline", size = "icon", ...props }, ref) => {
    const { orientation, scrollNext, canScrollNext } = useCarousel();

    return (
      <Button
        ref={ref}
        variant={variant}
        size={size}
        className={cn(
          "absolute h-8 w-8 rounded-full",
          orientation === "horizontal"
            ? "-right-12 top-1/2 -translate-y-1/2"
            : "-bottom-12 left-1/2 -translate-x-1/2 rotate-90",
          className,
        )}
        disabled={!canScrollNext}
        onClick={scrollNext}
        {...props}
      >
        <ArrowRight className="h-4 w-4" />
        <span className="sr-only">Next slide</span>
      </Button>
    );
  },
);
CarouselNext.displayName = "CarouselNext";

export { type CarouselApi, Carousel, CarouselContent, CarouselItem, CarouselPrevious, CarouselNext };

```

---

## frontend/src/components/ui/chart.tsx

```tsx
import * as React from "react";
import * as RechartsPrimitive from "recharts";

import { cn } from "@/lib/utils";

// Format: { THEME_NAME: CSS_SELECTOR }
const THEMES = { light: "", dark: ".dark" } as const;

export type ChartConfig = {
  [k in string]: {
    label?: React.ReactNode;
    icon?: React.ComponentType;
  } & ({ color?: string; theme?: never } | { color?: never; theme: Record<keyof typeof THEMES, string> });
};

type ChartContextProps = {
  config: ChartConfig;
};

const ChartContext = React.createContext<ChartContextProps | null>(null);

function useChart() {
  const context = React.useContext(ChartContext);

  if (!context) {
    throw new Error("useChart must be used within a <ChartContainer />");
  }

  return context;
}

const ChartContainer = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> & {
    config: ChartConfig;
    children: React.ComponentProps<typeof RechartsPrimitive.ResponsiveContainer>["children"];
  }
>(({ id, className, children, config, ...props }, ref) => {
  const uniqueId = React.useId();
  const chartId = `chart-${id || uniqueId.replace(/:/g, "")}`;

  return (
    <ChartContext.Provider value={{ config }}>
      <div
        data-chart={chartId}
        ref={ref}
        className={cn(
          "flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",
          className,
        )}
        {...props}
      >
        <ChartStyle id={chartId} config={config} />
        <RechartsPrimitive.ResponsiveContainer>{children}</RechartsPrimitive.ResponsiveContainer>
      </div>
    </ChartContext.Provider>
  );
});
ChartContainer.displayName = "Chart";

const ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {
  const colorConfig = Object.entries(config).filter(([_, config]) => config.theme || config.color);

  if (!colorConfig.length) {
    return null;
  }

  return (
    <style
      dangerouslySetInnerHTML={{
        __html: Object.entries(THEMES)
          .map(
            ([theme, prefix]) => `
${prefix} [data-chart=${id}] {
${colorConfig
  .map(([key, itemConfig]) => {
    const color = itemConfig.theme?.[theme as keyof typeof itemConfig.theme] || itemConfig.color;
    return color ? `  --color-${key}: ${color};` : null;
  })
  .join("\n")}
}
`,
          )
          .join("\n"),
      }}
    />
  );
};

const ChartTooltip = RechartsPrimitive.Tooltip;

const ChartTooltipContent = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &
    React.ComponentProps<"div"> & {
      hideLabel?: boolean;
      hideIndicator?: boolean;
      indicator?: "line" | "dot" | "dashed";
      nameKey?: string;
      labelKey?: string;
    }
>(
  (
    {
      active,
      payload,
      className,
      indicator = "dot",
      hideLabel = false,
      hideIndicator = false,
      label,
      labelFormatter,
      labelClassName,
      formatter,
      color,
      nameKey,
      labelKey,
    },
    ref,
  ) => {
    const { config } = useChart();

    const tooltipLabel = React.useMemo(() => {
      if (hideLabel || !payload?.length) {
        return null;
      }

      const [item] = payload;
      const key = `${labelKey || item.dataKey || item.name || "value"}`;
      const itemConfig = getPayloadConfigFromPayload(config, item, key);
      const value =
        !labelKey && typeof label === "string"
          ? config[label as keyof typeof config]?.label || label
          : itemConfig?.label;

      if (labelFormatter) {
        return <div className={cn("font-medium", labelClassName)}>{labelFormatter(value, payload)}</div>;
      }

      if (!value) {
        return null;
      }

      return <div className={cn("font-medium", labelClassName)}>{value}</div>;
    }, [label, labelFormatter, payload, hideLabel, labelClassName, config, labelKey]);

    if (!active || !payload?.length) {
      return null;
    }

    const nestLabel = payload.length === 1 && indicator !== "dot";

    return (
      <div
        ref={ref}
        className={cn(
          "grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",
          className,
        )}
      >
        {!nestLabel ? tooltipLabel : null}
        <div className="grid gap-1.5">
          {payload.map((item, index) => {
            const key = `${nameKey || item.name || item.dataKey || "value"}`;
            const itemConfig = getPayloadConfigFromPayload(config, item, key);
            const indicatorColor = color || item.payload.fill || item.color;

            return (
              <div
                key={item.dataKey}
                className={cn(
                  "flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",
                  indicator === "dot" && "items-center",
                )}
              >
                {formatter && item?.value !== undefined && item.name ? (
                  formatter(item.value, item.name, item, index, item.payload)
                ) : (
                  <>
                    {itemConfig?.icon ? (
                      <itemConfig.icon />
                    ) : (
                      !hideIndicator && (
                        <div
                          className={cn("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]", {
                            "h-2.5 w-2.5": indicator === "dot",
                            "w-1": indicator === "line",
                            "w-0 border-[1.5px] border-dashed bg-transparent": indicator === "dashed",
                            "my-0.5": nestLabel && indicator === "dashed",
                          })}
                          style={
                            {
                              "--color-bg": indicatorColor,
                              "--color-border": indicatorColor,
                            } as React.CSSProperties
                          }
                        />
                      )
                    )}
                    <div
                      className={cn(
                        "flex flex-1 justify-between leading-none",
                        nestLabel ? "items-end" : "items-center",
                      )}
                    >
                      <div className="grid gap-1.5">
                        {nestLabel ? tooltipLabel : null}
                        <span className="text-muted-foreground">{itemConfig?.label || item.name}</span>
                      </div>
                      {item.value && (
                        <span className="font-mono font-medium tabular-nums text-foreground">
                          {item.value.toLocaleString()}
                        </span>
                      )}
                    </div>
                  </>
                )}
              </div>
            );
          })}
        </div>
      </div>
    );
  },
);
ChartTooltipContent.displayName = "ChartTooltip";

const ChartLegend = RechartsPrimitive.Legend;

const ChartLegendContent = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> &
    Pick<RechartsPrimitive.LegendProps, "payload" | "verticalAlign"> & {
      hideIcon?: boolean;
      nameKey?: string;
    }
>(({ className, hideIcon = false, payload, verticalAlign = "bottom", nameKey }, ref) => {
  const { config } = useChart();

  if (!payload?.length) {
    return null;
  }

  return (
    <div
      ref={ref}
      className={cn("flex items-center justify-center gap-4", verticalAlign === "top" ? "pb-3" : "pt-3", className)}
    >
      {payload.map((item) => {
        const key = `${nameKey || item.dataKey || "value"}`;
        const itemConfig = getPayloadConfigFromPayload(config, item, key);

        return (
          <div
            key={item.value}
            className={cn("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground")}
          >
            {itemConfig?.icon && !hideIcon ? (
              <itemConfig.icon />
            ) : (
              <div
                className="h-2 w-2 shrink-0 rounded-[2px]"
                style={{
                  backgroundColor: item.color,
                }}
              />
            )}
            {itemConfig?.label}
          </div>
        );
      })}
    </div>
  );
});
ChartLegendContent.displayName = "ChartLegend";

// Helper to extract item config from a payload.
function getPayloadConfigFromPayload(config: ChartConfig, payload: unknown, key: string) {
  if (typeof payload !== "object" || payload === null) {
    return undefined;
  }

  const payloadPayload =
    "payload" in payload && typeof payload.payload === "object" && payload.payload !== null
      ? payload.payload
      : undefined;

  let configLabelKey: string = key;

  if (key in payload && typeof payload[key as keyof typeof payload] === "string") {
    configLabelKey = payload[key as keyof typeof payload] as string;
  } else if (
    payloadPayload &&
    key in payloadPayload &&
    typeof payloadPayload[key as keyof typeof payloadPayload] === "string"
  ) {
    configLabelKey = payloadPayload[key as keyof typeof payloadPayload] as string;
  }

  return configLabelKey in config ? config[configLabelKey] : config[key as keyof typeof config];
}

export { ChartContainer, ChartTooltip, ChartTooltipContent, ChartLegend, ChartLegendContent, ChartStyle };

```

---

## frontend/src/components/ui/checkbox.tsx

```tsx
import * as React from "react";
import * as CheckboxPrimitive from "@radix-ui/react-checkbox";
import { Check } from "lucide-react";

import { cn } from "@/lib/utils";

const Checkbox = React.forwardRef<
  React.ElementRef<typeof CheckboxPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>
>(({ className, ...props }, ref) => (
  <CheckboxPrimitive.Root
    ref={ref}
    className={cn(
      "peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",
      className,
    )}
    {...props}
  >
    <CheckboxPrimitive.Indicator className={cn("flex items-center justify-center text-current")}>
      <Check className="h-4 w-4" />
    </CheckboxPrimitive.Indicator>
  </CheckboxPrimitive.Root>
));
Checkbox.displayName = CheckboxPrimitive.Root.displayName;

export { Checkbox };

```

---

## frontend/src/components/ui/collapsible.tsx

```tsx
import * as CollapsiblePrimitive from "@radix-ui/react-collapsible";

const Collapsible = CollapsiblePrimitive.Root;

const CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger;

const CollapsibleContent = CollapsiblePrimitive.CollapsibleContent;

export { Collapsible, CollapsibleTrigger, CollapsibleContent };

```

---

## frontend/src/components/ui/command.tsx

```tsx
import * as React from "react";
import { type DialogProps } from "@radix-ui/react-dialog";
import { Command as CommandPrimitive } from "cmdk";
import { Search } from "lucide-react";

import { cn } from "@/lib/utils";
import { Dialog, DialogContent } from "@/components/ui/dialog";

const Command = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive>
>(({ className, ...props }, ref) => (
  <CommandPrimitive
    ref={ref}
    className={cn(
      "flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",
      className,
    )}
    {...props}
  />
));
Command.displayName = CommandPrimitive.displayName;

interface CommandDialogProps extends DialogProps {}

const CommandDialog = ({ children, ...props }: CommandDialogProps) => {
  return (
    <Dialog {...props}>
      <DialogContent className="overflow-hidden p-0 shadow-lg">
        <Command className="[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5">
          {children}
        </Command>
      </DialogContent>
    </Dialog>
  );
};

const CommandInput = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Input>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>
>(({ className, ...props }, ref) => (
  <div className="flex items-center border-b px-3" cmdk-input-wrapper="">
    <Search className="mr-2 h-4 w-4 shrink-0 opacity-50" />
    <CommandPrimitive.Input
      ref={ref}
      className={cn(
        "flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",
        className,
      )}
      {...props}
    />
  </div>
));

CommandInput.displayName = CommandPrimitive.Input.displayName;

const CommandList = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.List>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.List
    ref={ref}
    className={cn("max-h-[300px] overflow-y-auto overflow-x-hidden", className)}
    {...props}
  />
));

CommandList.displayName = CommandPrimitive.List.displayName;

const CommandEmpty = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Empty>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>
>((props, ref) => <CommandPrimitive.Empty ref={ref} className="py-6 text-center text-sm" {...props} />);

CommandEmpty.displayName = CommandPrimitive.Empty.displayName;

const CommandGroup = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Group>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.Group
    ref={ref}
    className={cn(
      "overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",
      className,
    )}
    {...props}
  />
));

CommandGroup.displayName = CommandPrimitive.Group.displayName;

const CommandSeparator = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.Separator ref={ref} className={cn("-mx-1 h-px bg-border", className)} {...props} />
));
CommandSeparator.displayName = CommandPrimitive.Separator.displayName;

const CommandItem = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",
      className,
    )}
    {...props}
  />
));

CommandItem.displayName = CommandPrimitive.Item.displayName;

const CommandShortcut = ({ className, ...props }: React.HTMLAttributes<HTMLSpanElement>) => {
  return <span className={cn("ml-auto text-xs tracking-widest text-muted-foreground", className)} {...props} />;
};
CommandShortcut.displayName = "CommandShortcut";

export {
  Command,
  CommandDialog,
  CommandInput,
  CommandList,
  CommandEmpty,
  CommandGroup,
  CommandItem,
  CommandShortcut,
  CommandSeparator,
};

```

---

## frontend/src/components/ui/context-menu.tsx

```tsx
import * as React from "react";
import * as ContextMenuPrimitive from "@radix-ui/react-context-menu";
import { Check, ChevronRight, Circle } from "lucide-react";

import { cn } from "@/lib/utils";

const ContextMenu = ContextMenuPrimitive.Root;

const ContextMenuTrigger = ContextMenuPrimitive.Trigger;

const ContextMenuGroup = ContextMenuPrimitive.Group;

const ContextMenuPortal = ContextMenuPrimitive.Portal;

const ContextMenuSub = ContextMenuPrimitive.Sub;

const ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup;

const ContextMenuSubTrigger = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {
    inset?: boolean;
  }
>(({ className, inset, children, ...props }, ref) => (
  <ContextMenuPrimitive.SubTrigger
    ref={ref}
    className={cn(
      "flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent data-[state=open]:text-accent-foreground focus:bg-accent focus:text-accent-foreground",
      inset && "pl-8",
      className,
    )}
    {...props}
  >
    {children}
    <ChevronRight className="ml-auto h-4 w-4" />
  </ContextMenuPrimitive.SubTrigger>
));
ContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName;

const ContextMenuSubContent = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>
>(({ className, ...props }, ref) => (
  <ContextMenuPrimitive.SubContent
    ref={ref}
    className={cn(
      "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      className,
    )}
    {...props}
  />
));
ContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName;

const ContextMenuContent = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>
>(({ className, ...props }, ref) => (
  <ContextMenuPrimitive.Portal>
    <ContextMenuPrimitive.Content
      ref={ref}
      className={cn(
        "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
        className,
      )}
      {...props}
    />
  </ContextMenuPrimitive.Portal>
));
ContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName;

const ContextMenuItem = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {
    inset?: boolean;
  }
>(({ className, inset, ...props }, ref) => (
  <ContextMenuPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",
      inset && "pl-8",
      className,
    )}
    {...props}
  />
));
ContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName;

const ContextMenuCheckboxItem = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>
>(({ className, children, checked, ...props }, ref) => (
  <ContextMenuPrimitive.CheckboxItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",
      className,
    )}
    checked={checked}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <ContextMenuPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </ContextMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </ContextMenuPrimitive.CheckboxItem>
));
ContextMenuCheckboxItem.displayName = ContextMenuPrimitive.CheckboxItem.displayName;

const ContextMenuRadioItem = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>
>(({ className, children, ...props }, ref) => (
  <ContextMenuPrimitive.RadioItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",
      className,
    )}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <ContextMenuPrimitive.ItemIndicator>
        <Circle className="h-2 w-2 fill-current" />
      </ContextMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </ContextMenuPrimitive.RadioItem>
));
ContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName;

const ContextMenuLabel = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {
    inset?: boolean;
  }
>(({ className, inset, ...props }, ref) => (
  <ContextMenuPrimitive.Label
    ref={ref}
    className={cn("px-2 py-1.5 text-sm font-semibold text-foreground", inset && "pl-8", className)}
    {...props}
  />
));
ContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName;

const ContextMenuSeparator = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <ContextMenuPrimitive.Separator ref={ref} className={cn("-mx-1 my-1 h-px bg-border", className)} {...props} />
));
ContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName;

const ContextMenuShortcut = ({ className, ...props }: React.HTMLAttributes<HTMLSpanElement>) => {
  return <span className={cn("ml-auto text-xs tracking-widest text-muted-foreground", className)} {...props} />;
};
ContextMenuShortcut.displayName = "ContextMenuShortcut";

export {
  ContextMenu,
  ContextMenuTrigger,
  ContextMenuContent,
  ContextMenuItem,
  ContextMenuCheckboxItem,
  ContextMenuRadioItem,
  ContextMenuLabel,
  ContextMenuSeparator,
  ContextMenuShortcut,
  ContextMenuGroup,
  ContextMenuPortal,
  ContextMenuSub,
  ContextMenuSubContent,
  ContextMenuSubTrigger,
  ContextMenuRadioGroup,
};

```

---

## frontend/src/components/ui/dialog.tsx

```tsx
import * as React from "react";
import * as DialogPrimitive from "@radix-ui/react-dialog";
import { X } from "lucide-react";

import { cn } from "@/lib/utils";

const Dialog = DialogPrimitive.Root;

const DialogTrigger = DialogPrimitive.Trigger;

const DialogPortal = DialogPrimitive.Portal;

const DialogClose = DialogPrimitive.Close;

const DialogOverlay = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Overlay
    ref={ref}
    className={cn(
      "fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
      className,
    )}
    {...props}
  />
));
DialogOverlay.displayName = DialogPrimitive.Overlay.displayName;

const DialogContent = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>
>(({ className, children, ...props }, ref) => (
  <DialogPortal>
    <DialogOverlay />
    <DialogPrimitive.Content
      ref={ref}
      className={cn(
        "fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",
        className,
      )}
      {...props}
    >
      {children}
      <DialogPrimitive.Close className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none">
        <X className="h-4 w-4" />
        <span className="sr-only">Close</span>
      </DialogPrimitive.Close>
    </DialogPrimitive.Content>
  </DialogPortal>
));
DialogContent.displayName = DialogPrimitive.Content.displayName;

const DialogHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (
  <div className={cn("flex flex-col space-y-1.5 text-center sm:text-left", className)} {...props} />
);
DialogHeader.displayName = "DialogHeader";

const DialogFooter = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (
  <div className={cn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2", className)} {...props} />
);
DialogFooter.displayName = "DialogFooter";

const DialogTitle = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Title
    ref={ref}
    className={cn("text-lg font-semibold leading-none tracking-tight", className)}
    {...props}
  />
));
DialogTitle.displayName = DialogPrimitive.Title.displayName;

const DialogDescription = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Description ref={ref} className={cn("text-sm text-muted-foreground", className)} {...props} />
));
DialogDescription.displayName = DialogPrimitive.Description.displayName;

export {
  Dialog,
  DialogPortal,
  DialogOverlay,
  DialogClose,
  DialogTrigger,
  DialogContent,
  DialogHeader,
  DialogFooter,
  DialogTitle,
  DialogDescription,
};

```

---

## frontend/src/components/ui/drawer.tsx

```tsx
import * as React from "react";
import { Drawer as DrawerPrimitive } from "vaul";

import { cn } from "@/lib/utils";

const Drawer = ({ shouldScaleBackground = true, ...props }: React.ComponentProps<typeof DrawerPrimitive.Root>) => (
  <DrawerPrimitive.Root shouldScaleBackground={shouldScaleBackground} {...props} />
);
Drawer.displayName = "Drawer";

const DrawerTrigger = DrawerPrimitive.Trigger;

const DrawerPortal = DrawerPrimitive.Portal;

const DrawerClose = DrawerPrimitive.Close;

const DrawerOverlay = React.forwardRef<
  React.ElementRef<typeof DrawerPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <DrawerPrimitive.Overlay ref={ref} className={cn("fixed inset-0 z-50 bg-black/80", className)} {...props} />
));
DrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName;

const DrawerContent = React.forwardRef<
  React.ElementRef<typeof DrawerPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>
>(({ className, children, ...props }, ref) => (
  <DrawerPortal>
    <DrawerOverlay />
    <DrawerPrimitive.Content
      ref={ref}
      className={cn(
        "fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",
        className,
      )}
      {...props}
    >
      <div className="mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted" />
      {children}
    </DrawerPrimitive.Content>
  </DrawerPortal>
));
DrawerContent.displayName = "DrawerContent";

const DrawerHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (
  <div className={cn("grid gap-1.5 p-4 text-center sm:text-left", className)} {...props} />
);
DrawerHeader.displayName = "DrawerHeader";

const DrawerFooter = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (
  <div className={cn("mt-auto flex flex-col gap-2 p-4", className)} {...props} />
);
DrawerFooter.displayName = "DrawerFooter";

const DrawerTitle = React.forwardRef<
  React.ElementRef<typeof DrawerPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>
>(({ className, ...props }, ref) => (
  <DrawerPrimitive.Title
    ref={ref}
    className={cn("text-lg font-semibold leading-none tracking-tight", className)}
    {...props}
  />
));
DrawerTitle.displayName = DrawerPrimitive.Title.displayName;

const DrawerDescription = React.forwardRef<
  React.ElementRef<typeof DrawerPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>
>(({ className, ...props }, ref) => (
  <DrawerPrimitive.Description ref={ref} className={cn("text-sm text-muted-foreground", className)} {...props} />
));
DrawerDescription.displayName = DrawerPrimitive.Description.displayName;

export {
  Drawer,
  DrawerPortal,
  DrawerOverlay,
  DrawerTrigger,
  DrawerClose,
  DrawerContent,
  DrawerHeader,
  DrawerFooter,
  DrawerTitle,
  DrawerDescription,
};

```

---

## frontend/src/components/ui/dropdown-menu.tsx

```tsx
import * as React from "react";
import * as DropdownMenuPrimitive from "@radix-ui/react-dropdown-menu";
import { Check, ChevronRight, Circle } from "lucide-react";

import { cn } from "@/lib/utils";

const DropdownMenu = DropdownMenuPrimitive.Root;

const DropdownMenuTrigger = DropdownMenuPrimitive.Trigger;

const DropdownMenuGroup = DropdownMenuPrimitive.Group;

const DropdownMenuPortal = DropdownMenuPrimitive.Portal;

const DropdownMenuSub = DropdownMenuPrimitive.Sub;

const DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup;

const DropdownMenuSubTrigger = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {
    inset?: boolean;
  }
>(({ className, inset, children, ...props }, ref) => (
  <DropdownMenuPrimitive.SubTrigger
    ref={ref}
    className={cn(
      "flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",
      inset && "pl-8",
      className,
    )}
    {...props}
  >
    {children}
    <ChevronRight className="ml-auto h-4 w-4" />
  </DropdownMenuPrimitive.SubTrigger>
));
DropdownMenuSubTrigger.displayName = DropdownMenuPrimitive.SubTrigger.displayName;

const DropdownMenuSubContent = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>
>(({ className, ...props }, ref) => (
  <DropdownMenuPrimitive.SubContent
    ref={ref}
    className={cn(
      "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      className,
    )}
    {...props}
  />
));
DropdownMenuSubContent.displayName = DropdownMenuPrimitive.SubContent.displayName;

const DropdownMenuContent = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>
>(({ className, sideOffset = 4, ...props }, ref) => (
  <DropdownMenuPrimitive.Portal>
    <DropdownMenuPrimitive.Content
      ref={ref}
      sideOffset={sideOffset}
      className={cn(
        "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
        className,
      )}
      {...props}
    />
  </DropdownMenuPrimitive.Portal>
));
DropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName;

const DropdownMenuItem = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {
    inset?: boolean;
  }
>(({ className, inset, ...props }, ref) => (
  <DropdownMenuPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",
      inset && "pl-8",
      className,
    )}
    {...props}
  />
));
DropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName;

const DropdownMenuCheckboxItem = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>
>(({ className, children, checked, ...props }, ref) => (
  <DropdownMenuPrimitive.CheckboxItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",
      className,
    )}
    checked={checked}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <DropdownMenuPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </DropdownMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </DropdownMenuPrimitive.CheckboxItem>
));
DropdownMenuCheckboxItem.displayName = DropdownMenuPrimitive.CheckboxItem.displayName;

const DropdownMenuRadioItem = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>
>(({ className, children, ...props }, ref) => (
  <DropdownMenuPrimitive.RadioItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",
      className,
    )}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <DropdownMenuPrimitive.ItemIndicator>
        <Circle className="h-2 w-2 fill-current" />
      </DropdownMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </DropdownMenuPrimitive.RadioItem>
));
DropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName;

const DropdownMenuLabel = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {
    inset?: boolean;
  }
>(({ className, inset, ...props }, ref) => (
  <DropdownMenuPrimitive.Label
    ref={ref}
    className={cn("px-2 py-1.5 text-sm font-semibold", inset && "pl-8", className)}
    {...props}
  />
));
DropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName;

const DropdownMenuSeparator = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <DropdownMenuPrimitive.Separator ref={ref} className={cn("-mx-1 my-1 h-px bg-muted", className)} {...props} />
));
DropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName;

const DropdownMenuShortcut = ({ className, ...props }: React.HTMLAttributes<HTMLSpanElement>) => {
  return <span className={cn("ml-auto text-xs tracking-widest opacity-60", className)} {...props} />;
};
DropdownMenuShortcut.displayName = "DropdownMenuShortcut";

export {
  DropdownMenu,
  DropdownMenuTrigger,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuCheckboxItem,
  DropdownMenuRadioItem,
  DropdownMenuLabel,
  DropdownMenuSeparator,
  DropdownMenuShortcut,
  DropdownMenuGroup,
  DropdownMenuPortal,
  DropdownMenuSub,
  DropdownMenuSubContent,
  DropdownMenuSubTrigger,
  DropdownMenuRadioGroup,
};

```

---

## frontend/src/components/ui/form.tsx

```tsx
import * as React from "react";
import * as LabelPrimitive from "@radix-ui/react-label";
import { Slot } from "@radix-ui/react-slot";
import { Controller, ControllerProps, FieldPath, FieldValues, FormProvider, useFormContext } from "react-hook-form";

import { cn } from "@/lib/utils";
import { Label } from "@/components/ui/label";

const Form = FormProvider;

type FormFieldContextValue<
  TFieldValues extends FieldValues = FieldValues,
  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,
> = {
  name: TName;
};

const FormFieldContext = React.createContext<FormFieldContextValue>({} as FormFieldContextValue);

const FormField = <
  TFieldValues extends FieldValues = FieldValues,
  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,
>({
  ...props
}: ControllerProps<TFieldValues, TName>) => {
  return (
    <FormFieldContext.Provider value={{ name: props.name }}>
      <Controller {...props} />
    </FormFieldContext.Provider>
  );
};

const useFormField = () => {
  const fieldContext = React.useContext(FormFieldContext);
  const itemContext = React.useContext(FormItemContext);
  const { getFieldState, formState } = useFormContext();

  const fieldState = getFieldState(fieldContext.name, formState);

  if (!fieldContext) {
    throw new Error("useFormField should be used within <FormField>");
  }

  const { id } = itemContext;

  return {
    id,
    name: fieldContext.name,
    formItemId: `${id}-form-item`,
    formDescriptionId: `${id}-form-item-description`,
    formMessageId: `${id}-form-item-message`,
    ...fieldState,
  };
};

type FormItemContextValue = {
  id: string;
};

const FormItemContext = React.createContext<FormItemContextValue>({} as FormItemContextValue);

const FormItem = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(
  ({ className, ...props }, ref) => {
    const id = React.useId();

    return (
      <FormItemContext.Provider value={{ id }}>
        <div ref={ref} className={cn("space-y-2", className)} {...props} />
      </FormItemContext.Provider>
    );
  },
);
FormItem.displayName = "FormItem";

const FormLabel = React.forwardRef<
  React.ElementRef<typeof LabelPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>
>(({ className, ...props }, ref) => {
  const { error, formItemId } = useFormField();

  return <Label ref={ref} className={cn(error && "text-destructive", className)} htmlFor={formItemId} {...props} />;
});
FormLabel.displayName = "FormLabel";

const FormControl = React.forwardRef<React.ElementRef<typeof Slot>, React.ComponentPropsWithoutRef<typeof Slot>>(
  ({ ...props }, ref) => {
    const { error, formItemId, formDescriptionId, formMessageId } = useFormField();

    return (
      <Slot
        ref={ref}
        id={formItemId}
        aria-describedby={!error ? `${formDescriptionId}` : `${formDescriptionId} ${formMessageId}`}
        aria-invalid={!!error}
        {...props}
      />
    );
  },
);
FormControl.displayName = "FormControl";

const FormDescription = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(
  ({ className, ...props }, ref) => {
    const { formDescriptionId } = useFormField();

    return <p ref={ref} id={formDescriptionId} className={cn("text-sm text-muted-foreground", className)} {...props} />;
  },
);
FormDescription.displayName = "FormDescription";

const FormMessage = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(
  ({ className, children, ...props }, ref) => {
    const { error, formMessageId } = useFormField();
    const body = error ? String(error?.message) : children;

    if (!body) {
      return null;
    }

    return (
      <p ref={ref} id={formMessageId} className={cn("text-sm font-medium text-destructive", className)} {...props}>
        {body}
      </p>
    );
  },
);
FormMessage.displayName = "FormMessage";

export { useFormField, Form, FormItem, FormLabel, FormControl, FormDescription, FormMessage, FormField };

```

---

## frontend/src/components/ui/hover-card.tsx

```tsx
import * as React from "react";
import * as HoverCardPrimitive from "@radix-ui/react-hover-card";

import { cn } from "@/lib/utils";

const HoverCard = HoverCardPrimitive.Root;

const HoverCardTrigger = HoverCardPrimitive.Trigger;

const HoverCardContent = React.forwardRef<
  React.ElementRef<typeof HoverCardPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>
>(({ className, align = "center", sideOffset = 4, ...props }, ref) => (
  <HoverCardPrimitive.Content
    ref={ref}
    align={align}
    sideOffset={sideOffset}
    className={cn(
      "z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      className,
    )}
    {...props}
  />
));
HoverCardContent.displayName = HoverCardPrimitive.Content.displayName;

export { HoverCard, HoverCardTrigger, HoverCardContent };

```

---

## frontend/src/components/ui/input-otp.tsx

```tsx
import * as React from "react";
import { OTPInput, OTPInputContext } from "input-otp";
import { Dot } from "lucide-react";

import { cn } from "@/lib/utils";

const InputOTP = React.forwardRef<React.ElementRef<typeof OTPInput>, React.ComponentPropsWithoutRef<typeof OTPInput>>(
  ({ className, containerClassName, ...props }, ref) => (
    <OTPInput
      ref={ref}
      containerClassName={cn("flex items-center gap-2 has-[:disabled]:opacity-50", containerClassName)}
      className={cn("disabled:cursor-not-allowed", className)}
      {...props}
    />
  ),
);
InputOTP.displayName = "InputOTP";

const InputOTPGroup = React.forwardRef<React.ElementRef<"div">, React.ComponentPropsWithoutRef<"div">>(
  ({ className, ...props }, ref) => <div ref={ref} className={cn("flex items-center", className)} {...props} />,
);
InputOTPGroup.displayName = "InputOTPGroup";

const InputOTPSlot = React.forwardRef<
  React.ElementRef<"div">,
  React.ComponentPropsWithoutRef<"div"> & { index: number }
>(({ index, className, ...props }, ref) => {
  const inputOTPContext = React.useContext(OTPInputContext);
  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index];

  return (
    <div
      ref={ref}
      className={cn(
        "relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",
        isActive && "z-10 ring-2 ring-ring ring-offset-background",
        className,
      )}
      {...props}
    >
      {char}
      {hasFakeCaret && (
        <div className="pointer-events-none absolute inset-0 flex items-center justify-center">
          <div className="animate-caret-blink h-4 w-px bg-foreground duration-1000" />
        </div>
      )}
    </div>
  );
});
InputOTPSlot.displayName = "InputOTPSlot";

const InputOTPSeparator = React.forwardRef<React.ElementRef<"div">, React.ComponentPropsWithoutRef<"div">>(
  ({ ...props }, ref) => (
    <div ref={ref} role="separator" {...props}>
      <Dot />
    </div>
  ),
);
InputOTPSeparator.displayName = "InputOTPSeparator";

export { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator };

```

---

## frontend/src/components/ui/input.tsx

```tsx
import * as React from "react";

import { cn } from "@/lib/utils";

const Input = React.forwardRef<HTMLInputElement, React.ComponentProps<"input">>(
  ({ className, type, ...props }, ref) => {
    return (
      <input
        type={type}
        className={cn(
          "flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
          className,
        )}
        ref={ref}
        {...props}
      />
    );
  },
);
Input.displayName = "Input";

export { Input };

```

---

## frontend/src/components/ui/label.tsx

```tsx
import * as React from "react";
import * as LabelPrimitive from "@radix-ui/react-label";
import { cva, type VariantProps } from "class-variance-authority";

import { cn } from "@/lib/utils";

const labelVariants = cva("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70");

const Label = React.forwardRef<
  React.ElementRef<typeof LabelPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> & VariantProps<typeof labelVariants>
>(({ className, ...props }, ref) => (
  <LabelPrimitive.Root ref={ref} className={cn(labelVariants(), className)} {...props} />
));
Label.displayName = LabelPrimitive.Root.displayName;

export { Label };

```

---

## frontend/src/components/ui/menubar.tsx

```tsx
import * as React from "react";
import * as MenubarPrimitive from "@radix-ui/react-menubar";
import { Check, ChevronRight, Circle } from "lucide-react";

import { cn } from "@/lib/utils";

const MenubarMenu = MenubarPrimitive.Menu;

const MenubarGroup = MenubarPrimitive.Group;

const MenubarPortal = MenubarPrimitive.Portal;

const MenubarSub = MenubarPrimitive.Sub;

const MenubarRadioGroup = MenubarPrimitive.RadioGroup;

const Menubar = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>
>(({ className, ...props }, ref) => (
  <MenubarPrimitive.Root
    ref={ref}
    className={cn("flex h-10 items-center space-x-1 rounded-md border bg-background p-1", className)}
    {...props}
  />
));
Menubar.displayName = MenubarPrimitive.Root.displayName;

const MenubarTrigger = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>
>(({ className, ...props }, ref) => (
  <MenubarPrimitive.Trigger
    ref={ref}
    className={cn(
      "flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none data-[state=open]:bg-accent data-[state=open]:text-accent-foreground focus:bg-accent focus:text-accent-foreground",
      className,
    )}
    {...props}
  />
));
MenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName;

const MenubarSubTrigger = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {
    inset?: boolean;
  }
>(({ className, inset, children, ...props }, ref) => (
  <MenubarPrimitive.SubTrigger
    ref={ref}
    className={cn(
      "flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent data-[state=open]:text-accent-foreground focus:bg-accent focus:text-accent-foreground",
      inset && "pl-8",
      className,
    )}
    {...props}
  >
    {children}
    <ChevronRight className="ml-auto h-4 w-4" />
  </MenubarPrimitive.SubTrigger>
));
MenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName;

const MenubarSubContent = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.SubContent>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>
>(({ className, ...props }, ref) => (
  <MenubarPrimitive.SubContent
    ref={ref}
    className={cn(
      "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      className,
    )}
    {...props}
  />
));
MenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName;

const MenubarContent = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>
>(({ className, align = "start", alignOffset = -4, sideOffset = 8, ...props }, ref) => (
  <MenubarPrimitive.Portal>
    <MenubarPrimitive.Content
      ref={ref}
      align={align}
      alignOffset={alignOffset}
      sideOffset={sideOffset}
      className={cn(
        "z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
        className,
      )}
      {...props}
    />
  </MenubarPrimitive.Portal>
));
MenubarContent.displayName = MenubarPrimitive.Content.displayName;

const MenubarItem = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {
    inset?: boolean;
  }
>(({ className, inset, ...props }, ref) => (
  <MenubarPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",
      inset && "pl-8",
      className,
    )}
    {...props}
  />
));
MenubarItem.displayName = MenubarPrimitive.Item.displayName;

const MenubarCheckboxItem = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>
>(({ className, children, checked, ...props }, ref) => (
  <MenubarPrimitive.CheckboxItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",
      className,
    )}
    checked={checked}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <MenubarPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </MenubarPrimitive.ItemIndicator>
    </span>
    {children}
  </MenubarPrimitive.CheckboxItem>
));
MenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName;

const MenubarRadioItem = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.RadioItem>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>
>(({ className, children, ...props }, ref) => (
  <MenubarPrimitive.RadioItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",
      className,
    )}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <MenubarPrimitive.ItemIndicator>
        <Circle className="h-2 w-2 fill-current" />
      </MenubarPrimitive.ItemIndicator>
    </span>
    {children}
  </MenubarPrimitive.RadioItem>
));
MenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName;

const MenubarLabel = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {
    inset?: boolean;
  }
>(({ className, inset, ...props }, ref) => (
  <MenubarPrimitive.Label
    ref={ref}
    className={cn("px-2 py-1.5 text-sm font-semibold", inset && "pl-8", className)}
    {...props}
  />
));
MenubarLabel.displayName = MenubarPrimitive.Label.displayName;

const MenubarSeparator = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <MenubarPrimitive.Separator ref={ref} className={cn("-mx-1 my-1 h-px bg-muted", className)} {...props} />
));
MenubarSeparator.displayName = MenubarPrimitive.Separator.displayName;

const MenubarShortcut = ({ className, ...props }: React.HTMLAttributes<HTMLSpanElement>) => {
  return <span className={cn("ml-auto text-xs tracking-widest text-muted-foreground", className)} {...props} />;
};
MenubarShortcut.displayname = "MenubarShortcut";

export {
  Menubar,
  MenubarMenu,
  MenubarTrigger,
  MenubarContent,
  MenubarItem,
  MenubarSeparator,
  MenubarLabel,
  MenubarCheckboxItem,
  MenubarRadioGroup,
  MenubarRadioItem,
  MenubarPortal,
  MenubarSubContent,
  MenubarSubTrigger,
  MenubarGroup,
  MenubarSub,
  MenubarShortcut,
};

```

---

## frontend/src/components/ui/navigation-menu.tsx

```tsx
import * as React from "react";
import * as NavigationMenuPrimitive from "@radix-ui/react-navigation-menu";
import { cva } from "class-variance-authority";
import { ChevronDown } from "lucide-react";

import { cn } from "@/lib/utils";

const NavigationMenu = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>
>(({ className, children, ...props }, ref) => (
  <NavigationMenuPrimitive.Root
    ref={ref}
    className={cn("relative z-10 flex max-w-max flex-1 items-center justify-center", className)}
    {...props}
  >
    {children}
    <NavigationMenuViewport />
  </NavigationMenuPrimitive.Root>
));
NavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName;

const NavigationMenuList = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.List>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>
>(({ className, ...props }, ref) => (
  <NavigationMenuPrimitive.List
    ref={ref}
    className={cn("group flex flex-1 list-none items-center justify-center space-x-1", className)}
    {...props}
  />
));
NavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName;

const NavigationMenuItem = NavigationMenuPrimitive.Item;

const navigationMenuTriggerStyle = cva(
  "group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50",
);

const NavigationMenuTrigger = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>
>(({ className, children, ...props }, ref) => (
  <NavigationMenuPrimitive.Trigger
    ref={ref}
    className={cn(navigationMenuTriggerStyle(), "group", className)}
    {...props}
  >
    {children}{" "}
    <ChevronDown
      className="relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180"
      aria-hidden="true"
    />
  </NavigationMenuPrimitive.Trigger>
));
NavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName;

const NavigationMenuContent = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>
>(({ className, ...props }, ref) => (
  <NavigationMenuPrimitive.Content
    ref={ref}
    className={cn(
      "left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto",
      className,
    )}
    {...props}
  />
));
NavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName;

const NavigationMenuLink = NavigationMenuPrimitive.Link;

const NavigationMenuViewport = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>
>(({ className, ...props }, ref) => (
  <div className={cn("absolute left-0 top-full flex justify-center")}>
    <NavigationMenuPrimitive.Viewport
      className={cn(
        "origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]",
        className,
      )}
      ref={ref}
      {...props}
    />
  </div>
));
NavigationMenuViewport.displayName = NavigationMenuPrimitive.Viewport.displayName;

const NavigationMenuIndicator = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>
>(({ className, ...props }, ref) => (
  <NavigationMenuPrimitive.Indicator
    ref={ref}
    className={cn(
      "top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",
      className,
    )}
    {...props}
  >
    <div className="relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md" />
  </NavigationMenuPrimitive.Indicator>
));
NavigationMenuIndicator.displayName = NavigationMenuPrimitive.Indicator.displayName;

export {
  navigationMenuTriggerStyle,
  NavigationMenu,
  NavigationMenuList,
  NavigationMenuItem,
  NavigationMenuContent,
  NavigationMenuTrigger,
  NavigationMenuLink,
  NavigationMenuIndicator,
  NavigationMenuViewport,
};

```

---

## frontend/src/components/ui/pagination.tsx

```tsx
import * as React from "react";
import { ChevronLeft, ChevronRight, MoreHorizontal } from "lucide-react";

import { cn } from "@/lib/utils";
import { ButtonProps, buttonVariants } from "@/components/ui/button";

const Pagination = ({ className, ...props }: React.ComponentProps<"nav">) => (
  <nav
    role="navigation"
    aria-label="pagination"
    className={cn("mx-auto flex w-full justify-center", className)}
    {...props}
  />
);
Pagination.displayName = "Pagination";

const PaginationContent = React.forwardRef<HTMLUListElement, React.ComponentProps<"ul">>(
  ({ className, ...props }, ref) => (
    <ul ref={ref} className={cn("flex flex-row items-center gap-1", className)} {...props} />
  ),
);
PaginationContent.displayName = "PaginationContent";

const PaginationItem = React.forwardRef<HTMLLIElement, React.ComponentProps<"li">>(({ className, ...props }, ref) => (
  <li ref={ref} className={cn("", className)} {...props} />
));
PaginationItem.displayName = "PaginationItem";

type PaginationLinkProps = {
  isActive?: boolean;
} & Pick<ButtonProps, "size"> &
  React.ComponentProps<"a">;

const PaginationLink = ({ className, isActive, size = "icon", ...props }: PaginationLinkProps) => (
  <a
    aria-current={isActive ? "page" : undefined}
    className={cn(
      buttonVariants({
        variant: isActive ? "outline" : "ghost",
        size,
      }),
      className,
    )}
    {...props}
  />
);
PaginationLink.displayName = "PaginationLink";

const PaginationPrevious = ({ className, ...props }: React.ComponentProps<typeof PaginationLink>) => (
  <PaginationLink aria-label="Go to previous page" size="default" className={cn("gap-1 pl-2.5", className)} {...props}>
    <ChevronLeft className="h-4 w-4" />
    <span>Previous</span>
  </PaginationLink>
);
PaginationPrevious.displayName = "PaginationPrevious";

const PaginationNext = ({ className, ...props }: React.ComponentProps<typeof PaginationLink>) => (
  <PaginationLink aria-label="Go to next page" size="default" className={cn("gap-1 pr-2.5", className)} {...props}>
    <span>Next</span>
    <ChevronRight className="h-4 w-4" />
  </PaginationLink>
);
PaginationNext.displayName = "PaginationNext";

const PaginationEllipsis = ({ className, ...props }: React.ComponentProps<"span">) => (
  <span aria-hidden className={cn("flex h-9 w-9 items-center justify-center", className)} {...props}>
    <MoreHorizontal className="h-4 w-4" />
    <span className="sr-only">More pages</span>
  </span>
);
PaginationEllipsis.displayName = "PaginationEllipsis";

export {
  Pagination,
  PaginationContent,
  PaginationEllipsis,
  PaginationItem,
  PaginationLink,
  PaginationNext,
  PaginationPrevious,
};

```

---

## frontend/src/components/ui/popover.tsx

```tsx
import * as React from "react";
import * as PopoverPrimitive from "@radix-ui/react-popover";

import { cn } from "@/lib/utils";

const Popover = PopoverPrimitive.Root;

const PopoverTrigger = PopoverPrimitive.Trigger;

const PopoverContent = React.forwardRef<
  React.ElementRef<typeof PopoverPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>
>(({ className, align = "center", sideOffset = 4, ...props }, ref) => (
  <PopoverPrimitive.Portal>
    <PopoverPrimitive.Content
      ref={ref}
      align={align}
      sideOffset={sideOffset}
      className={cn(
        "z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
        className,
      )}
      {...props}
    />
  </PopoverPrimitive.Portal>
));
PopoverContent.displayName = PopoverPrimitive.Content.displayName;

export { Popover, PopoverTrigger, PopoverContent };

```

---

## frontend/src/components/ui/progress.tsx

```tsx
import * as React from "react";
import * as ProgressPrimitive from "@radix-ui/react-progress";

import { cn } from "@/lib/utils";

const Progress = React.forwardRef<
  React.ElementRef<typeof ProgressPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>
>(({ className, value, ...props }, ref) => (
  <ProgressPrimitive.Root
    ref={ref}
    className={cn("relative h-4 w-full overflow-hidden rounded-full bg-secondary", className)}
    {...props}
  >
    <ProgressPrimitive.Indicator
      className="h-full w-full flex-1 bg-primary transition-all"
      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}
    />
  </ProgressPrimitive.Root>
));
Progress.displayName = ProgressPrimitive.Root.displayName;

export { Progress };

```

---

## frontend/src/components/ui/radio-group.tsx

```tsx
import * as React from "react";
import * as RadioGroupPrimitive from "@radix-ui/react-radio-group";
import { Circle } from "lucide-react";

import { cn } from "@/lib/utils";

const RadioGroup = React.forwardRef<
  React.ElementRef<typeof RadioGroupPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>
>(({ className, ...props }, ref) => {
  return <RadioGroupPrimitive.Root className={cn("grid gap-2", className)} {...props} ref={ref} />;
});
RadioGroup.displayName = RadioGroupPrimitive.Root.displayName;

const RadioGroupItem = React.forwardRef<
  React.ElementRef<typeof RadioGroupPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>
>(({ className, ...props }, ref) => {
  return (
    <RadioGroupPrimitive.Item
      ref={ref}
      className={cn(
        "aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",
        className,
      )}
      {...props}
    >
      <RadioGroupPrimitive.Indicator className="flex items-center justify-center">
        <Circle className="h-2.5 w-2.5 fill-current text-current" />
      </RadioGroupPrimitive.Indicator>
    </RadioGroupPrimitive.Item>
  );
});
RadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName;

export { RadioGroup, RadioGroupItem };

```

---

## frontend/src/components/ui/resizable.tsx

```tsx
import { GripVertical } from "lucide-react";
import * as ResizablePrimitive from "react-resizable-panels";

import { cn } from "@/lib/utils";

const ResizablePanelGroup = ({ className, ...props }: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (
  <ResizablePrimitive.PanelGroup
    className={cn("flex h-full w-full data-[panel-group-direction=vertical]:flex-col", className)}
    {...props}
  />
);

const ResizablePanel = ResizablePrimitive.Panel;

const ResizableHandle = ({
  withHandle,
  className,
  ...props
}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {
  withHandle?: boolean;
}) => (
  <ResizablePrimitive.PanelResizeHandle
    className={cn(
      "relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 [&[data-panel-group-direction=vertical]>div]:rotate-90",
      className,
    )}
    {...props}
  >
    {withHandle && (
      <div className="z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border">
        <GripVertical className="h-2.5 w-2.5" />
      </div>
    )}
  </ResizablePrimitive.PanelResizeHandle>
);

export { ResizablePanelGroup, ResizablePanel, ResizableHandle };

```

---

## frontend/src/components/ui/scroll-area.tsx

```tsx
import * as React from "react";
import * as ScrollAreaPrimitive from "@radix-ui/react-scroll-area";

import { cn } from "@/lib/utils";

const ScrollArea = React.forwardRef<
  React.ElementRef<typeof ScrollAreaPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>
>(({ className, children, ...props }, ref) => (
  <ScrollAreaPrimitive.Root ref={ref} className={cn("relative overflow-hidden", className)} {...props}>
    <ScrollAreaPrimitive.Viewport className="h-full w-full rounded-[inherit]">{children}</ScrollAreaPrimitive.Viewport>
    <ScrollBar />
    <ScrollAreaPrimitive.Corner />
  </ScrollAreaPrimitive.Root>
));
ScrollArea.displayName = ScrollAreaPrimitive.Root.displayName;

const ScrollBar = React.forwardRef<
  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,
  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>
>(({ className, orientation = "vertical", ...props }, ref) => (
  <ScrollAreaPrimitive.ScrollAreaScrollbar
    ref={ref}
    orientation={orientation}
    className={cn(
      "flex touch-none select-none transition-colors",
      orientation === "vertical" && "h-full w-2.5 border-l border-l-transparent p-[1px]",
      orientation === "horizontal" && "h-2.5 flex-col border-t border-t-transparent p-[1px]",
      className,
    )}
    {...props}
  >
    <ScrollAreaPrimitive.ScrollAreaThumb className="relative flex-1 rounded-full bg-border" />
  </ScrollAreaPrimitive.ScrollAreaScrollbar>
));
ScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName;

export { ScrollArea, ScrollBar };

```

---

## frontend/src/components/ui/select.tsx

```tsx
import * as React from "react";
import * as SelectPrimitive from "@radix-ui/react-select";
import { Check, ChevronDown, ChevronUp } from "lucide-react";

import { cn } from "@/lib/utils";

const Select = SelectPrimitive.Root;

const SelectGroup = SelectPrimitive.Group;

const SelectValue = SelectPrimitive.Value;

const SelectTrigger = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>
>(({ className, children, ...props }, ref) => (
  <SelectPrimitive.Trigger
    ref={ref}
    className={cn(
      "flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",
      className,
    )}
    {...props}
  >
    {children}
    <SelectPrimitive.Icon asChild>
      <ChevronDown className="h-4 w-4 opacity-50" />
    </SelectPrimitive.Icon>
  </SelectPrimitive.Trigger>
));
SelectTrigger.displayName = SelectPrimitive.Trigger.displayName;

const SelectScrollUpButton = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.ScrollUpButton
    ref={ref}
    className={cn("flex cursor-default items-center justify-center py-1", className)}
    {...props}
  >
    <ChevronUp className="h-4 w-4" />
  </SelectPrimitive.ScrollUpButton>
));
SelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName;

const SelectScrollDownButton = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.ScrollDownButton
    ref={ref}
    className={cn("flex cursor-default items-center justify-center py-1", className)}
    {...props}
  >
    <ChevronDown className="h-4 w-4" />
  </SelectPrimitive.ScrollDownButton>
));
SelectScrollDownButton.displayName = SelectPrimitive.ScrollDownButton.displayName;

const SelectContent = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>
>(({ className, children, position = "popper", ...props }, ref) => (
  <SelectPrimitive.Portal>
    <SelectPrimitive.Content
      ref={ref}
      className={cn(
        "relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
        position === "popper" &&
          "data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",
        className,
      )}
      position={position}
      {...props}
    >
      <SelectScrollUpButton />
      <SelectPrimitive.Viewport
        className={cn(
          "p-1",
          position === "popper" &&
            "h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]",
        )}
      >
        {children}
      </SelectPrimitive.Viewport>
      <SelectScrollDownButton />
    </SelectPrimitive.Content>
  </SelectPrimitive.Portal>
));
SelectContent.displayName = SelectPrimitive.Content.displayName;

const SelectLabel = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.Label ref={ref} className={cn("py-1.5 pl-8 pr-2 text-sm font-semibold", className)} {...props} />
));
SelectLabel.displayName = SelectPrimitive.Label.displayName;

const SelectItem = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>
>(({ className, children, ...props }, ref) => (
  <SelectPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",
      className,
    )}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <SelectPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </SelectPrimitive.ItemIndicator>
    </span>

    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>
  </SelectPrimitive.Item>
));
SelectItem.displayName = SelectPrimitive.Item.displayName;

const SelectSeparator = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.Separator ref={ref} className={cn("-mx-1 my-1 h-px bg-muted", className)} {...props} />
));
SelectSeparator.displayName = SelectPrimitive.Separator.displayName;

export {
  Select,
  SelectGroup,
  SelectValue,
  SelectTrigger,
  SelectContent,
  SelectLabel,
  SelectItem,
  SelectSeparator,
  SelectScrollUpButton,
  SelectScrollDownButton,
};

```

---

## frontend/src/components/ui/separator.tsx

```tsx
import * as React from "react";
import * as SeparatorPrimitive from "@radix-ui/react-separator";

import { cn } from "@/lib/utils";

const Separator = React.forwardRef<
  React.ElementRef<typeof SeparatorPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>
>(({ className, orientation = "horizontal", decorative = true, ...props }, ref) => (
  <SeparatorPrimitive.Root
    ref={ref}
    decorative={decorative}
    orientation={orientation}
    className={cn("shrink-0 bg-border", orientation === "horizontal" ? "h-[1px] w-full" : "h-full w-[1px]", className)}
    {...props}
  />
));
Separator.displayName = SeparatorPrimitive.Root.displayName;

export { Separator };

```

---

## frontend/src/components/ui/sheet.tsx

```tsx
import * as SheetPrimitive from "@radix-ui/react-dialog";
import { cva, type VariantProps } from "class-variance-authority";
import { X } from "lucide-react";
import * as React from "react";

import { cn } from "@/lib/utils";

const Sheet = SheetPrimitive.Root;

const SheetTrigger = SheetPrimitive.Trigger;

const SheetClose = SheetPrimitive.Close;

const SheetPortal = SheetPrimitive.Portal;

const SheetOverlay = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <SheetPrimitive.Overlay
    className={cn(
      "fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
      className,
    )}
    {...props}
    ref={ref}
  />
));
SheetOverlay.displayName = SheetPrimitive.Overlay.displayName;

const sheetVariants = cva(
  "fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",
  {
    variants: {
      side: {
        top: "inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",
        bottom:
          "inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",
        left: "inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",
        right:
          "inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm",
      },
    },
    defaultVariants: {
      side: "right",
    },
  },
);

interface SheetContentProps
  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,
    VariantProps<typeof sheetVariants> {}

const SheetContent = React.forwardRef<React.ElementRef<typeof SheetPrimitive.Content>, SheetContentProps>(
  ({ side = "right", className, children, ...props }, ref) => (
    <SheetPortal>
      <SheetOverlay />
      <SheetPrimitive.Content ref={ref} className={cn(sheetVariants({ side }), className)} {...props}>
        {children}
        <SheetPrimitive.Close className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none">
          <X className="h-4 w-4" />
          <span className="sr-only">Close</span>
        </SheetPrimitive.Close>
      </SheetPrimitive.Content>
    </SheetPortal>
  ),
);
SheetContent.displayName = SheetPrimitive.Content.displayName;

const SheetHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (
  <div className={cn("flex flex-col space-y-2 text-center sm:text-left", className)} {...props} />
);
SheetHeader.displayName = "SheetHeader";

const SheetFooter = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (
  <div className={cn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2", className)} {...props} />
);
SheetFooter.displayName = "SheetFooter";

const SheetTitle = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>
>(({ className, ...props }, ref) => (
  <SheetPrimitive.Title ref={ref} className={cn("text-lg font-semibold text-foreground", className)} {...props} />
));
SheetTitle.displayName = SheetPrimitive.Title.displayName;

const SheetDescription = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>
>(({ className, ...props }, ref) => (
  <SheetPrimitive.Description ref={ref} className={cn("text-sm text-muted-foreground", className)} {...props} />
));
SheetDescription.displayName = SheetPrimitive.Description.displayName;

export {
  Sheet,
  SheetClose,
  SheetContent,
  SheetDescription,
  SheetFooter,
  SheetHeader,
  SheetOverlay,
  SheetPortal,
  SheetTitle,
  SheetTrigger,
};

```

---

## frontend/src/components/ui/sidebar.tsx

```tsx
import * as React from "react";
import { Slot } from "@radix-ui/react-slot";
import { VariantProps, cva } from "class-variance-authority";
import { PanelLeft } from "lucide-react";

import { useIsMobile } from "@/hooks/use-mobile";
import { cn } from "@/lib/utils";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Separator } from "@/components/ui/separator";
import { Sheet, SheetContent } from "@/components/ui/sheet";
import { Skeleton } from "@/components/ui/skeleton";
import { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from "@/components/ui/tooltip";

const SIDEBAR_COOKIE_NAME = "sidebar:state";
const SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7;
const SIDEBAR_WIDTH = "16rem";
const SIDEBAR_WIDTH_MOBILE = "18rem";
const SIDEBAR_WIDTH_ICON = "3rem";
const SIDEBAR_KEYBOARD_SHORTCUT = "b";

type SidebarContext = {
  state: "expanded" | "collapsed";
  open: boolean;
  setOpen: (open: boolean) => void;
  openMobile: boolean;
  setOpenMobile: (open: boolean) => void;
  isMobile: boolean;
  toggleSidebar: () => void;
};

const SidebarContext = React.createContext<SidebarContext | null>(null);

function useSidebar() {
  const context = React.useContext(SidebarContext);
  if (!context) {
    throw new Error("useSidebar must be used within a SidebarProvider.");
  }

  return context;
}

const SidebarProvider = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> & {
    defaultOpen?: boolean;
    open?: boolean;
    onOpenChange?: (open: boolean) => void;
  }
>(({ defaultOpen = true, open: openProp, onOpenChange: setOpenProp, className, style, children, ...props }, ref) => {
  const isMobile = useIsMobile();
  const [openMobile, setOpenMobile] = React.useState(false);

  // This is the internal state of the sidebar.
  // We use openProp and setOpenProp for control from outside the component.
  const [_open, _setOpen] = React.useState(defaultOpen);
  const open = openProp ?? _open;
  const setOpen = React.useCallback(
    (value: boolean | ((value: boolean) => boolean)) => {
      const openState = typeof value === "function" ? value(open) : value;
      if (setOpenProp) {
        setOpenProp(openState);
      } else {
        _setOpen(openState);
      }

      // This sets the cookie to keep the sidebar state.
      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`;
    },
    [setOpenProp, open],
  );

  // Helper to toggle the sidebar.
  const toggleSidebar = React.useCallback(() => {
    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open);
  }, [isMobile, setOpen, setOpenMobile]);

  // Adds a keyboard shortcut to toggle the sidebar.
  React.useEffect(() => {
    const handleKeyDown = (event: KeyboardEvent) => {
      if (event.key === SIDEBAR_KEYBOARD_SHORTCUT && (event.metaKey || event.ctrlKey)) {
        event.preventDefault();
        toggleSidebar();
      }
    };

    window.addEventListener("keydown", handleKeyDown);
    return () => window.removeEventListener("keydown", handleKeyDown);
  }, [toggleSidebar]);

  // We add a state so that we can do data-state="expanded" or "collapsed".
  // This makes it easier to style the sidebar with Tailwind classes.
  const state = open ? "expanded" : "collapsed";

  const contextValue = React.useMemo<SidebarContext>(
    () => ({
      state,
      open,
      setOpen,
      isMobile,
      openMobile,
      setOpenMobile,
      toggleSidebar,
    }),
    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar],
  );

  return (
    <SidebarContext.Provider value={contextValue}>
      <TooltipProvider delayDuration={0}>
        <div
          style={
            {
              "--sidebar-width": SIDEBAR_WIDTH,
              "--sidebar-width-icon": SIDEBAR_WIDTH_ICON,
              ...style,
            } as React.CSSProperties
          }
          className={cn("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar", className)}
          ref={ref}
          {...props}
        >
          {children}
        </div>
      </TooltipProvider>
    </SidebarContext.Provider>
  );
});
SidebarProvider.displayName = "SidebarProvider";

const Sidebar = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> & {
    side?: "left" | "right";
    variant?: "sidebar" | "floating" | "inset";
    collapsible?: "offcanvas" | "icon" | "none";
  }
>(({ side = "left", variant = "sidebar", collapsible = "offcanvas", className, children, ...props }, ref) => {
  const { isMobile, state, openMobile, setOpenMobile } = useSidebar();

  if (collapsible === "none") {
    return (
      <div
        className={cn("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground", className)}
        ref={ref}
        {...props}
      >
        {children}
      </div>
    );
  }

  if (isMobile) {
    return (
      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>
        <SheetContent
          data-sidebar="sidebar"
          data-mobile="true"
          className="w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden"
          style={
            {
              "--sidebar-width": SIDEBAR_WIDTH_MOBILE,
            } as React.CSSProperties
          }
          side={side}
        >
          <div className="flex h-full w-full flex-col">{children}</div>
        </SheetContent>
      </Sheet>
    );
  }

  return (
    <div
      ref={ref}
      className="group peer hidden text-sidebar-foreground md:block"
      data-state={state}
      data-collapsible={state === "collapsed" ? collapsible : ""}
      data-variant={variant}
      data-side={side}
    >
      {/* This is what handles the sidebar gap on desktop */}
      <div
        className={cn(
          "relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear",
          "group-data-[collapsible=offcanvas]:w-0",
          "group-data-[side=right]:rotate-180",
          variant === "floating" || variant === "inset"
            ? "group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]"
            : "group-data-[collapsible=icon]:w-[--sidebar-width-icon]",
        )}
      />
      <div
        className={cn(
          "fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",
          side === "left"
            ? "left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]"
            : "right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",
          // Adjust the padding for floating and inset variants.
          variant === "floating" || variant === "inset"
            ? "p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]"
            : "group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",
          className,
        )}
        {...props}
      >
        <div
          data-sidebar="sidebar"
          className="flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow"
        >
          {children}
        </div>
      </div>
    </div>
  );
});
Sidebar.displayName = "Sidebar";

const SidebarTrigger = React.forwardRef<React.ElementRef<typeof Button>, React.ComponentProps<typeof Button>>(
  ({ className, onClick, ...props }, ref) => {
    const { toggleSidebar } = useSidebar();

    return (
      <Button
        ref={ref}
        data-sidebar="trigger"
        variant="ghost"
        size="icon"
        className={cn("h-7 w-7", className)}
        onClick={(event) => {
          onClick?.(event);
          toggleSidebar();
        }}
        {...props}
      >
        <PanelLeft />
        <span className="sr-only">Toggle Sidebar</span>
      </Button>
    );
  },
);
SidebarTrigger.displayName = "SidebarTrigger";

const SidebarRail = React.forwardRef<HTMLButtonElement, React.ComponentProps<"button">>(
  ({ className, ...props }, ref) => {
    const { toggleSidebar } = useSidebar();

    return (
      <button
        ref={ref}
        data-sidebar="rail"
        aria-label="Toggle Sidebar"
        tabIndex={-1}
        onClick={toggleSidebar}
        title="Toggle Sidebar"
        className={cn(
          "absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex",
          "[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize",
          "[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize",
          "group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar",
          "[[data-side=left][data-collapsible=offcanvas]_&]:-right-2",
          "[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",
          className,
        )}
        {...props}
      />
    );
  },
);
SidebarRail.displayName = "SidebarRail";

const SidebarInset = React.forwardRef<HTMLDivElement, React.ComponentProps<"main">>(({ className, ...props }, ref) => {
  return (
    <main
      ref={ref}
      className={cn(
        "relative flex min-h-svh flex-1 flex-col bg-background",
        "peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",
        className,
      )}
      {...props}
    />
  );
});
SidebarInset.displayName = "SidebarInset";

const SidebarInput = React.forwardRef<React.ElementRef<typeof Input>, React.ComponentProps<typeof Input>>(
  ({ className, ...props }, ref) => {
    return (
      <Input
        ref={ref}
        data-sidebar="input"
        className={cn(
          "h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",
          className,
        )}
        {...props}
      />
    );
  },
);
SidebarInput.displayName = "SidebarInput";

const SidebarHeader = React.forwardRef<HTMLDivElement, React.ComponentProps<"div">>(({ className, ...props }, ref) => {
  return <div ref={ref} data-sidebar="header" className={cn("flex flex-col gap-2 p-2", className)} {...props} />;
});
SidebarHeader.displayName = "SidebarHeader";

const SidebarFooter = React.forwardRef<HTMLDivElement, React.ComponentProps<"div">>(({ className, ...props }, ref) => {
  return <div ref={ref} data-sidebar="footer" className={cn("flex flex-col gap-2 p-2", className)} {...props} />;
});
SidebarFooter.displayName = "SidebarFooter";

const SidebarSeparator = React.forwardRef<React.ElementRef<typeof Separator>, React.ComponentProps<typeof Separator>>(
  ({ className, ...props }, ref) => {
    return (
      <Separator
        ref={ref}
        data-sidebar="separator"
        className={cn("mx-2 w-auto bg-sidebar-border", className)}
        {...props}
      />
    );
  },
);
SidebarSeparator.displayName = "SidebarSeparator";

const SidebarContent = React.forwardRef<HTMLDivElement, React.ComponentProps<"div">>(({ className, ...props }, ref) => {
  return (
    <div
      ref={ref}
      data-sidebar="content"
      className={cn(
        "flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",
        className,
      )}
      {...props}
    />
  );
});
SidebarContent.displayName = "SidebarContent";

const SidebarGroup = React.forwardRef<HTMLDivElement, React.ComponentProps<"div">>(({ className, ...props }, ref) => {
  return (
    <div
      ref={ref}
      data-sidebar="group"
      className={cn("relative flex w-full min-w-0 flex-col p-2", className)}
      {...props}
    />
  );
});
SidebarGroup.displayName = "SidebarGroup";

const SidebarGroupLabel = React.forwardRef<HTMLDivElement, React.ComponentProps<"div"> & { asChild?: boolean }>(
  ({ className, asChild = false, ...props }, ref) => {
    const Comp = asChild ? Slot : "div";

    return (
      <Comp
        ref={ref}
        data-sidebar="group-label"
        className={cn(
          "flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
          "group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",
          className,
        )}
        {...props}
      />
    );
  },
);
SidebarGroupLabel.displayName = "SidebarGroupLabel";

const SidebarGroupAction = React.forwardRef<HTMLButtonElement, React.ComponentProps<"button"> & { asChild?: boolean }>(
  ({ className, asChild = false, ...props }, ref) => {
    const Comp = asChild ? Slot : "button";

    return (
      <Comp
        ref={ref}
        data-sidebar="group-action"
        className={cn(
          "absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
          // Increases the hit area of the button on mobile.
          "after:absolute after:-inset-2 after:md:hidden",
          "group-data-[collapsible=icon]:hidden",
          className,
        )}
        {...props}
      />
    );
  },
);
SidebarGroupAction.displayName = "SidebarGroupAction";

const SidebarGroupContent = React.forwardRef<HTMLDivElement, React.ComponentProps<"div">>(
  ({ className, ...props }, ref) => (
    <div ref={ref} data-sidebar="group-content" className={cn("w-full text-sm", className)} {...props} />
  ),
);
SidebarGroupContent.displayName = "SidebarGroupContent";

const SidebarMenu = React.forwardRef<HTMLUListElement, React.ComponentProps<"ul">>(({ className, ...props }, ref) => (
  <ul ref={ref} data-sidebar="menu" className={cn("flex w-full min-w-0 flex-col gap-1", className)} {...props} />
));
SidebarMenu.displayName = "SidebarMenu";

const SidebarMenuItem = React.forwardRef<HTMLLIElement, React.ComponentProps<"li">>(({ className, ...props }, ref) => (
  <li ref={ref} data-sidebar="menu-item" className={cn("group/menu-item relative", className)} {...props} />
));
SidebarMenuItem.displayName = "SidebarMenuItem";

const sidebarMenuButtonVariants = cva(
  "peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",
  {
    variants: {
      variant: {
        default: "hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",
        outline:
          "bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]",
      },
      size: {
        default: "h-8 text-sm",
        sm: "h-7 text-xs",
        lg: "h-12 text-sm group-data-[collapsible=icon]:!p-0",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  },
);

const SidebarMenuButton = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<"button"> & {
    asChild?: boolean;
    isActive?: boolean;
    tooltip?: string | React.ComponentProps<typeof TooltipContent>;
  } & VariantProps<typeof sidebarMenuButtonVariants>
>(({ asChild = false, isActive = false, variant = "default", size = "default", tooltip, className, ...props }, ref) => {
  const Comp = asChild ? Slot : "button";
  const { isMobile, state } = useSidebar();

  const button = (
    <Comp
      ref={ref}
      data-sidebar="menu-button"
      data-size={size}
      data-active={isActive}
      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}
      {...props}
    />
  );

  if (!tooltip) {
    return button;
  }

  if (typeof tooltip === "string") {
    tooltip = {
      children: tooltip,
    };
  }

  return (
    <Tooltip>
      <TooltipTrigger asChild>{button}</TooltipTrigger>
      <TooltipContent side="right" align="center" hidden={state !== "collapsed" || isMobile} {...tooltip} />
    </Tooltip>
  );
});
SidebarMenuButton.displayName = "SidebarMenuButton";

const SidebarMenuAction = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<"button"> & {
    asChild?: boolean;
    showOnHover?: boolean;
  }
>(({ className, asChild = false, showOnHover = false, ...props }, ref) => {
  const Comp = asChild ? Slot : "button";

  return (
    <Comp
      ref={ref}
      data-sidebar="menu-action"
      className={cn(
        "absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        // Increases the hit area of the button on mobile.
        "after:absolute after:-inset-2 after:md:hidden",
        "peer-data-[size=sm]/menu-button:top-1",
        "peer-data-[size=default]/menu-button:top-1.5",
        "peer-data-[size=lg]/menu-button:top-2.5",
        "group-data-[collapsible=icon]:hidden",
        showOnHover &&
          "group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",
        className,
      )}
      {...props}
    />
  );
});
SidebarMenuAction.displayName = "SidebarMenuAction";

const SidebarMenuBadge = React.forwardRef<HTMLDivElement, React.ComponentProps<"div">>(
  ({ className, ...props }, ref) => (
    <div
      ref={ref}
      data-sidebar="menu-badge"
      className={cn(
        "pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground",
        "peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground",
        "peer-data-[size=sm]/menu-button:top-1",
        "peer-data-[size=default]/menu-button:top-1.5",
        "peer-data-[size=lg]/menu-button:top-2.5",
        "group-data-[collapsible=icon]:hidden",
        className,
      )}
      {...props}
    />
  ),
);
SidebarMenuBadge.displayName = "SidebarMenuBadge";

const SidebarMenuSkeleton = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> & {
    showIcon?: boolean;
  }
>(({ className, showIcon = false, ...props }, ref) => {
  // Random width between 50 to 90%.
  const width = React.useMemo(() => {
    return `${Math.floor(Math.random() * 40) + 50}%`;
  }, []);

  return (
    <div
      ref={ref}
      data-sidebar="menu-skeleton"
      className={cn("flex h-8 items-center gap-2 rounded-md px-2", className)}
      {...props}
    >
      {showIcon && <Skeleton className="size-4 rounded-md" data-sidebar="menu-skeleton-icon" />}
      <Skeleton
        className="h-4 max-w-[--skeleton-width] flex-1"
        data-sidebar="menu-skeleton-text"
        style={
          {
            "--skeleton-width": width,
          } as React.CSSProperties
        }
      />
    </div>
  );
});
SidebarMenuSkeleton.displayName = "SidebarMenuSkeleton";

const SidebarMenuSub = React.forwardRef<HTMLUListElement, React.ComponentProps<"ul">>(
  ({ className, ...props }, ref) => (
    <ul
      ref={ref}
      data-sidebar="menu-sub"
      className={cn(
        "mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5",
        "group-data-[collapsible=icon]:hidden",
        className,
      )}
      {...props}
    />
  ),
);
SidebarMenuSub.displayName = "SidebarMenuSub";

const SidebarMenuSubItem = React.forwardRef<HTMLLIElement, React.ComponentProps<"li">>(({ ...props }, ref) => (
  <li ref={ref} {...props} />
));
SidebarMenuSubItem.displayName = "SidebarMenuSubItem";

const SidebarMenuSubButton = React.forwardRef<
  HTMLAnchorElement,
  React.ComponentProps<"a"> & {
    asChild?: boolean;
    size?: "sm" | "md";
    isActive?: boolean;
  }
>(({ asChild = false, size = "md", isActive, className, ...props }, ref) => {
  const Comp = asChild ? Slot : "a";

  return (
    <Comp
      ref={ref}
      data-sidebar="menu-sub-button"
      data-size={size}
      data-active={isActive}
      className={cn(
        "flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground",
        "data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",
        size === "sm" && "text-xs",
        size === "md" && "text-sm",
        "group-data-[collapsible=icon]:hidden",
        className,
      )}
      {...props}
    />
  );
});
SidebarMenuSubButton.displayName = "SidebarMenuSubButton";

export {
  Sidebar,
  SidebarContent,
  SidebarFooter,
  SidebarGroup,
  SidebarGroupAction,
  SidebarGroupContent,
  SidebarGroupLabel,
  SidebarHeader,
  SidebarInput,
  SidebarInset,
  SidebarMenu,
  SidebarMenuAction,
  SidebarMenuBadge,
  SidebarMenuButton,
  SidebarMenuItem,
  SidebarMenuSkeleton,
  SidebarMenuSub,
  SidebarMenuSubButton,
  SidebarMenuSubItem,
  SidebarProvider,
  SidebarRail,
  SidebarSeparator,
  SidebarTrigger,
  useSidebar,
};

```

---

## frontend/src/components/ui/skeleton.tsx

```tsx
import { cn } from "@/lib/utils";

function Skeleton({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) {
  return <div className={cn("animate-pulse rounded-md bg-muted", className)} {...props} />;
}

export { Skeleton };

```

---

## frontend/src/components/ui/slider.tsx

```tsx
import * as React from "react";
import * as SliderPrimitive from "@radix-ui/react-slider";

import { cn } from "@/lib/utils";

const Slider = React.forwardRef<
  React.ElementRef<typeof SliderPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>
>(({ className, ...props }, ref) => (
  <SliderPrimitive.Root
    ref={ref}
    className={cn("relative flex w-full touch-none select-none items-center", className)}
    {...props}
  >
    <SliderPrimitive.Track className="relative h-2 w-full grow overflow-hidden rounded-full bg-secondary">
      <SliderPrimitive.Range className="absolute h-full bg-primary" />
    </SliderPrimitive.Track>
    <SliderPrimitive.Thumb className="block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50" />
  </SliderPrimitive.Root>
));
Slider.displayName = SliderPrimitive.Root.displayName;

export { Slider };

```

---

## frontend/src/components/ui/sonner.tsx

```tsx
import { useTheme } from "next-themes";
import { Toaster as Sonner, toast } from "sonner";

type ToasterProps = React.ComponentProps<typeof Sonner>;

const Toaster = ({ ...props }: ToasterProps) => {
  const { theme = "system" } = useTheme();

  return (
    <Sonner
      theme={theme as ToasterProps["theme"]}
      className="toaster group"
      toastOptions={{
        classNames: {
          toast:
            "group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",
          description: "group-[.toast]:text-muted-foreground",
          actionButton: "group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",
          cancelButton: "group-[.toast]:bg-muted group-[.toast]:text-muted-foreground",
        },
      }}
      {...props}
    />
  );
};

export { Toaster, toast };

```

---

## frontend/src/components/ui/switch.tsx

```tsx
import * as React from "react";
import * as SwitchPrimitives from "@radix-ui/react-switch";

import { cn } from "@/lib/utils";

const Switch = React.forwardRef<
  React.ElementRef<typeof SwitchPrimitives.Root>,
  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>
>(({ className, ...props }, ref) => (
  <SwitchPrimitives.Root
    className={cn(
      "peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",
      className,
    )}
    {...props}
    ref={ref}
  >
    <SwitchPrimitives.Thumb
      className={cn(
        "pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0",
      )}
    />
  </SwitchPrimitives.Root>
));
Switch.displayName = SwitchPrimitives.Root.displayName;

export { Switch };

```
